(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ApiKey-f71cff67"],{"03ff":function(e,t,a){},"130a":function(e,t,a){},"1cad":function(e,t,a){},"1d03":function(e,t,a){},"1d05":function(e,t,a){"use strict";a("1cad")},"23e1":function(e,t,a){"use strict";a("2629")},2629:function(e,t,a){},"38e1":function(e,t,a){"use strict";a("1d03")},"402e":function(e,t,a){"use strict";a("03ff")},"48d0":function(e,t,a){"use strict";a("130a")},"623e":function(e,t,a){},"965e":function(e,t,a){"use strict";a("623e")},b5d2:function(e,t,a){e.exports=a.p+"static/img/share.a1ccfbdf.svg"},b7a3:function(e,t,a){"use strict";a.r(t);a("0643"),a("fffc");var c=a("7a23"),l=a("e506"),o=a.n(l),r=a("9ca6"),i=(a("a573"),a("9a9a"),a("3ef4")),n=a("c9a1"),s=a("4360"),d=a("9316"),u=a("6605");const b={class:"tg-wallet-container"},m={key:0,class:"tg-wallet-list"},p={class:"tg-wallet-list_content"},h={style:{padding:"15px 20px"}},O={class:"flex-center mt-30 flex-col"},j={class:"text-12px",style:{display:"flex","align-items":"center","word-break":"break-all","line-height":"1.2",padding:"20px 20px 40px",color:"var(--a-text-4-color)"}},v={key:0,class:"iconfont icon-copy ml-5",style:{"font-size":"16px",cursor:"pointer"}},f={key:1,class:"tg-wallet-list"},g={style:{padding:"15px 20px 40px"}},y={class:"color-text-1"},w={class:"text-12px color-text-2 text-right",style:{width:"100%","line-height":"1","margin-top":"5px",position:"absolute",right:"0",top:"100%"}};function C(e,t,a,l,o,r){const i=Object(c["resolveComponent"])("el-input"),n=Object(c["resolveComponent"])("el-form-item"),s=Object(c["resolveComponent"])("el-button"),d=Object(c["resolveComponent"])("el-form"),u=Object(c["resolveComponent"])("double-check"),C=Object(c["resolveComponent"])("el-dialog"),N=Object(c["resolveDirective"])("copy");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["createVNode"])(C,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>o.dialogVisible=e),title:1===o.dialogType?e.$t("deposit"):e.$t("withdraw"),width:"400px","close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",b,[1===o.dialogType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",m,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",O,[t[9]||(t[9]=Object(c["createElementVNode"])("canvas",{id:"qr-chain-canvas"},null,-1)),Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.currentAddress),1),o.currentAddress?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("i",v,null,512)),[[N,o.currentAddress]]):Object(c["createCommentVNode"])("",!0)])])])])])):Object(c["createCommentVNode"])("",!0),2===o.dialogType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,[Object(c["createVNode"])(d,{ref:"withdrawForm",model:o.withdrawForm,rules:r.rules,"hide-required-asterisk":"",class:"tg-wallet-list_content",size:"large",onSubmit:Object(c["withModifiers"])(r.handleWithdraw,["prevent"])},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",g,[Object(c["createVNode"])(n,{label:e.$t("plsEnterAmount"),"label-position":"top",prop:"amount"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{style:{background:"var(--custom-bg-9-color)","--el-input-bg-color":"var(--custom-bg-9-color)","--el-input-border-color":"var(--custom-bg-9-color)","border-radius":"4px","--el-input-height":"48px"},modelValue:o.withdrawForm.amount,"onUpdate:modelValue":t[0]||(t[0]=e=>o.withdrawForm.amount=e),inputmode:"decimal",onInput:t[1]||(t[1]=e=>o.withdrawForm.amount=e.replace(/\-|[^\d.]/g,"")),clearable:"",placeholder:"0.00"},{suffix:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",y,Object(c["toDisplayString"])(r.getChainMainName()),1)]),_:1},8,["modelValue"]),Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("span",{class:"clickable",onClick:t[2]||(t[2]=Object(c["withModifiers"])((...e)=>r.handleMax&&r.handleMax(...e),["stop"]))},Object(c["toDisplayString"])(e.$t("balance1"))+": "+Object(c["toDisplayString"])(r.formatBalance())+" "+Object(c["toDisplayString"])(r.getChainMainName()),1)])]),_:1},8,["label"]),Object(c["createVNode"])(n,{label:e.$t("plsEnterAddress"),"label-position":"top",prop:"address"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{style:{background:"var(--custom-bg-9-color)","--el-input-bg-color":"var(--custom-bg-9-color)","--el-input-border-color":"var(--custom-bg-9-color)","border-radius":"4px","--el-input-height":"48px"},modelValue:o.withdrawForm.address,"onUpdate:modelValue":t[3]||(t[3]=e=>o.withdrawForm.address=e),clearable:"",placeholder:""},null,8,["modelValue"])]),_:1},8,["label"]),"ton"===o.currentChain?(Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:0,label:"memo","label-position":"top",prop:"memo"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{style:{background:"var(--custom-bg-9-color)","--el-input-bg-color":"var(--custom-bg-9-color)","--el-input-border-color":"var(--custom-bg-9-color)","border-radius":"4px","--el-input-height":"48px"},modelValue:o.withdrawForm.memo,"onUpdate:modelValue":t[4]||(t[4]=e=>o.withdrawForm.memo=e),clearable:"",placeholder:""},null,8,["modelValue"])]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(s,{"native-type":"submit",style:{width:"100%","margin-top":"5px"},size:"large",color:"dark"===e.$store.state.mode?"#f5f5f5":"#333333",loading:o.loadingWithdraw},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("withdraw")),1)]),_:1},8,["color","loading"])])]),_:1},8,["model","rules","onSubmit"])])):Object(c["createCommentVNode"])("",!0),4===o.showVisible?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:2,onAction:r.handleWithdraw2,"onUpdate:showVisible":t[5]||(t[5]=e=>o.showVisible=e),"onUpdate:emailCode":t[6]||(t[6]=e=>o.emailCode=e),"onUpdate:authCode":t[7]||(t[7]=e=>o.authCode=e),visible:o.dialogVisible},null,8,["onAction","visible"])):Object(c["createCommentVNode"])("",!0)])]),_:1},8,["modelValue","title"])])}a("d9e2");var N=a("c2ed"),V=a("901e"),k=a.n(V),x=a("086f"),E=a("7f08"),$=a("1633"),B=a("c9d9"),S=a("6779"),A=a("2ef0"),T={name:"RechargeWithdrawal",components:{DoubleCheck:N["a"]},data(){return{dialogVisible:!1,dialogType:1,currentRow:null,currentChain:"",currentAddress:"",currentBalance:"0",emailCode:"",authCode:"",showVisible:0,withdrawForm:{amount:"",address:"",memo:""},loadingWithdraw:!1,gasFeeObj:{solana:1e6,eth:599999906814e3,bsc:21e12,base:452549454e3},chainMainNames:{eth:"ETH",bsc:"BNB",polygon:"MATIC",arbitrum:"ETH",optimism:"ETH",base:"ETH",solana:"SOL",ton:"TON",tron:"TRX"}}},computed:{rules(){return{amount:[{required:!0,message:this.$t("plsEnterAmount"),trigger:"blur"},{validator:(e,t,a)=>t?new k.a(t).gt(this.currentBalance)?a(new Error(this.$t("insufficientBalance2"))):void a():a(new Error(this.$t("plsEnterAmount"))),trigger:"blur"}],address:[{required:!0,message:this.$t("plsEnterAddress"),trigger:"blur"},{validator:(e,t,a)=>t?Object(E["isValidAddress"])(t,this.currentChain)?void a():a(new Error(this.$t("pleaseEnterCorrectAddress"))):a(new Error(this.$t("plsEnterAddress"))),trigger:"blur"}]}}},watch:{dialogVisible(e){e||(this.showVisible=0,this.emailCode="",this.authCode="")}},methods:{openDialog(e,t,a){this.dialogType=e,this.currentRow=t;let c="",l="";if("string"===typeof a?c=a:a&&"object"===typeof a&&(c=a.chain||"",l=a.address||""),this.currentChain=c,l)if(this.currentAddress=l,t&&t.addressList){const e=t.addressList.find(e=>e.chain===c&&e.address.toLowerCase()===l.toLowerCase());this.currentBalance=e&&e.balance||"0"}else this.currentBalance="0";else if(t&&t.addressList){const e=t.addressList.find(e=>e.chain===c);e?(this.currentAddress=e.address,this.currentBalance=e.balance||"0"):(this.currentAddress="",this.currentBalance="0")}else this.currentAddress="",this.currentBalance="0";this.withdrawForm={amount:"",address:"",memo:""},this.dialogVisible=!0,1===e?this.$nextTick(()=>{this.setChainQr()}):2===e&&(this.$nextTick(()=>{this.$refs.withdrawForm&&this.$refs.withdrawForm.resetFields()}),this.bot_getTransferGasFee(),this.fetchLatestBalance())},async setChainQr(){if(!this.currentAddress)return;let e=document.getElementById("qr-chain-canvas");if(e)try{await x["a"].toCanvas({canvas:e,content:this.currentAddress,width:180,logo:{src:`${this.$store.state.s3BaseUrl}chain/${this.currentChain}.png`,logoSize:.2},nodeQrCodeOptions:{margin:1,color:{dark:"dark"===this.$store.state.mode?"#FFFFFF":"#000000",light:"#0000"}}})}catch(t){}},getChainMainName(){return this.currentChain&&"string"===typeof this.currentChain?this.chainMainNames[this.currentChain.toLowerCase()]||this.currentChain.toUpperCase():""},formatBalance(){var e,t;return(null===(e=this.$f)||void 0===e||null===(t=e.formatNumberS)||void 0===t?void 0:t.call(e,this.currentBalance||0,5))||this.currentBalance||"0"},handleWithdraw(){this.$refs.withdrawForm&&this.$refs.withdrawForm.validate(e=>{if(!e)return!1;{let e=18;"solana"===this.currentChain&&(e=9);let t=new k.a(this.gasFeeObj[this.currentChain]||0).div(10**e).plus(this.withdrawForm.amount||0);"solana"===this.currentChain&&(t=t.plus("0.002"));let a=new k.a(this.currentBalance||0);if(a.lt(t))return void this.$message.error(this.$t("transferInsufficientBalance",{s:this.getChainMainName()}));this.showVisible=4}})},handleWithdraw2(){this.$refs.withdrawForm&&this.$refs.withdrawForm.validate(e=>{if(e){var t,a,c,l,o;let e={solana:"sol",ton:"TON"},r=18;"solana"===this.currentChain&&(r=9);let i=new k.a(this.withdrawForm.amount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${r}})?`))[0];if((Number(i)||0)<=0)return void this.$notify({title:"错误",type:"error",message:this.$t("withdrawAmountTooSmall")});if((null===(t=this.currentAddress)||void 0===t||null===(a=t.toLowerCase)||void 0===a?void 0:a.call(t))===(null===(c=this.withdrawForm)||void 0===c||null===(c=c.address)||void 0===c||null===(l=c.toLowerCase)||void 0===l?void 0:l.call(c)))return void this.$notify({title:"错误",type:"error",message:this.$t("withdrawToSelf")});let n={batchId:Date.now().toString(),chain:this.currentChain,creatorAddress:this.currentAddress,tokenAddress:e[this.currentChain]||B["i"],tgUid:null===(o=this.$store.state.bot)||void 0===o||null===(o=o.userInfo)||void 0===o?void 0:o.tgUid,amount:S["utils"].parseUnits(i||0,r).toString(),transferTo:this.withdrawForm.address,memo:this.withdrawForm.memo||"",emailCode:this.emailCode,authCode:this.authCode,source:"web"};this.$confirm(this.$t("confirmWithdraw",{amount:i,address:this.withdrawForm.address,symbol:this.getChainMainName()}),this.$t("tips"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel")}).then(()=>{this.loadingWithdraw=!0,Object($["h"])(n).then(e=>{if(e){let e=setTimeout(()=>{this.$notify({title:"成功",type:"success",message:this.$t("withdrawSubmitted")})},500);this.dialogVisible=!1,this.loadingWithdraw=!1;let t=this.$watch("$store.state.bot.subscribeResult",a=>{let c=a.batchId;c===n.batchId&&(e&&(clearTimeout(e),e=null),null!==a&&void 0!==a&&a.success?(this.$notify({title:"成功",type:"success",message:this.$t("withdrawSuccess")}),t(),this.$emit("refresh")):(this.$notify({title:"错误",type:"error",message:this.$f.formatBotError(a.failMessage)||"提款失败"}),t()))})}}).catch(e=>{this.emailCode="",this.authCode="",this.$f.handleBotError(e||"提款失败"),this.loadingWithdraw=!1})}).catch(()=>{})}})},bot_getTransferGasFee:Object(A["throttle"])((function(){if(!this.currentChain)return Promise.resolve(0);let e=this.currentChain;return Object($["v"])({chain:e}).then(async t=>(this.gasFeeObj[e]=t,t)).catch(e=>0)}),500,{leading:!0,trailing:!0}),async handleMax(){if(!this.currentChain)return;let e=18;if("solana"===this.currentChain&&(e=9),!this.gasFeeObj[this.currentChain])try{await this.bot_getTransferGasFee()}catch(l){}let t=new k.a(this.gasFeeObj[this.currentChain]||0).div(10**e);"solana"===this.currentChain&&(t=t.plus("0.002"));let a=new k.a(this.currentBalance||0);if(a.lte(t))return void this.$message.error(this.$t("transferInsufficientBalance",{s:this.getChainMainName()}));let c=a.minus(t).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0];this.withdrawForm.amount=c,this.$refs.withdrawForm&&this.$refs.withdrawForm.validateField("amount")},fetchLatestBalance(){this.currentChain&&this.currentAddress&&Object($["t"])({chain:this.currentChain,walletAddress:this.currentAddress,tokens:["solana"===this.currentChain?"sol":B["i"]]}).then(e=>{if(e&&Array.isArray(e)&&e.length>0){const t=e[0];if(t&&"undefined"!==typeof t.balance){let e=new k.a(t.balance).div(new k.a(10).pow(t.decimals)).toString();this.currentBalance=e}}}).catch(e=>{})}}},D=(a("38e1"),a("6b0d")),_=a.n(D);const K=_()(T,[["render",C],["__scopeId","data-v-5bdd2d04"]]);var F=K,z=a("bc3a"),L=a.n(z),I=a("261f"),P=a("fa7d"),M=a("852e"),U=a.n(M);let W=Object(I["b"])()+"/botapi";const R=L.a.create({baseURL:W,timeout:8e4});R.interceptors.request.use(async e=>{var t,a;let c=Object(I["b"])()+"/botapi";c&&e.baseURL!==c&&(e.baseURL=c),s["a"].state.bot.refreshing&&await new Promise(e=>setTimeout(e,2e3));const l=localStorage.language||U.a.get("language")||"en";if(e.headers.lang="zh-cn"==l||"zh-tw"==l?"cn":"en",e.headers["lang-zone"]=l,null!==e&&void 0!==e&&null!==(t=e.url)&&void 0!==t&&t.includes("refreshNewToken")&&s["a"].state.bot.refreshToken)e.headers.Authorization="Bearer "+s["a"].state.bot.refreshToken;else if(null===e||void 0===e||null===(a=e.url)||void 0===a||!a.includes("login")){var o;const t=(null===(o=s["a"].state.bot)||void 0===o?void 0:o.accessToken)||s["a"].state.accessToken;t&&(e.headers.Authorization="Bearer "+t)}return e},e=>Promise.reject(e)),R.interceptors.response.use(e=>{const t=e.data;if(0===(null===t||void 0===t?void 0:t.status))return s["a"].state.bot.botReqCount=0,null===t||void 0===t?void 0:t.data;{var a;let e=(null===t||void 0===t?void 0:t.msg)||"error";return Object(P["o"])(e)&&(e=JSON.parse(e)),Promise.reject((null===(a=e)||void 0===a?void 0:a.msg)||e||"error")}},async e=>{if(e.response&&e.response.status&&401===e.response.status){var t,a,c;const l=(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.url)||"";if(!s["a"].state.bot.refreshToken||null!==l&&void 0!==l&&l.includes("refreshNewToken")&&"ref"===(null===e||void 0===e||null===(a=e.config.params)||void 0===a?void 0:a.type))return s["a"].dispatch("bot_logout",!0),!1;let o=null!==e&&void 0!==e&&null!==(c=e.config)&&void 0!==c&&null!==(c=c.url)&&void 0!==c&&c.includes("refreshNewToken")?"ref":"acc";return await s["a"].dispatch("bot_refreshAccessToken",o),e.config.headers["Authorization"]="Bearer "+s["a"].state.bot.accessToken,R(e.config).catch(async()=>("ref"===o&&s["a"].dispatch("bot_logout",!0),!1))}return Promise.reject(e)});var H=R;function q(){return H({method:"get",url:"/user/getThirdApiWalletList"})}function G(e){return H({method:"post",url:"/user/createThirdApiWallet",data:{assetsName:e.apiKeyName,orgId:e.orgId}})}function Y(e){return H({method:"post",url:"/user/deactivateThirdApiKey",data:{assetsId:e}})}function J(e){return H({method:"post",url:"/user/activateThirdApiKey",data:{assetsId:e}})}function Q(e,t){return H({method:"post",url:"/user/updateThirdApikeyName",data:{assetsId:e,assetsName:t}})}function X(e){return H({method:"post",url:"/user/deleteThirdApiWallet",data:{assetsId:e}})}function Z(){return H({method:"post",url:"/user/getOrgList",data:{IsBoundFilter:!1}})}function ee(e,t){return H({method:"get",url:"/swap/getAddressProfit",params:{chain:e,walletAddress:t}})}function te(e,t,a={}){return H({method:"get",url:"/swap/getAddressSuccessTxs",params:{chain:e,walletAddress:t,pageNo:a.pageNo||0,pageSize:a.pageSize||10}})}const ae={key:0,class:"table-empty"},ce=["src"],le={key:0,style:{display:"flex","flex-direction":"column"}},oe={key:1},re={key:1},ie=["onClick"],ne=["onClick"],se=["onClick"],de=["onClick"];var ue={__name:"apiTable",emits:["detail"],setup(e,{expose:t,emit:l}){Object(u["d"])();const{t:o}=Object(r["b"])(),b=Object(c["ref"])([]),m=Object(c["ref"])(!1),p=Object(c["ref"])(),h=async()=>{var e;m.value=!0;const t=(null===(e=s["a"].state.bot)||void 0===e?void 0:e.accessToken)||s["a"].state.accessToken;if(!t)return b.value=[],void(m.value=!1);try{const e=await q();e&&Array.isArray(e)?b.value=e.map(e=>({id:e.guid,name:e.assetsName,apiKey:e.assetsId,fullApiKey:e.assetsId,created:e.createTime,status:"enabled"===e.status?"Active":"Deactivated",orgGuid:e.orgGuid,subEvmAddress:e.subEvmAddress,fullSubEvmAddress:e.subEvmAddress,addressList:e.addressList,orgName:e.orgName})):b.value=[]}catch(a){i["a"].error(o("failedToFetchData")),b.value=[]}finally{m.value=!1}};Object(c["watch"])(()=>{var e;return null===(e=s["a"].state.bot)||void 0===e?void 0:e.accessToken},(e,t)=>{e!==t&&h()},{immediate:!0}),Object(c["onMounted"])(()=>{h()});Object(c["computed"])(()=>b.value.some(e=>"Active"===e.status));function O(e){if(!e||e.length<=8)return e;const t=e.substring(0,4),a=e.substring(e.length-4),c=e.length-8,l="*".repeat(Math.min(c,6));return`${t}${l}${a}`}function j(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return e;const a=t.getFullYear(),c=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),i=String(t.getSeconds()).padStart(2,"0");return`${a}-${c}-${l} ${o}:${r}:${i}`}catch(t){return e}}const v=e=>{navigator.clipboard.writeText(e).then(()=>{i["a"].success(o("copySuccess"))}).catch(()=>{i["a"].error(o("copyFailed"))})},f=e=>{x("detail",e)},g=async e=>{try{await n["a"].confirm(o("deactivateApiKeyConfirmation",{name:e.name}),o("deactivateConfirmationTitle"),{confirmButtonText:o("confirm"),showCancelButton:!1,distinguishCancelAndClose:!0,confirmButtonClass:"confirm-button-custom-class"}),m.value=!0,await Y(e.apiKey),i["a"].success(o("deactivateApiKeySuccess")),h()}catch(t){}finally{m.value=!1}},y=async e=>{try{await n["a"].confirm(o("activateApiKeyConfirmation",{name:e.name}),o("activateConfirmationTitle"),{confirmButtonText:o("confirm"),showCancelButton:!1,distinguishCancelAndClose:!0,confirmButtonClass:"confirm-button-custom-class"}),m.value=!0,await J(e.apiKey),i["a"].success(o("activateApiKeySuccess")),h()}catch(t){}finally{m.value=!1}},w=async e=>{try{const{value:t}=await n["a"].prompt(o("renameApiKeyNameTips"),o("renameApiKeyTitle"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),inputValue:e.name,showCancelButton:!1,distinguishCancelAndClose:!0,confirmButtonClass:"confirm-button-custom-class",cancelButtonClass:"cancel-button-custom-class",customClass:"rename-dialog-custom",inputPlaceholder:o("enterApiKeyName"),inputValidator:e=>{if(!e.trim())return o("apiKeyNameCannotBeEmpty");if(e.trim().length>20)return o("apiKeyNameTooLong");const t=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/;return!t.test(e.trim())||o("apiKeyNameContainsSpecialChars")}});t&&t.trim()!==e.name&&(m.value=!0,await Q(e.apiKey,t.trim()),i["a"].success(o("renameApiKeySuccess")),h())}catch(t){i["a"].error(t)}finally{m.value=!1}},C=async e=>{if("Active"!==e.status)try{await n["a"].confirm(o("deleteApiKeyConfirmation",{name:e.name}),o("deleteConfirmationTitle"),{confirmButtonText:o("confirm"),showCancelButton:!1,cancelButtonText:"",distinguishCancelAndClose:!0,confirmButtonClass:"confirm-button-custom-class",cancelButtonClass:"cancel-button-custom-class",customClass:"delete-dialog-custom"}),m.value=!0,await X(e.apiKey),i["a"].success(o("deleteApiKeySuccess")),h()}catch(t){}finally{m.value=!1}else i["a"].error("请先停用")},N=(e,t)=>{switch(e){case"deactivate":g(t);break;case"activate":y(t);break;case"rename":w(t);break;case"detail":f(t);break;case"delete":C(t);break;default:break}},V=(e,t)=>{p.value.openDialog(1,e,t)},k=(e,t)=>{p.value.openDialog(2,e,t)},x=l;return t({fetchApiWalletList:h,tableData:b}),(e,t)=>{const l=Object(c["resolveComponent"])("el-button"),o=Object(c["resolveComponent"])("el-table-column"),r=Object(c["resolveComponent"])("el-tooltip"),i=Object(c["resolveComponent"])("el-icon"),n=Object(c["resolveComponent"])("el-dropdown-item"),u=Object(c["resolveComponent"])("el-dropdown-menu"),h=Object(c["resolveComponent"])("el-dropdown"),f=Object(c["resolveComponent"])("el-table"),g=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])(f,{data:b.value,class:"table-custom-class","header-row-class-name":"header-class-custom","header-cell-class-name":"header-class-custom","row-class-name":"row-class-custom"},{empty:Object(c["withCtx"])(()=>{var o;return[m.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",re)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ae,[Object(c["createElementVNode"])("img",{src:"light"===Object(c["unref"])(s["a"]).state.mode?a("b28f"):a("fab6")},null,8,ce),Object(c["unref"])(s["a"]).state.currentAccount||null!==(o=Object(c["unref"])(s["a"]).state.bot)&&void 0!==o&&null!==(o=o.userInfo)&&void 0!==o&&o.evmAddress?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",oe,Object(c["toDisplayString"])(e.$t("emptyNoData")),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",le,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.$t("noWalletTip")),1),""===Object(c["unref"])(s["a"]).state.wallet?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,style:{width:"100%","border-radius":"6px"},type:"primary",onClick:t[0]||(t[0]=Object(c["withModifiers"])(e=>{Object(c["unref"])(s["a"]).commit("changeConnectVisible",!0),Object(c["unref"])(s["a"]).commit("setIsShowImportAddress",!0)},["stop"]))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("connectWallet")),1)]),_:1})):Object(c["createCommentVNode"])("",!0)]))]))]}),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(o,{prop:"name",label:e.$t("apiKeyName")},null,8,["label"]),Object(c["createVNode"])(o,{prop:"apiKey",label:e.$t("apiKey")},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(O(e.apiKey)),1),Object(c["createElementVNode"])("i",{class:"iconfont icon-copy color-text-2 text-12px ml-3",onClick:t=>v(e.fullApiKey),style:{cursor:"pointer"}},null,8,ie)]),_:1},8,["label"]),Object(c["createVNode"])(o,{prop:"created",label:e.$t("apiKeyCreated")},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(j(e.created)),1)]),_:1},8,["label"]),Object(c["createVNode"])(o,{prop:"status",label:e.$t("apiKeyStatus")},{default:Object(c["withCtx"])(({row:t})=>[Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])("Active"===t.status?"status-active":"status-deactivated")},Object(c["toDisplayString"])("Active"===t.status?e.$t("apiKeyActive"):e.$t("apiKeyInactive")),3)]),_:1},8,["label"]),Object(c["createVNode"])(o,{prop:"orgName",label:e.$t("apiKeyDelegatees")},null,8,["label"]),Object(c["createVNode"])(o,{label:e.$t("apiKeyWalletAddress"),width:"240"},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createElementVNode"])("div",null,[e.addressList?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(e.addressList,(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t,class:"address-row"},[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.chain)+": "+Object(c["toDisplayString"])(O(e.address)),1),Object(c["createElementVNode"])("i",{class:"iconfont icon-copy color-text-2 text-12px ml-3",onClick:t=>v(e.address),style:{cursor:"pointer"}},null,8,ne)]))),128)):Object(c["createCommentVNode"])("",!0)])]),_:1},8,["label"]),Object(c["createVNode"])(o,{label:e.$t("apiKeyOption")},{default:Object(c["withCtx"])(({row:t})=>[Object(c["createElementVNode"])("div",null,[t.addressList?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(t.addressList,(a,l)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:l,class:"row-option-class"},[Object(c["createElementVNode"])("div",{onClick:e=>V(t,a)},Object(c["toDisplayString"])(e.$t("deposit")),9,se),Object(c["createVNode"])(r,{content:e.$t("deactivateKeyFirst"),placement:"top","show-arrow":!1,disabled:"Active"!==t.status,effect:"light"},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",{onClick:e=>"Active"!==t.status?k(t,a):null,class:Object(c["normalizeClass"])({"disabled-option":"Active"===t.status})},Object(c["toDisplayString"])(e.$t("withdraw")),11,de)]),_:2},1032,["content","disabled"])]))),128)):Object(c["createCommentVNode"])("",!0)])]),_:1},8,["label"]),Object(c["createVNode"])(o,{label:e.$t("more"),width:"70",align:"center"},{default:Object(c["withCtx"])(({row:t})=>[Object(c["createVNode"])(h,{onCommand:e=>N(e,t),trigger:"click"},{dropdown:Object(c["withCtx"])(()=>[Object(c["createVNode"])(u,{class:"custom-dropdown-menu"},{default:Object(c["withCtx"])(()=>["Active"===t.status?(Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:0,command:"deactivate"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("deactivateApiKey")),1)]),_:1})):Object(c["createCommentVNode"])("",!0),"Deactivated"===t.status?(Object(c["openBlock"])(),Object(c["createBlock"])(n,{key:1,command:"activate"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("activateApiKey")),1)]),_:1})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(n,{command:"rename"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("renameApiKey")),1)]),_:1}),Object(c["createVNode"])(n,{command:"detail"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("viewApiKey")),1)]),_:1}),Object(c["createVNode"])(n,{command:"delete"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("deleteApiKey")),1)]),_:1})]),_:2},1024)]),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(i,{style:{transform:"rotate(90deg)",cursor:"pointer"}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(d["a"]))]),_:1})]),_:2},1032,["onCommand"])]),_:1},8,["label"])]),_:1},8,["data"])),[[g,m.value]]),Object(c["createVNode"])(F,{ref_key:"rechargeWithdrawalRef",ref:p},null,512)])}}};a("48d0"),a("402e");const be=_()(ue,[["__scopeId","data-v-c4f3342e"]]);var me=be,pe=a("b5d2"),he=a.n(pe),Oe=a("5a0c"),je=a.n(Oe);const ve={class:"page-bg"},fe={key:0,class:"empty-state"},ge=["src"],ye={class:"overview-section"},we={class:"overview-item"},Ce={class:"overview-label"},Ne={class:"overview-item"},Ve={class:"overview-label"},ke={class:"overview-item"},xe={class:"overview-label"},Ee={class:"overview-item"},$e={class:"overview-label"},Be={class:"overview-value txns"},Se={class:"txns-buy"},Ae={class:"txns-sell"},Te={class:"table-container"},De={class:"token-container"},_e={class:"token-icon"},Ke=["src"],Fe={class:"token-info"},ze={class:"token-name"},Le={class:"token-contract"},Ie={class:"iconfont icon-copy text-16px ml-3"},Pe={class:"hash-container"},Me=["onClick"];var Ue={__name:"activityTable",setup(e,{expose:t}){const{t:l}=Object(r["b"])(),o=Object(c["ref"])({totalProfit:"0",realizedProfit:"0",unrealizedProfit:"0",buyCount:0,sellCount:0}),i=Object(c["ref"])([]),n=Object(c["ref"])(""),s=Object(c["ref"])(""),d=Object(c["ref"])(!1),u=Object(c["ref"])(1),b=Object(c["ref"])(10),m=Object(c["ref"])(0),p=e=>{let t;t="bsc"===n.value?"https://bscscan.com/tx/"+e:"https://solscan.io/tx/"+e,window.open(t,"_blank")};function h(e){if(!e||e.length<=8)return e;const t=e.substring(0,4),a=e.substring(e.length-4),c=e.length-8,l="*".repeat(Math.min(c,6));return`${t}${l}${a}`}const O=(e,t)=>{n.value=e,s.value=t,u.value=1,j(e,t)},j=async(e,t)=>{if(t&&e)try{const a=await ee(e,t);o.value={totalProfit:a.total,realizedProfit:a.realized,unrealizedProfit:a.unrealized,buyCount:a.buyCount,sellCount:a.sellCount},m.value=o.value.buyCount+o.value.sellCount,v()}catch(a){}},v=async()=>{if(s.value&&n.value){d.value=!0;try{const e=u.value-1,t=await te(n.value,s.value,{pageNo:e,pageSize:b.value});t&&t.list?i.value=t.list:Array.isArray(t)&&(i.value=t)}catch(e){}finally{d.value=!1}}},f=e=>{u.value=e,v()},g=e=>{b.value=e,u.value=1,v()},y=e=>e?je()(1e3*e).format("YYYY-MM-DD HH:mm:ss"):"";return t({apiKeyChange:O}),(e,t)=>{var l;const r=Object(c["resolveComponent"])("el-button"),n=Object(c["resolveComponent"])("el-table-column"),O=Object(c["resolveComponent"])("el-tooltip"),j=Object(c["resolveComponent"])("el-table"),v=Object(c["resolveComponent"])("el-pagination"),w=Object(c["resolveDirective"])("copy"),C=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ve,[d.value||s.value||e.$store.state.currentAccount||null!==(l=e.$store.state.bot)&&void 0!==l&&null!==(l=l.userInfo)&&void 0!==l&&l.evmAddress?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createElementVNode"])("div",ye,[Object(c["createElementVNode"])("div",we,[Object(c["createElementVNode"])("div",Ce,Object(c["toDisplayString"])(e.$t("apiKeyTotalProfit")),1),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["overview-value",Number(o.value.totalProfit)>0?"positive":Number(o.value.totalProfit)<0?"negative":""])},Object(c["toDisplayString"])(Number(o.value.totalProfit)>0?"+":Number(o.value.totalProfit)<0?"-":"")+"$"+Object(c["toDisplayString"])(Object(c["unref"])(E["formatNumberS"])(Math.abs(Number(o.value.totalProfit)),2)),3)]),Object(c["createElementVNode"])("div",Ne,[Object(c["createElementVNode"])("div",Ve,Object(c["toDisplayString"])(e.$t("apiKeyRealizedProfit")),1),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["overview-value",Number(o.value.realizedProfit)>0?"positive":Number(o.value.realizedProfit)<0?"negative":""])},Object(c["toDisplayString"])(Number(o.value.realizedProfit)>0?"+":Number(o.value.realizedProfit)<0?"-":"")+"$"+Object(c["toDisplayString"])(Object(c["unref"])(E["formatNumberS"])(Math.abs(Number(o.value.realizedProfit)),2)),3)]),Object(c["createElementVNode"])("div",ke,[Object(c["createElementVNode"])("div",xe,Object(c["toDisplayString"])(e.$t("apiKeyUnrealizedProfit")),1),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["overview-value",Number(o.value.unrealizedProfit)>0?"positive":Number(o.value.unrealizedProfit)<0?"negative":""])},Object(c["toDisplayString"])(Number(o.value.unrealizedProfit)>0?"+":Number(o.value.unrealizedProfit)<0?"-":"")+"$"+Object(c["toDisplayString"])(Object(c["unref"])(E["formatNumberS"])(Math.abs(Number(o.value.unrealizedProfit)),2)),3)]),Object(c["createElementVNode"])("div",Ee,[Object(c["createElementVNode"])("div",$e,Object(c["toDisplayString"])(e.$t("apiKeyTotalTxns")),1),Object(c["createElementVNode"])("div",Be,[Object(c["createElementVNode"])("span",Se,Object(c["toDisplayString"])(o.value.buyCount),1),t[3]||(t[3]=Object(c["createTextVNode"])("/")),Object(c["createElementVNode"])("span",Ae,Object(c["toDisplayString"])(o.value.sellCount),1)])])]),Object(c["createElementVNode"])("div",Te,[Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])(j,{data:i.value,class:"table-custom-class","header-row-class-name":"header-class-custom","header-cell-class-name":"header-class-custom","row-class-name":"row-class-custom"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(n,{prop:"delegator",label:e.$t("apiKeyDelegatees")},null,8,["label"]),Object(c["createVNode"])(n,{label:e.$t("apiKeyBuySell")},{default:Object(c["withCtx"])(({row:t})=>[Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])(1===t.swapType?"text-buy":"text-sell")},Object(c["toDisplayString"])(1===t.swapType?e.$t("buy"):e.$t("sell")),3)]),_:1},8,["label"]),Object(c["createVNode"])(n,{label:e.$t("apiKeyToken")},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createElementVNode"])("div",De,[Object(c["createElementVNode"])("div",_e,[Object(c["createElementVNode"])("img",{class:"token-icon",src:`https://www.iconaves.com/chain/${e.chain}.png`,alt:""},null,8,Ke)]),Object(c["createElementVNode"])("div",Fe,[Object(c["createElementVNode"])("div",ze,Object(c["toDisplayString"])(e.symbol),1),Object(c["createElementVNode"])("div",Le,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(h(e.token))+" ",1),Object(c["createVNode"])(O,{content:"Copy contract address",placement:"top"},{default:Object(c["withCtx"])(()=>[Object(c["withDirectives"])(Object(c["createElementVNode"])("i",Ie,null,512),[[w,e.token]])]),_:2},1024)])])])]),_:1},8,["label"]),Object(c["createVNode"])(n,{label:e.$t("apiKeyTotal")},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createTextVNode"])(" $"+Object(c["toDisplayString"])(Object(c["unref"])(E["formatNumberS"])(e.value,3)),1)]),_:1},8,["label"]),Object(c["createVNode"])(n,{label:e.$t("apiKeyPrice")},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createTextVNode"])(" $"+Object(c["toDisplayString"])(Object(c["unref"])(E["formatNumberS"])(e.price,2)),1)]),_:1},8,["label"]),Object(c["createVNode"])(n,{label:e.$t("apiKeyTime")},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(y(e.time)),1)]),_:1},8,["label"]),Object(c["createVNode"])(n,{label:e.$t("apiKeyHash"),align:"left"},{default:Object(c["withCtx"])(({row:e})=>[Object(c["createElementVNode"])("div",Pe,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(h(e.hash))+" ",1),Object(c["createElementVNode"])("img",{src:he.a,onClick:t=>p(e.hash),alt:""},null,8,Me)])]),_:1},8,["label"])]),_:1},8,["data"])),[[C,d.value]]),Object(c["createVNode"])(v,{class:"pagination-box",layout:"total, prev, pager, next",total:m.value||0,small:!1,background:"","current-page":u.value,"onUpdate:currentPage":t[1]||(t[1]=e=>u.value=e),"page-sizes":[10,20,50,100],"page-size":b.value,"onUpdate:pageSize":t[2]||(t[2]=e=>b.value=e),onSizeChange:g,onCurrentChange:f},null,8,["total","current-page","page-size"])])],64)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",fe,[Object(c["createElementVNode"])("img",{src:"light"===e.$store.state.mode?a("b28f"):a("fab6")},null,8,ge),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.$t("noWalletTip")),1),""===e.$store.state.wallet?(Object(c["openBlock"])(),Object(c["createBlock"])(r,{key:0,style:{width:"182px","border-radius":"6px","margin-top":"15px"},type:"primary",onClick:t[0]||(t[0]=Object(c["withModifiers"])(t=>{e.$store.commit("changeConnectVisible",!0),e.$store.commit("setIsShowImportAddress",!0)},["stop"]))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("connectWallet")),1)]),_:1})):Object(c["createCommentVNode"])("",!0)]))])}}};a("965e");const We=_()(Ue,[["__scopeId","data-v-4fb2a926"]]);var Re=We,He=(a("4e3e"),a("aab7"));const qe={key:0,class:"dialog-content"},Ge={class:"form-label"},Ye={key:1,class:"dialog-content"},Je={class:"form-label"},Qe={key:0,class:"loading-orgs"},Xe={key:1,class:"no-orgs"},Ze={key:2,class:"delegatees-list"},et=["onClick"],tt={class:"delegatee-icon"},at=["src"],ct={class:"delegatee-name"},lt={key:0,class:"check-icon"},ot={class:"disclaimer-agreement"},rt={key:2,class:"dialog-content"},it={class:"form-label"},nt={class:"generate-key-box"},st={class:"disclaimer-content"};var dt={__name:"createKeyDialog",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","created","refresh"],setup(e,{emit:t}){const a=e,l=t,o=Object(c["reactive"])({name:""}),n=Object(c["ref"])([]),s=Object(c["ref"])(!1),d=async()=>{s.value=!0;try{const e=await Z();e&&Array.isArray(e)&&(n.value=e.map(e=>({id:e.orgId,name:e.orgName,orgIcon:e.orgIcon,selected:!1})))}catch(e){i["a"].error(g("failedToFetchOrgList"))}finally{s.value=!1}};Object(c["watch"])(()=>a.visible,e=>{e&&d()}),Object(c["onMounted"])(()=>{a.visible&&d()});const u=e=>{n.value=n.value.map(t=>({...t,selected:t.id===e.id&&!t.selected}))},b=(Object(c["ref"])(null),Object(c["ref"])(1)),m=Object(c["ref"])(""),p=Object(c["ref"])(!1),h=Object(c["ref"])(!0),O=Object(c["ref"])(!1),j=()=>{O.value=!0},v=Object(c["computed"])(()=>n.value.some(e=>e.selected)),f=()=>{const e=n.value.find(e=>e.selected);return e?e.id:null},{t:g}=Object(r["b"])(),y=()=>{l("update:visible",!1),o.name="",b.value=1,m.value="",n.value.forEach(e=>{e.selected=!1})},w=async()=>{if(1===b.value){if(o.name=o.name.trim(),!o.name)return void Object(i["a"])({message:g("pleaseEnterApiKeyName"),type:"warning",duration:2e3});if(o.name.length>20)return void Object(i["a"])({message:g("apiKeyNameTooLong"),type:"warning",duration:2e3});const e=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/;if(e.test(o.name))return void Object(i["a"])({message:g("apiKeyNameContainsSpecialChars"),type:"warning",duration:2e3});b.value=2}else if(2===b.value){const t=f();if(!t)return void Object(i["a"])({message:g("pleaseSelectOrganization"),type:"warning",duration:2e3});p.value=!0;try{const e=await G({apiKeyName:o.name,orgId:t});e&&e.api_key?(m.value=e.api_key,b.value=3,l("refresh")):i["a"].error(g("apiKeyCreateFailed"))}catch(e){i["a"].error(e)}finally{p.value=!1}}else y(),l("refresh"),Object(i["a"])({type:"success",message:g("apiKeyCreatedSuccess")})},C=()=>{navigator.clipboard.writeText(m.value).then(()=>{Object(i["a"])({message:g("apiKeyCopySuccess"),type:"success",duration:2e3})}).catch(()=>{Object(i["a"])({message:g("apiKeyCopyFailed"),type:"error",duration:2e3})})};return(e,t)=>{const l=Object(c["resolveComponent"])("el-input"),r=Object(c["resolveComponent"])("el-button"),i=Object(c["resolveComponent"])("el-skeleton"),d=Object(c["resolveComponent"])("el-icon"),f=Object(c["resolveComponent"])("el-checkbox"),g=Object(c["resolveComponent"])("el-dialog");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(g,{modelValue:a.visible,"onUpdate:modelValue":t[2]||(t[2]=e=>a.visible=e),title:1===b.value?e.$t("settingApiKeyName"):2===b.value?e.$t("selectOrganization"):e.$t("yourApiKey"),width:"440px","close-on-click-modal":!1,"show-close":!0,"custom-class":"create-key-dialog",onClose:y},{default:Object(c["withCtx"])(()=>[1===b.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",qe,[Object(c["createElementVNode"])("div",Ge,Object(c["toDisplayString"])(e.$t("apiKeyFormName")),1),Object(c["createVNode"])(l,{modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),placeholder:e.$t("enterApiKeyName"),class:"custom-input"},null,8,["modelValue","placeholder"]),Object(c["createVNode"])(r,{class:"next-btn",type:"primary",onClick:w,loading:p.value},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("next")),1)]),_:1},8,["loading"])])):2===b.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ye,[Object(c["createElementVNode"])("div",Je,Object(c["toDisplayString"])(e.$t("selectOrganization")),1),s.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Qe,[Object(c["createVNode"])(i,{rows:3,animated:""})])):0===n.value.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Xe,Object(c["toDisplayString"])(e.$t("noOrganizationsFound")),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ze,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(n.value,e=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:e.id,class:Object(c["normalizeClass"])(["delegatee-item",{selected:e.selected}]),onClick:t=>u(e)},[Object(c["createElementVNode"])("div",tt,[Object(c["createElementVNode"])("img",{src:e.orgIcon,alt:"org logo",class:"circle-placeholder"},null,8,at)]),Object(c["createElementVNode"])("div",ct,Object(c["toDisplayString"])(e.name),1),e.selected?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",lt,[Object(c["createVNode"])(d,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(Object(c["unref"])(He["a"]))]),_:1})])):Object(c["createCommentVNode"])("",!0)],10,et))),128))])),Object(c["createElementVNode"])("div",ot,[Object(c["createVNode"])(f,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("iHaveReadAndAgree")),1)]),_:1},8,["modelValue"]),Object(c["createElementVNode"])("span",{class:"disclaimer-link",onClick:Object(c["withModifiers"])(j,["stop"])},"《"+Object(c["toDisplayString"])(e.$t("disclaimer"))+"》",1)]),Object(c["createVNode"])(r,{class:"next-btn",type:"primary",onClick:w,disabled:!v.value||!h.value,loading:p.value},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("createApiKey")),1)]),_:1},8,["disabled","loading"])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",rt,[Object(c["createElementVNode"])("div",it,Object(c["toDisplayString"])(e.$t("yourApiKey")),1),Object(c["createElementVNode"])("div",nt,[Object(c["createElementVNode"])("div",null,Object(c["toDisplayString"])(m.value),1),Object(c["createElementVNode"])("i",{class:"iconfont icon-copy text-16px ml-3",onClick:C,style:{cursor:"pointer"}})]),t[5]||(t[5]=Object(c["createElementVNode"])("div",{class:"key-warning"},null,-1)),Object(c["createVNode"])(r,{class:"next-btn",type:"primary",onClick:w},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("done")),1)]),_:1})]))]),_:1},8,["modelValue","title"]),Object(c["createVNode"])(g,{modelValue:O.value,"onUpdate:modelValue":t[4]||(t[4]=e=>O.value=e),title:e.$t("disclaimer"),width:"600px"},{footer:Object(c["withCtx"])(()=>[Object(c["createVNode"])(r,{onClick:t[3]||(t[3]=e=>O.value=!1)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.$t("closeBtn")),1)]),_:1})]),default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",st,Object(c["toDisplayString"])(e.$t("disclaimerContent")),1)]),_:1},8,["modelValue","title"])],64)}}};a("23e1");const ut=_()(dt,[["__scopeId","data-v-6d6f2faa"]]);var bt=ut;const mt={class:"page-bg",style:{minHeight:"calc(100vh - 100px)"}},pt={class:"head-bg"},ht={class:"api-key-info"},Ot={class:"api-key-dropdown"},jt={class:"chain-selector"},vt={class:"chain-icon"},ft={class:"circle-placeholder"},gt=["src"],yt={style:{padding:"0 1.25rem 0 1.5rem"}};var wt={__name:"index",setup(e){const{t:t}=Object(r["b"])(),a=Object(c["ref"])(1),l=Object(c["ref"])(!1),i=Object(c["ref"])(null),n=Object(c["ref"])(null),s=Object(c["ref"])("solana"),d=Object(c["ref"])(""),u={solana:"solana",bsc:"bsc"},b=Object(c["computed"])(()=>[{label:t("apiKeyManagement"),value:1},{label:t("apiKeyActivity"),value:2}]),m=e=>{if(a.value=e,2===a.value&&""==d.value){var t,c;d.value=(null===(t=i.value)||void 0===t||null===(t=t.tableData[0])||void 0===t?void 0:t.name)||"";const e=null===(c=i.value)||void 0===c?void 0:c.tableData[0].addressList.find(e=>e.chain===s.value).address;n.value.apiKeyChange(s.value,e)}},p=e=>{d.value=null===e||void 0===e?void 0:e.name;const t=e.addressList.find(e=>e.chain===s.value).address;n.value.apiKeyChange(s.value,t)},h=e=>{var t;s.value=e;const a=null===(t=i.value)||void 0===t||null===(t=t.tableData)||void 0===t?void 0:t.find(e=>e.name===d.value).addressList.find(e=>e.chain===s.value).address;n.value.apiKeyChange(s.value,a)},O=()=>{l.value=!0},j=e=>{var t;a.value=2,d.value=null===e||void 0===e?void 0:e.name;const c=null===(t=i.value)||void 0===t||null===(t=t.tableData)||void 0===t?void 0:t.find(e=>e.name===d.value).addressList.find(e=>e.chain===s.value).address;n.value.apiKeyChange(s.value,c)},v=()=>{i.value&&i.value.fetchApiWalletList()},f=e=>{};return(e,t)=>{const r=Object(c["resolveComponent"])("el-segmented"),g=Object(c["resolveComponent"])("ArrowDown"),y=Object(c["resolveComponent"])("el-icon"),w=Object(c["resolveComponent"])("el-dropdown-item"),C=Object(c["resolveComponent"])("el-dropdown-menu"),N=Object(c["resolveComponent"])("el-dropdown"),V=Object(c["resolveComponent"])("CaretBottom");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",mt,[Object(c["createElementVNode"])("div",pt,[Object(c["createElementVNode"])("div",ht,[Object(c["createVNode"])(r,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),options:b.value,onChange:m},null,8,["modelValue","options"]),2===a.value?(Object(c["openBlock"])(),Object(c["createBlock"])(N,{key:0,trigger:"click"},{dropdown:Object(c["withCtx"])(()=>[Object(c["createVNode"])(C,null,{default:Object(c["withCtx"])(()=>{var e;return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(null===(e=i.value)||void 0===e?void 0:e.tableData,(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(w,{key:t,onClick:t=>p(e)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(null===e||void 0===e?void 0:e.name),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",Ot,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(d.value)+" ",1),Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(g)]),_:1})])]),_:1})):Object(c["createCommentVNode"])("",!0),2===a.value?(Object(c["openBlock"])(),Object(c["createBlock"])(N,{key:1,trigger:"click",class:"chain-dropdown"},{dropdown:Object(c["withCtx"])(()=>[Object(c["createVNode"])(C,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(w,{onClick:t[1]||(t[1]=e=>h("solana"))},{default:Object(c["withCtx"])(()=>t[4]||(t[4]=[Object(c["createElementVNode"])("div",{class:"chain-option"},[Object(c["createElementVNode"])("div",{class:"circle-placeholder"}),Object(c["createElementVNode"])("span",null,"Solana")],-1)])),_:1}),Object(c["createVNode"])(w,{onClick:t[2]||(t[2]=e=>h("bsc"))},{default:Object(c["withCtx"])(()=>t[5]||(t[5]=[Object(c["createElementVNode"])("div",{class:"chain-option"},[Object(c["createElementVNode"])("div",{class:"circle-placeholder"}),Object(c["createElementVNode"])("span",null,"BSC")],-1)])),_:1})]),_:1})]),default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("span",jt,[Object(c["createElementVNode"])("div",vt,[Object(c["createElementVNode"])("div",ft,[Object(c["createElementVNode"])("img",{class:"circle-placeholder",src:`https://www.iconaves.com/chain/${u[s.value]}.png`,alt:""},null,8,gt)])]),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(u[s.value]),1),Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V)]),_:1})])]),_:1})):Object(c["createCommentVNode"])("",!0)]),1===a.value?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,class:"create-button",onClick:O},[t[6]||(t[6]=Object(c["createElementVNode"])("img",{style:{width:"12px",height:"12px"},src:o.a,alt:""},null,-1)),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$t("createApiKey")),1)])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",yt,[Object(c["withDirectives"])(Object(c["createVNode"])(me,{ref_key:"apiTableRef",ref:i,onDetail:j},null,512),[[c["vShow"],1===a.value]]),Object(c["withDirectives"])(Object(c["createVNode"])(Re,{ref_key:"activityTableRef",ref:n},null,512),[[c["vShow"],2===a.value]])]),Object(c["createVNode"])(bt,{visible:l.value,"onUpdate:visible":t[3]||(t[3]=e=>l.value=e),onCreated:f,onRefresh:v},null,8,["visible"])])}}};a("1d05");const Ct=_()(wt,[["__scopeId","data-v-06fef6e3"]]);t["default"]=Ct},e506:function(e,t,a){e.exports=a.p+"static/img/create-key.6d85bcee.svg"}}]);