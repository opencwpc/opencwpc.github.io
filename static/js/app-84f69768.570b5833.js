(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app-84f69768"],{"06554":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var i=n("8df2"),r=n("633a"),o=n("64b9"),a=n("fe55"),s=(n("4bf9"),n("511d")),c=n("d32f");const u=Object(i["struct"])([Object(i["u8"])("instruction"),Object(r["c"])("amount")]);function m(t,n,i,r,m=[],l=a["c"]){const d=Object(s["a"])([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,m),p=e.alloc(u.span);return u.encode({instruction:c["a"].MintTo,amount:BigInt(r)},p),new o["j"]({keys:d,programId:l,data:p})}}).call(this,n("1c35").Buffer)},"06e2":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return l}));n("d9e2"),n("14d9"),n("0643"),n("2382");var i=n("d129"),r=n("fe55"),o=n("8fa2"),a=n("64b9"),s=n("7734"),c=n("4d2f"),u=n("bc7e");class m{static _selectTokenAccount(e){const{tokenAccounts:t,programId:n,mint:i,owner:r,config:o}=e,{associatedOnly:a}={associatedOnly:!0,...o},s=t.filter(({accountInfo:e})=>e.mint.equals(i)).sort((e,t)=>e.accountInfo.amount.lt(t.accountInfo.amount)?1:-1),u=c["c"].getAssociatedTokenAccount({mint:i,owner:r,programId:n});for(const c of s){const{pubkey:e}=c;if(!a)return e;if(u.equals(e))return e}return null}static async _handleTokenAccount(e){const{connection:t,side:n,amount:i,programId:a,mint:u,tokenAccount:m,owner:l,payer:d=l,frontInstructions:p,endInstructions:b,signers:f,bypassAssociatedCheck:h,frontInstructionsType:g,endInstructionsType:w,checkCreateATAOwner:y}=e,k=c["c"].getAssociatedTokenAccount({mint:u,owner:l,programId:a});if(s["h"].WSOL.mint.equals(u)){const e=await c["c"].insertCreateWrappedNativeAccount({connection:t,owner:l,payer:d,instructions:p,instructionsType:g,signers:f,amount:i});return b&&b.push(c["c"].makeCloseAccountInstruction({programId:r["c"],tokenAccount:e,owner:l,payer:d,instructionsType:null!==w&&void 0!==w?w:[]})),e}if(!m||"out"===n&&!k.equals(m)&&!h){const e=c["c"].makeCreateAssociatedTokenAccountInstruction({programId:a,mint:u,associatedAccount:k,owner:l,payer:d,instructionsType:g});if(y){const n=await t.getAccountInfo(k);if(null===n)p.push(e);else if(!(n.owner.equals(r["c"])&&o["b"].decode(n.data).mint.equals(u)&&o["b"].decode(n.data).owner.equals(l)))throw Error(`create ata check error -> mint: ${u.toString()}, ata: ${k.toString()}`)}else p.push(e);return k}return m}static async _selectOrCreateTokenAccount(e){const{mint:t,tokenAccounts:n,createInfo:i,associatedOnly:m,owner:d,checkCreateATAOwner:p,programId:b}=e,f=c["c"].getAssociatedTokenAccount({mint:t,owner:d,programId:b}),h=n.filter(e=>e.accountInfo.mint.equals(t)&&(!m||e.pubkey.equals(f))).sort((e,t)=>e.accountInfo.amount.lt(t.accountInfo.amount)?1:-1);if(void 0===i||h.length>0)return h.length>0?h[0].pubkey:void 0;if(m){var g,w;const e=c["c"].makeCreateAssociatedTokenAccountInstruction({programId:b,mint:t,associatedAccount:f,owner:d,payer:i.payer,instructionsType:i.frontInstructionsType});if(p){const n=await i.connection.getAccountInfo(f);if(null===n)i.frontInstructions.push(e);else if(!(n.owner.equals(b)&&o["b"].decode(n.data).mint.equals(t)&&o["b"].decode(n.data).owner.equals(d)))throw Error(`create ata check error -> mint: ${t.toString()}, ata: ${f.toString()}`)}else i.frontInstructions.push(e);if(t.equals(s["h"].WSOL.mint)&&i.amount){var y,k,A;const e=await c["c"].insertCreateWrappedNativeAccount({connection:i.connection,owner:d,payer:i.payer,instructions:i.frontInstructions,instructionsType:i.frontInstructionsType,signers:i.signers,amount:null!==(y=i.amount)&&void 0!==y?y:0});(null!==(k=i.endInstructions)&&void 0!==k?k:[]).push(c["c"].makeCloseAccountInstruction({programId:r["c"],tokenAccount:e,owner:d,payer:i.payer,instructionsType:null!==(A=i.endInstructionsType)&&void 0!==A?A:[]})),i.amount&&i.frontInstructions.push(c["c"].makeTransferInstruction({programId:r["c"],source:e,destination:f,owner:d,amount:i.amount,instructionsType:i.frontInstructionsType}))}return(null!==(g=i.endInstructions)&&void 0!==g?g:[]).push(c["c"].makeCloseAccountInstruction({programId:b,tokenAccount:f,owner:d,payer:i.payer,instructionsType:null!==(w=i.endInstructionsType)&&void 0!==w?w:[]})),f}if(t.equals(s["h"].WSOL.mint)){var O,S,I;const e=await c["c"].insertCreateWrappedNativeAccount({connection:i.connection,owner:d,payer:i.payer,instructions:i.frontInstructions,instructionsType:i.frontInstructionsType,signers:i.signers,amount:null!==(O=i.amount)&&void 0!==O?O:0});return(null!==(S=i.endInstructions)&&void 0!==S?S:[]).push(c["c"].makeCloseAccountInstruction({programId:r["c"],tokenAccount:e,owner:d,payer:i.payer,instructionsType:null!==(I=i.endInstructionsType)&&void 0!==I?I:[]})),e}{var T,j;const e=l({fromPublicKey:d,programId:b}),n=await i.connection.getMinimumBalanceForRentExemption(o["b"].span),r=a["h"].createAccountWithSeed({fromPubkey:d,basePubkey:d,seed:e.seed,newAccountPubkey:e.publicKey,lamports:n,space:o["b"].span,programId:b}),s=c["c"].createInitAccountInstruction(b,t,e.publicKey,d);return i.frontInstructions.push(r,s),i.frontInstructionsType.push(u["a"].createAccount,u["a"].initAccount),(null!==(T=i.endInstructions)&&void 0!==T?T:[]).push(c["c"].makeCloseAccountInstruction({programId:b,tokenAccount:e.publicKey,owner:d,payer:i.payer,instructionsType:null!==(j=i.endInstructionsType)&&void 0!==j?j:[]})),e.publicKey}}}function l({fromPublicKey:e,programId:t=r["c"]}){const n=a["d"].generate().publicKey.toBase58().slice(0,32),i=d(e,n,t);return{publicKey:i,seed:n}}function d(t,n,r){const o=e.concat([t.toBuffer(),e.from(n),r.toBuffer()]),s=Object(i["sha256"])(o);return new a["e"](s)}}).call(this,n("1c35").Buffer)},"0bd8":function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"n",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"o",(function(){return m})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"p",(function(){return O}));var i=n("5c23"),r=n.n(i),o=n("7734");const a=new r.a(-1),s=new r.a(1).shln(64),c=new r.a(1).shln(128),u=s.sub(o["d"]),m=64,l=c.subn(1),d=-443636,p=-d,b=new r.a("4295048016"),f=new r.a("79226673521066979257578248091"),h=16,g="59543866431248",w="184467440737095516",y="15793534762490258745",k=new r.a(10).pow(new r.a(6));var A;(function(e){e[e["rate_500"]=500]="rate_500",e[e["rate_3000"]=3e3]="rate_3000",e[e["rate_10000"]=1e4]="rate_10000"})(A||(A={}));A.rate_500,A.rate_3000,A.rate_10000;const O=new r.a("18446744073700000000")},1838:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return g["a"]}));n("d9e2"),n("14d9"),n("13d5"),n("0643"),n("2382"),n("fffc"),n("a573"),n("9d4a");var i=n("fe55"),r=n("64b9"),o=n("5c23"),a=n.n(o),s=n("4128"),c=n.n(s),u=n("832d"),m=n("d677"),l=n("22be"),d=n("7734"),p=n("4d2f"),b=n("8ebc"),f=n("8143"),h=n("0bd8"),g=n("f427");const w=15;class y{static async getTickArrays(e,t,n,i,r,o,a){const s=[],c=O.getTickArrayStartIndexByTick(i,r),u=O.getInitializedTickArrayInRange(o,a,r,c,Math.floor(w/2));for(let l=0;l<u.length;l++){const{publicKey:e}=Object(g["i"])(t,n,u[l]);s.push(e)}const m=(await Object(l["n"])(e,s)).map(e=>null!==e?q.decode(e.data):null),d={};for(let l=0;l<s.length;l++){const e=m[l];null!==e&&(d[e.startTickIndex]={...e,address:s[l]})}return d}static nextInitializedTick(e,t,n,i,r,o){let{initializedTick:a,tickArrayAddress:s,tickArrayStartTickIndex:c}=this.nextInitializedTickInOneArray(e,t,n,i,r,o);while(void 0==a||a.liquidityGross.lten(0)){if(c=O.getNextTickArrayStartIndex(c,r,o),this.checkIsValidStartIndex(c,r))throw new Error("No enough initialized tickArray");const i=n[c];if(void 0===i)continue;const{nextTick:u,tickArrayAddress:m,tickArrayStartTickIndex:l}=this.firstInitializedTickInOneArray(e,t,i,o);[a,s,c]=[u,m,l]}if(void 0==a)throw new Error("No invaild tickArray cache");return{nextTick:a,tickArrayAddress:s,tickArrayStartTickIndex:c}}static nextInitializedTickArray(e,t,n,i,r){const o=Math.floor(e/y.tickCount(t)),a=n?O.searchLowBitFromStart(i,r,o-1,1,t):O.searchHightBitFromStart(i,r,o+1,1,t);return a.length>0?{isExist:!0,nextStartIndex:a[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,t,n,i){let r=void 0;if(i){let e=k-1;while(e>=0){const t=n.ticks[e];if(t.liquidityGross.gtn(0)){r=t;break}e-=1}}else{let e=0;while(e<k){const t=n.ticks[e];if(t.liquidityGross.gtn(0)){r=t;break}e+=1}}const{publicKey:o}=Object(g["i"])(e,t,n.startTickIndex);return{nextTick:r,tickArrayAddress:o,tickArrayStartTickIndex:n.startTickIndex}}static nextInitializedTickInOneArray(e,t,n,i,r,o){const a=O.getTickArrayStartIndexByTick(i,r);let s=Math.floor((i-a)/r);const c=n[a];if(void 0==c)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:a};let u=void 0;if(o)while(s>=0){const e=c.ticks[s];if(e.liquidityGross.gtn(0)){u=e;break}s-=1}else{s+=1;while(s<k){const e=c.ticks[s];if(e.liquidityGross.gtn(0)){u=e;break}s+=1}}const{publicKey:m}=Object(g["i"])(e,t,a);return{initializedTick:u,tickArrayAddress:m,tickArrayStartTickIndex:c.startTickIndex}}static getArrayStartIndex(e,t){const n=this.tickCount(t),i=Math.floor(e/n);return i*n}static checkIsValidStartIndex(e,t){if(O.checkIsOutOfBoundary(e)){if(e>h["g"])return!1;const n=O.getTickArrayStartIndexByTick(h["i"],t);return e==n}return e%this.tickCount(t)==0}static tickCount(e){return k*e}}const k=60,A=512;class O{static getTickArrayAddressByTick(e,t,n,i){const r=O.getTickArrayStartIndexByTick(n,i),{publicKey:o}=Object(g["i"])(e,t,r);return o}static getTickOffsetInArray(e,t){if(e%t!=0)throw new Error("tickIndex % tickSpacing not equal 0");const n=O.getTickArrayStartIndexByTick(e,t),i=Math.floor((e-n)/t);if(i<0||i>=k)throw new Error("tick offset in array overflow");return i}static getTickArrayBitIndex(e,t){const n=y.tickCount(t);let i=e/n;return i=e<0&&e%n!=0?Math.ceil(i)-1:Math.floor(i),i}static getTickArrayStartIndexByTick(e,t){return this.getTickArrayBitIndex(e,t)*y.tickCount(t)}static getTickArrayOffsetInBitmapByTick(e,t){const n=t*k,i=Math.floor(e/n)+512;return Math.abs(i)}static checkTickArrayIsInitialized(e,t,n){const i=n*k,r=Math.floor(t/i)+512,o=Math.abs(r);return{isInitialized:e.testn(o),startIndex:(o-512)*i}}static getNextTickArrayStartIndex(e,t,n){return n?e-t*k:e+t*k}static mergeTickArrayBitmap(e){let t=new a.a(0);for(let n=0;n<e.length;n++)t=t.add(e[n].shln(64*n));return t}static getInitializedTickArrayInRange(e,t,n,i,r){const o=Math.floor(i/(n*k));return[...O.searchLowBitFromStart(e,t,o-1,r,n),...O.searchHightBitFromStart(e,t,o,r,n)]}static getAllInitializedTickArrayStartIndex(e,t,n){return O.searchHightBitFromStart(e,t,0,A,n)}static getAllInitializedTickArrayInfo(e,t,n,i,r){const o=[],a=O.getAllInitializedTickArrayStartIndex(n,i,r);for(const s of a){const{publicKey:n}=Object(g["i"])(e,t,s);o.push({tickArrayStartIndex:s,tickArrayAddress:n})}return o}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,n,i,r){const o=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>O.mergeTickArrayBitmap(e)),a=[];while(n>=-7680){const e=Math.floor((n+7680)/512),t=(n+7680)%512;if(o[e].testn(t)&&a.push(n),n--,a.length===i)break}const s=y.tickCount(r);return a.map(e=>e*s)}static searchHightBitFromStart(e,t,n,i,r){const o=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>O.mergeTickArrayBitmap(e)),a=[];while(n<7680){const e=Math.floor((n+7680)/512),t=(n+7680)%512;if(o[e].testn(t)&&a.push(n),n++,a.length===i)break}const s=y.tickCount(r);return a.map(e=>e*s)}static checkIsOutOfBoundary(e){return e<h["i"]||e>h["g"]}static nextInitTick(e,t,n,i,r){const o=y.getArrayStartIndex(t,n);if(o!=e.startTickIndex)return null;let a=Math.floor((t-e.startTickIndex)/n);if(i)while(a>=0){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a-=1}else{r||(a+=1);while(a<k){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a+=1}}return null}static firstInitializedTick(e,t){if(t){let t=k-1;while(t>=0){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t-=1}}else{let t=0;while(t<k){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t+=1}}throw Error(`firstInitializedTick check error: ${e} - ${t}`)}}var S=n("32f6");const I=14;class T{static maxTickInTickarrayBitmap(e){return e*k*A}static getBitmapTickBoundary(e,t){const n=this.maxTickInTickarrayBitmap(t);let i=Math.floor(Math.abs(e)/n);e<0&&Math.abs(e)%n!=0&&(i+=1);const r=n*i;return e<0?{minValue:-r,maxValue:-r+n}:{minValue:r,maxValue:r+n}}static nextInitializedTickArrayStartIndex(e,t,n,i){if(!y.checkIsValidStartIndex(t,n))throw Error("nextInitializedTickArrayStartIndex check error");const r=this.maxTickInTickarrayBitmap(n),o=i?t-y.tickCount(n):t+y.tickCount(n);if(o<-r||o>=r)return{isInit:!1,tickIndex:t};const a=n*k;let s=o/a+512;o<0&&o%a!=0&&s--;const c=Math.abs(s);if(i){const t=e.shln(1024-c-1),n=Object(S["e"])(1024,t);if(null!==n){const e=(c-n-512)*a;return{isInit:!0,tickIndex:e}}return{isInit:!1,tickIndex:-r}}{const t=e.shrn(c),i=Object(S["d"])(1024,t);if(null!==i){const e=(c+i-512)*a;return{isInit:!0,tickIndex:e}}return{isInit:!1,tickIndex:r-y.tickCount(n)}}}}class j{static getBitmapOffset(e,t){if(!y.checkIsValidStartIndex(e,t))throw new Error("No enough initialized tickArray");this.checkExtensionBoundary(e,t);const n=T.maxTickInTickarrayBitmap(t);let i=Math.floor(Math.abs(e)/n)-1;return e<0&&Math.abs(e)%n===0&&i--,i}static getBitmap(e,t,n){const i=this.getBitmapOffset(e,t);return e<0?{offset:i,tickarrayBitmap:n.negativeTickArrayBitmap[i]}:{offset:i,tickarrayBitmap:n.positiveTickArrayBitmap[i]}}static checkExtensionBoundary(e,t){const{positiveTickBoundary:n,negativeTickBoundary:i}=this.extensionTickBoundary(t);if(e>=i&&e<n)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){const t=T.maxTickInTickarrayBitmap(e),n=-t;if(h["g"]<=t)throw Error(`extensionTickBoundary check error: ${h["g"]}, ${t}`);if(n<=h["i"])throw Error(`extensionTickBoundary check error: ${n}, ${h["i"]}`);return{positiveTickBoundary:t,negativeTickBoundary:n}}static checkTickArrayIsInit(e,t,n){const{tickarrayBitmap:i}=this.getBitmap(e,t,n),r=this.tickArrayOffsetInBitmap(e,t);return{isInitialized:O.mergeTickArrayBitmap(i).testn(r),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,t,n,i){const r=y.tickCount(t),o=n?e-r:e+r,a=y.getArrayStartIndex(h["i"],t),s=y.getArrayStartIndex(h["g"],t);if(o<a||o>s)return{isInit:!1,tickIndex:o};const{tickarrayBitmap:c}=this.getBitmap(o,t,i);return this.nextInitializedTickArrayInBitmap(c,o,t,n)}static nextInitializedTickArrayInBitmap(e,t,n,i){const{minValue:r,maxValue:o}=T.getBitmapTickBoundary(t,n),a=this.tickArrayOffsetInBitmap(t,n);if(i){const i=O.mergeTickArrayBitmap(e).shln(A-1-a),o=Object(S["b"])(512,i)?null:Object(S["c"])(512,i);if(null!==o){const e=t-o*y.tickCount(n);return{isInit:!0,tickIndex:e}}return{isInit:!1,tickIndex:r}}{const i=O.mergeTickArrayBitmap(e).shrn(a),r=Object(S["b"])(512,i)?null:Object(S["f"])(512,i);if(null!==r){const e=t+r*y.tickCount(n);return{isInit:!0,tickIndex:e}}return{isInit:!1,tickIndex:o-y.tickCount(n)}}}static tickArrayOffsetInBitmap(e,t){const n=Math.abs(e)%T.maxTickInTickarrayBitmap(t);let i=Math.floor(n/y.tickCount(t));return e<0&&0!=n&&(i=A-i),i}}Object(f["j"])([Object(f["b"])(8),Object(f["o"])("bump"),Object(f["l"])("index"),Object(f["g"])(""),Object(f["m"])("protocolFeeRate"),Object(f["m"])("tradeFeeRate"),Object(f["l"])("tickSpacing"),Object(f["m"])("fundFeeRate"),Object(f["i"])(Object(f["m"])(),1,"padding"),Object(f["g"])("fundOwner"),Object(f["i"])(Object(f["n"])(),3,"padding")]);const v=Object(f["j"])([Object(f["m"])("blockTimestamp"),Object(f["k"])("sqrtPriceX64"),Object(f["k"])("cumulativeTimePriceX64"),Object(f["i"])(Object(f["k"])(),1,"")]),C=Object(f["j"])([Object(f["b"])(8),Object(f["c"])("initialized"),Object(f["g"])("poolId"),Object(f["i"])(v,1e3,"observations"),Object(f["i"])(Object(f["k"])(),5,"")]),M=Object(f["j"])([Object(f["o"])("rewardState"),Object(f["n"])("openTime"),Object(f["n"])("endTime"),Object(f["n"])("lastUpdateTime"),Object(f["k"])("emissionsPerSecondX64"),Object(f["n"])("rewardTotalEmissioned"),Object(f["n"])("rewardClaimed"),Object(f["g"])("tokenMint"),Object(f["g"])("tokenVault"),Object(f["g"])("creator"),Object(f["k"])("rewardGrowthGlobalX64")]),P=Object(f["j"])([Object(f["b"])(8),Object(f["o"])("bump"),Object(f["g"])("ammConfig"),Object(f["g"])("creator"),Object(f["g"])("mintA"),Object(f["g"])("mintB"),Object(f["g"])("vaultA"),Object(f["g"])("vaultB"),Object(f["g"])("observationId"),Object(f["o"])("mintDecimalsA"),Object(f["o"])("mintDecimalsB"),Object(f["l"])("tickSpacing"),Object(f["k"])("liquidity"),Object(f["k"])("sqrtPriceX64"),Object(f["h"])("tickCurrent"),Object(f["l"])("observationIndex"),Object(f["l"])("observationUpdateDuration"),Object(f["k"])("feeGrowthGlobalX64A"),Object(f["k"])("feeGrowthGlobalX64B"),Object(f["n"])("protocolFeesTokenA"),Object(f["n"])("protocolFeesTokenB"),Object(f["k"])("swapInAmountTokenA"),Object(f["k"])("swapOutAmountTokenB"),Object(f["k"])("swapInAmountTokenB"),Object(f["k"])("swapOutAmountTokenA"),Object(f["o"])("status"),Object(f["i"])(Object(f["o"])(),7,""),Object(f["i"])(M,3,"rewardInfos"),Object(f["i"])(Object(f["n"])(),16,"tickArrayBitmap"),Object(f["n"])("totalFeesTokenA"),Object(f["n"])("totalFeesClaimedTokenA"),Object(f["n"])("totalFeesTokenB"),Object(f["n"])("totalFeesClaimedTokenB"),Object(f["n"])("fundFeesTokenA"),Object(f["n"])("fundFeesTokenB"),Object(f["n"])("startTime"),Object(f["i"])(Object(f["n"])(),57,"padding")]),L=Object(f["j"])([Object(f["k"])("growthInsideLastX64"),Object(f["n"])("rewardAmountOwed")]),D=Object(f["j"])([Object(f["b"])(8),Object(f["o"])("bump"),Object(f["g"])("nftMint"),Object(f["g"])("poolId"),Object(f["h"])("tickLower"),Object(f["h"])("tickUpper"),Object(f["k"])("liquidity"),Object(f["k"])("feeGrowthInsideLastX64A"),Object(f["k"])("feeGrowthInsideLastX64B"),Object(f["n"])("tokenFeesOwedA"),Object(f["n"])("tokenFeesOwedB"),Object(f["i"])(L,3,"rewardInfos"),Object(f["i"])(Object(f["n"])(),8,"")]),R=(Object(f["j"])([Object(f["b"])(8),Object(f["o"])("bump"),Object(f["g"])("poolId"),Object(f["h"])("tickLowerIndex"),Object(f["h"])("tickUpperIndex"),Object(f["k"])("liquidity"),Object(f["k"])("feeGrowthInsideLastX64A"),Object(f["k"])("feeGrowthInsideLastX64B"),Object(f["n"])("tokenFeesOwedA"),Object(f["n"])("tokenFeesOwedB"),Object(f["i"])(Object(f["k"])(),3,"rewardGrowthInside"),Object(f["i"])(Object(f["n"])(),8,"")]),Object(f["j"])([Object(f["h"])("tick"),Object(f["d"])("liquidityNet"),Object(f["k"])("liquidityGross"),Object(f["k"])("feeGrowthOutsideX64A"),Object(f["k"])("feeGrowthOutsideX64B"),Object(f["i"])(Object(f["k"])(),3,"rewardGrowthsOutsideX64"),Object(f["i"])(Object(f["m"])(),13,"")])),q=Object(f["j"])([Object(f["b"])(8),Object(f["g"])("poolId"),Object(f["h"])("startTickIndex"),Object(f["i"])(R,k,"ticks"),Object(f["o"])("initializedTickCount"),Object(f["i"])(Object(f["o"])(),115,"")]),B=Object(f["j"])([Object(f["b"])(329),Object(f["i"])(Object(f["g"])(),100,"whitelistMints")]),V=Object(f["j"])([Object(f["b"])(8),Object(f["g"])("poolId"),Object(f["i"])(Object(f["i"])(Object(f["n"])(),8),I,"positiveTickArrayBitmap"),Object(f["i"])(Object(f["i"])(Object(f["n"])(),8),I,"negativeTickArrayBitmap")]);class x{static getOutputAmountAndRemainAccounts(e,t,n,i,r,o=!1){const a=n.equals(e.mintA.mint),s=[],{isExist:c,startIndex:u,nextAccountMeta:m}=this.getFirstInitializedTickArray(e,a);if(!c||void 0===u||!m)throw new Error("Invalid tick array");try{const t=this.preInitializedTickArrayStartIndex(e,a);if(t.isExist){const{publicKey:n}=Object(g["i"])(e.programId,e.id,t.nextStartIndex);s.push(n)}}catch(y){}s.push(m);const{allTrade:l,amountSpecifiedRemaining:d,amountCalculated:p,accounts:b,sqrtPriceX64:f,feeAmount:w}=X.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i,u,r,o);return s.push(...b),{allTrade:l,realTradeAmountIn:i.sub(d),expectedAmountOut:p.mul(h["l"]),remainingAccounts:s,executionPrice:f,feeAmount:w}}static getInputAmountAndRemainAccounts(e,t,n,i,r){const o=n.equals(e.mintB.mint),a=[],{isExist:s,startIndex:c,nextAccountMeta:u}=this.getFirstInitializedTickArray(e,o);if(!s||void 0===c||!u)throw new Error("Invalid tick array");try{const t=this.preInitializedTickArrayStartIndex(e,o);if(t.isExist){const{publicKey:n}=Object(g["i"])(e.programId,e.id,t.nextStartIndex);a.push(n)}}catch(b){}a.push(u);const{amountCalculated:m,accounts:l,sqrtPriceX64:d,feeAmount:p}=X.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i.mul(h["l"]),c,r);return a.push(...l),{expectedAmountIn:m,remainingAccounts:a,executionPrice:d,feeAmount:p}}static getFirstInitializedTickArray(e,t){const{isInitialized:n,startIndex:i}=x.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[e.tickCurrent])?j.checkTickArrayIsInit(y.getArrayStartIndex(e.tickCurrent,e.tickSpacing),e.tickSpacing,e.exBitmapInfo):O.checkTickArrayIsInitialized(O.mergeTickArrayBitmap(e.tickArrayBitmap),e.tickCurrent,e.tickSpacing);if(n){const{publicKey:t}=Object(g["i"])(e.programId,e.id,i);return{isExist:!0,startIndex:i,nextAccountMeta:t}}const{isExist:r,nextStartIndex:o}=this.nextInitializedTickArrayStartIndex(e,y.getArrayStartIndex(e.tickCurrent,e.tickSpacing),t);if(r){const{publicKey:t}=Object(g["i"])(e.programId,e.id,o);return{isExist:!0,startIndex:o,nextAccountMeta:t}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,t){const n=Math.floor(e.tickCurrent/y.tickCount(e.tickSpacing)),i=t?O.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,n+1,1,e.tickSpacing):O.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,n-1,1,e.tickSpacing);return i.length>0?{isExist:!0,nextStartIndex:i[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,t,n){t=y.getArrayStartIndex(t,e.tickSpacing);while(1){const{isInit:i,tickIndex:r}=T.nextInitializedTickArrayStartIndex(O.mergeTickArrayBitmap(e.tickArrayBitmap),t,e.tickSpacing,n);if(i)return{isExist:!0,nextStartIndex:r};t=r;const{isInit:o,tickIndex:a}=j.nextInitializedTickArrayFromOneBitmap(t,e.tickSpacing,n,e.exBitmapInfo);if(o)return{isExist:!0,nextStartIndex:a};if(t=a,t<h["i"]||t>h["g"])return{isExist:!1,nextStartIndex:0}}}static async updatePoolRewardInfos({connection:e,apiPoolInfo:t,chainTime:n,poolLiquidity:i,rewardInfos:o}){const s=[];for(let l=0;l<o.length;l++){var c,u,m;const p=o[l],b=null!==(c=null===(u=t.rewardInfos[l])||void 0===u?void 0:u.programId)&&void 0!==c?c:null===(m=await e.getAccountInfo(p.tokenMint))||void 0===m?void 0:m.owner;if(void 0===b)throw Error("get new reward mint info error");const f={...p,perSecond:U.x64ToDecimal(p.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new r["e"](b)};if(f.tokenMint.equals(r["e"].default))continue;if(n<=f.openTime.toNumber()||i.eq(d["j"])){s.push(f);continue}const g=new a.a(Math.min(f.endTime.toNumber(),n)),w=g.sub(f.lastUpdateTime),y=U.mulDivFloor(w,f.emissionsPerSecondX64,i),k=f.rewardGrowthGlobalX64.add(y),A=U.mulDivFloor(w,f.emissionsPerSecondX64,h["n"]),O=f.rewardTotalEmissioned.add(A);s.push({...f,rewardGrowthGlobalX64:k,rewardTotalEmissioned:O,lastUpdateTime:g})}return s}static isOverflowDefaultTickarrayBitmap(e,t){const{maxTickBoundary:n,minTickBoundary:i}=this.tickRange(e);for(const r of t){const t=O.getTickArrayStartIndexByTick(r,e);if(t>=n||t<i)return!0}return!1}static tickRange(e){let t=T.maxTickInTickarrayBitmap(e),n=-t;return t>h["g"]&&(t=h["g"]),n<h["i"]&&(n=h["i"]),{maxTickBoundary:t,minTickBoundary:n}}static get_tick_array_offset(e,t){if(!y.checkIsValidStartIndex(e,t))throw new Error("No enough initialized tickArray");return e/y.tickCount(t)*A}}class U{static mulDivRoundingUp(e,t,n){const i=e.mul(t);let r=i.div(n);return i.mod(n).eq(d["j"])||(r=r.add(d["d"])),r}static mulDivFloor(e,t,n){if(n.eq(d["j"]))throw new Error("division by 0");return e.mul(t).div(n)}static mulDivCeil(e,t,n){if(n.eq(d["j"]))throw new Error("division by 0");const i=e.mul(t).add(n.sub(d["d"]));return i.div(n)}static x64ToDecimal(e,t){return new c.a(e.toString()).div(c.a.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new a.a(e.mul(c.a.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(h["m"]).sub(t).mod(h["m"])}}function E(e,t){return W(e.mul(t),64,256)}function _(e,t,n){const i=e.toTwos(n).shln(t);return i.imaskn(n+1),i.fromTwos(n)}function W(e,t,n){const i=e.toTwos(n).shrn(t);return i.imaskn(n-t+1),i.fromTwos(n-t)}class N{static sqrtPriceX64ToPrice(e,t,n){return U.x64ToDecimal(e).pow(2).mul(c.a.pow(10,t-n))}static priceToSqrtPriceX64(e,t,n){return U.decimalToX64(e.mul(c.a.pow(10,n-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,n,i){if(!e.gt(d["j"]))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(d["j"]))throw new Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!0)}static getNextSqrtPriceX64FromOutput(e,t,n,i){if(!e.gt(d["j"]))throw new Error("sqrtPriceX64 must greater than 0");if(!t.gt(d["j"]))throw new Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,n,i){if(n.eq(d["j"]))return e;const r=t.shln(h["o"]);if(i){const t=r,i=r.add(n.mul(e));return i.gte(t)?U.mulDivCeil(t,e,i):U.mulDivRoundingUp(t,d["d"],t.div(e).add(n))}{const t=n.mul(e);if(!r.gt(t))throw new Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");const i=r.sub(t);return U.mulDivCeil(r,e,i)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,n,i){const r=n.shln(h["o"]);if(i)return e.add(r.div(t));{const n=U.mulDivRoundingUp(r,d["d"],t);if(!e.gt(n))throw new Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(n)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw new Error("tick must be integer");if(e<h["i"]||e>h["g"])throw new Error("tick must be in MIN_TICK and MAX_TICK");const t=e<0?-1*e:e;let n=0!=(1&t)?new a.a("18445821805675395072"):new a.a("18446744073709551616");return 0!=(2&t)&&(n=E(n,new a.a("18444899583751176192"))),0!=(4&t)&&(n=E(n,new a.a("18443055278223355904"))),0!=(8&t)&&(n=E(n,new a.a("18439367220385607680"))),0!=(16&t)&&(n=E(n,new a.a("18431993317065453568"))),0!=(32&t)&&(n=E(n,new a.a("18417254355718170624"))),0!=(64&t)&&(n=E(n,new a.a("18387811781193609216"))),0!=(128&t)&&(n=E(n,new a.a("18329067761203558400"))),0!=(256&t)&&(n=E(n,new a.a("18212142134806163456"))),0!=(512&t)&&(n=E(n,new a.a("17980523815641700352"))),0!=(1024&t)&&(n=E(n,new a.a("17526086738831433728"))),0!=(2048&t)&&(n=E(n,new a.a("16651378430235570176"))),0!=(4096&t)&&(n=E(n,new a.a("15030750278694412288"))),0!=(8192&t)&&(n=E(n,new a.a("12247334978884435968"))),0!=(16384&t)&&(n=E(n,new a.a("8131365268886854656"))),0!=(32768&t)&&(n=E(n,new a.a("3584323654725218816"))),0!=(65536&t)&&(n=E(n,new a.a("696457651848324352"))),0!=(131072&t)&&(n=E(n,new a.a("26294789957507116"))),0!=(262144&t)&&(n=E(n,new a.a("37481735321082"))),e>0&&(n=h["k"].div(n)),n}static getTickFromPrice(e,t,n){return N.getTickFromSqrtPriceX64(N.priceToSqrtPriceX64(e,t,n))}static getTickFromSqrtPriceX64(e){if(e.gt(h["f"])||e.lt(h["h"]))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const t=e.bitLength()-1,n=new a.a(t-64),i=_(n,32,128);let r=new a.a("8000000000000000","hex"),o=0,s=new a.a(0),c=t>=64?e.shrn(t-63):e.shln(63-t);while(r.gt(new a.a(0))&&o<h["a"]){c=c.mul(c);const e=c.shrn(127);c=c.shrn(63+e.toNumber()),s=s.add(r.mul(e)),r=r.shrn(1),o+=1}const u=s.shrn(32),m=i.add(u),l=m.mul(new a.a(h["c"])),d=W(l.sub(new a.a(h["d"])),64,128).toNumber(),p=W(l.add(new a.a(h["e"])),64,128).toNumber();if(d==p)return d;{const t=N.getSqrtPriceX64FromTick(p);return t.lte(e)?p:d}}}class F{static getTickWithPriceAndTickspacing(e,t,n,i){const r=N.getTickFromSqrtPriceX64(N.priceToSqrtPriceX64(e,n,i));let o=r/t;return o=o<0?Math.floor(o):Math.ceil(o),o*t}static roundPriceWithTickspacing(e,t,n,i){const r=F.getTickWithPriceAndTickspacing(e,t,n,i),o=N.getSqrtPriceX64FromTick(r);return N.sqrtPriceX64ToPrice(o,n,i)}}class K{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,n,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(d["j"]))throw new Error("sqrtPriceX64A must greater than 0");const r=n.ushln(h["o"]),o=t.sub(e);return i?U.mulDivRoundingUp(U.mulDivCeil(r,o,t),d["d"],e):U.mulDivFloor(r,o,t).div(e)}static getTokenAmountBFromLiquidity(e,t,n,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(d["j"]))throw new Error("sqrtPriceX64A must greater than 0");return i?U.mulDivCeil(n,t.sub(e),h["n"]):U.mulDivFloor(n,t.sub(e),h["n"])}static getLiquidityFromTokenAmountA(e,t,n,i){e.gt(t)&&([e,t]=[t,e]);const r=n.mul(e).mul(t),o=t.sub(e),a=r.div(o);return i?U.mulDivRoundingUp(a,d["d"],h["j"]):a.shrn(h["o"])}static getLiquidityFromTokenAmountB(e,t,n){return e.gt(t)&&([e,t]=[t,e]),U.mulDivFloor(n,h["j"],t.sub(e))}static getLiquidityFromTokenAmounts(e,t,n,i,r){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return K.getLiquidityFromTokenAmountA(t,n,i,!1);if(e.lt(n)){const o=K.getLiquidityFromTokenAmountA(e,n,i,!1),a=K.getLiquidityFromTokenAmountB(t,e,r);return o.lt(a)?o:a}return K.getLiquidityFromTokenAmountB(t,n,r)}static getAmountsFromLiquidity(e,t,n,i,r){if(t.gt(n)&&([t,n]=[n,t]),e.lte(t))return{amountA:K.getTokenAmountAFromLiquidity(t,n,i,r),amountB:new a.a(0)};if(e.lt(n)){const o=K.getTokenAmountAFromLiquidity(e,n,i,r),a=K.getTokenAmountBFromLiquidity(t,e,i,r);return{amountA:o,amountB:a}}return{amountA:new a.a(0),amountB:K.getTokenAmountBFromLiquidity(t,n,i,r)}}static getAmountsFromLiquidityWithSlippage(e,t,n,i,r,o,s){const{amountA:u,amountB:m}=K.getAmountsFromLiquidity(e,t,n,i,o),l=r?1+s:1-s,d=new a.a(new c.a(u.toString()).mul(l).toFixed(0)),p=new a.a(new c.a(m.toString()).mul(l).toFixed(0));return{amountSlippageA:d,amountSlippageB:p}}}class X{static swapCompute(e,t,n,i,r,o,s,c,u,m,l,p,b,f,w=!1){if(p.eq(d["j"]))throw new Error("amountSpecified must not be 0");if(f||(f=o?h["h"].add(d["d"]):h["f"].sub(d["d"])),o){if(f.lt(h["h"]))throw new Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(f.gte(l))throw new Error("sqrtPriceX64 must smaller than current")}else{if(f.gt(h["f"]))throw new Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(f.lte(l))throw new Error("sqrtPriceX64 must greater than current")}const k=p.gt(d["j"]),A={amountSpecifiedRemaining:p,amountCalculated:d["j"],sqrtPriceX64:l,tick:u>b?Math.min(b+y.tickCount(m)-1,u):b,accounts:[],liquidity:c,feeAmount:new a.a(0)};let S=b,I=n[b],T=!o&&I.startTickIndex===A.tick;while(!A.amountSpecifiedRemaining.eq(d["j"])&&!A.sqrtPriceX64.eq(f)){var j;const a={};a.sqrtPriceStartX64=A.sqrtPriceX64;const c=O.nextInitTick(I,A.tick,m,o,T);let u,l=c||null,d=null;if(null===(j=l)||void 0===j||!j.liquidityGross.gtn(0)){const a=x.nextInitializedTickArrayStartIndex({tickCurrent:A.tick,tickSpacing:m,tickArrayBitmap:i,exBitmapInfo:r},S,o);if(!a.isExist){if(w)return{allTrade:!1,amountSpecifiedRemaining:A.amountSpecifiedRemaining,amountCalculated:A.amountCalculated,feeAmount:A.feeAmount,sqrtPriceX64:A.sqrtPriceX64,liquidity:A.liquidity,tickCurrent:A.tick,accounts:A.accounts};throw Error("swapCompute LiquidityInsufficient")}S=a.nextStartIndex;const{publicKey:s}=Object(g["i"])(e,t,S);d=s,I=n[S];try{l=O.firstInitializedTick(I,o)}catch(v){throw Error("not found next tick info")}}if(a.tickNext=l.tick,a.initialized=l.liquidityGross.gtn(0),b!==S&&d&&(A.accounts.push(d),b=S),a.tickNext<h["i"]?a.tickNext=h["i"]:a.tickNext>h["g"]&&(a.tickNext=h["g"]),a.sqrtPriceNextX64=N.getSqrtPriceX64FromTick(a.tickNext),u=o&&a.sqrtPriceNextX64.lt(f)||!o&&a.sqrtPriceNextX64.gt(f)?f:a.sqrtPriceNextX64,[A.sqrtPriceX64,a.amountIn,a.amountOut,a.feeAmount]=X.swapStepCompute(A.sqrtPriceX64,u,A.liquidity,A.amountSpecifiedRemaining,s),A.feeAmount=A.feeAmount.add(a.feeAmount),k?(A.amountSpecifiedRemaining=A.amountSpecifiedRemaining.sub(a.amountIn.add(a.feeAmount)),A.amountCalculated=A.amountCalculated.sub(a.amountOut)):(A.amountSpecifiedRemaining=A.amountSpecifiedRemaining.add(a.amountOut),A.amountCalculated=A.amountCalculated.add(a.amountIn.add(a.feeAmount))),A.sqrtPriceX64.eq(a.sqrtPriceNextX64)){if(a.initialized){let e=l.liquidityNet;o&&(e=e.mul(h["l"])),A.liquidity=K.addDelta(A.liquidity,e)}T=a.tickNext!=A.tick&&!o&&I.startTickIndex===a.tickNext,A.tick=o?a.tickNext-1:a.tickNext}else if(A.sqrtPriceX64!=a.sqrtPriceStartX64){const e=N.getTickFromSqrtPriceX64(A.sqrtPriceX64);T=e!=A.tick&&!o&&I.startTickIndex===e,A.tick=e}0}try{const{nextStartIndex:n,isExist:a}=y.nextInitializedTickArray(A.tick,m,o,i,r);a&&b!==n&&(A.accounts.push(Object(g["i"])(e,t,n).publicKey),b=n)}catch(v){}return{allTrade:!0,amountSpecifiedRemaining:d["j"],amountCalculated:A.amountCalculated,feeAmount:A.feeAmount,sqrtPriceX64:A.sqrtPriceX64,liquidity:A.liquidity,tickCurrent:A.tick,accounts:A.accounts}}static swapStepCompute(e,t,n,i,r){const o={sqrtPriceX64Next:new a.a(0),amountIn:new a.a(0),amountOut:new a.a(0),feeAmount:new a.a(0)},s=e.gte(t),c=i.gte(d["j"]);if(c){const c=U.mulDivFloor(i,h["b"].sub(new a.a(r.toString())),h["b"]);o.amountIn=s?K.getTokenAmountAFromLiquidity(t,e,n,!0):K.getTokenAmountBFromLiquidity(e,t,n,!0),c.gte(o.amountIn)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=N.getNextSqrtPriceX64FromInput(e,n,c,s)}else o.amountOut=s?K.getTokenAmountBFromLiquidity(t,e,n,!1):K.getTokenAmountAFromLiquidity(e,t,n,!1),i.mul(h["l"]).gte(o.amountOut)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=N.getNextSqrtPriceX64FromOutput(e,n,i.mul(h["l"]),s);const u=t.eq(o.sqrtPriceX64Next);return s?(u&&c||(o.amountIn=K.getTokenAmountAFromLiquidity(o.sqrtPriceX64Next,e,n,!0)),u&&!c||(o.amountOut=K.getTokenAmountBFromLiquidity(o.sqrtPriceX64Next,e,n,!1))):(o.amountIn=u&&c?o.amountIn:K.getTokenAmountBFromLiquidity(e,o.sqrtPriceX64Next,n,!0),o.amountOut=u&&!c?o.amountOut:K.getTokenAmountAFromLiquidity(e,o.sqrtPriceX64Next,n,!1)),!c&&o.amountOut.gt(i.mul(h["l"]))&&(o.amountOut=i.mul(h["l"])),c&&!o.sqrtPriceX64Next.eq(t)?o.feeAmount=i.sub(o.amountIn):o.feeAmount=U.mulDivCeil(o.amountIn,new a.a(r),h["b"].sub(new a.a(r))),[o.sqrtPriceX64Next,o.amountIn,o.amountOut,o.feeAmount]}}class Y{static getfeeGrowthInside(e,t,n){let i=new a.a(0),r=new a.a(0);e.tickCurrent>=t.tick?(i=t.feeGrowthOutsideX64A,r=t.feeGrowthOutsideX64B):(i=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),r=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let o=new a.a(0),s=new a.a(0);e.tickCurrent<n.tick?(o=n.feeGrowthOutsideX64A,s=n.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(n.feeGrowthOutsideX64A),s=e.feeGrowthGlobalX64B.sub(n.feeGrowthOutsideX64B));const c=U.wrappingSubU128(U.wrappingSubU128(e.feeGrowthGlobalX64A,i),o),u=U.wrappingSubU128(U.wrappingSubU128(e.feeGrowthGlobalX64B,r),s);return{feeGrowthInsideX64A:c,feeGrowthInsideBX64:u}}static GetPositionFees(e,t,n,i){const{feeGrowthInsideX64A:r,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,n,i),a=U.mulDivFloor(U.wrappingSubU128(r,t.feeGrowthInsideLastX64A),t.liquidity,h["n"]),s=t.tokenFeesOwedA.add(a),c=U.mulDivFloor(U.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,h["n"]),u=t.tokenFeesOwedB.add(c);return{tokenFeeAmountA:s,tokenFeeAmountB:u}}static GetPositionRewards(e,t,n,i){const r=[],o=this.getRewardGrowthInside(e.tickCurrent,n,i,e.rewardInfos);for(let a=0;a<o.length;a++){const e=o[a],n=t.rewardInfos[a],i=U.wrappingSubU128(e,n.growthInsideLastX64),s=U.mulDivFloor(i,t.liquidity,h["n"]),c=n.rewardAmountOwed.add(s);r.push(c)}return r}static getRewardGrowthInside(e,t,n,i){const r=[];for(let o=0;o<i.length;o++){let s=new a.a(0);s=t.liquidityGross.eqn(0)?i[o].rewardGrowthGlobalX64:e<t.tick?i[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):t.rewardGrowthsOutsideX64[o];let c=new a.a(0);n.liquidityGross.eqn(0)||(c=e<n.tick?n.rewardGrowthsOutsideX64[o]:i[o].rewardGrowthGlobalX64.sub(n.rewardGrowthsOutsideX64[o])),r.push(U.wrappingSubU128(U.wrappingSubU128(i[o].rewardGrowthGlobalX64,s),c))}return r}}const G=l["e"].from("Clmm");class z extends u["b"]{static makeMockPoolInfo({programId:e,mint1:t,mint2:n,ammConfig:i,createPoolInstructionSimpleAddress:o,initialPrice:s,startTime:u,owner:m}){const[l,p,b]=new a.a(t.mint.toBuffer()).gt(new a.a(n.mint.toBuffer()))?[n,t,new c.a(1).div(s)]:[t,n,s],f=N.priceToSqrtPriceX64(b,l.decimals,p.decimals);return{id:o.poolId,mintA:{programId:o.mintProgramIdA,mint:o.mintA,vault:o.mintAVault,decimals:l.decimals},mintB:{programId:o.mintProgramIdB,mint:o.mintB,vault:o.mintBVault,decimals:p.decimals},ammConfig:i,observationId:o.observationId,creator:m,programId:e,version:6,tickSpacing:i.tickSpacing,liquidity:d["j"],sqrtPriceX64:f,currentPrice:b,tickCurrent:0,observationIndex:0,observationUpdateDuration:0,feeGrowthGlobalX64A:d["j"],feeGrowthGlobalX64B:d["j"],protocolFeesTokenA:d["j"],protocolFeesTokenB:d["j"],swapInAmountTokenA:d["j"],swapOutAmountTokenB:d["j"],swapInAmountTokenB:d["j"],swapOutAmountTokenA:d["j"],tickArrayBitmap:[],rewardInfos:[],day:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},week:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},month:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},tvl:0,lookupTableAccount:r["e"].default,startTime:u.toNumber(),exBitmapInfo:{poolId:o.poolId,positiveTickArrayBitmap:Array.from({length:I},()=>Array.from({length:8},()=>new a.a(0))),negativeTickArrayBitmap:Array.from({length:I},()=>Array.from({length:8},()=>new a.a(0)))}}}static async makeCreatePoolInstructionSimple({makeTxVersion:e,connection:t,programId:n,owner:i,payer:r,mint1:o,mint2:s,ammConfig:u,initialPrice:m,startTime:d,computeBudgetConfig:p,lookupTableCache:b}){const[f,h,g]=new a.a(o.mint.toBuffer()).gt(new a.a(s.mint.toBuffer()))?[s,o,new c.a(1).div(m)]:[o,s,m],w=N.priceToSqrtPriceX64(g,f.decimals,h.decimals),y=await this.makeCreatePoolInstructions({connection:t,programId:n,owner:i,mintA:f,mintB:h,ammConfigId:u.id,initialPriceX64:w,startTime:d});return{address:{...y.address,mintA:f.mint,mintB:h.mint,mintProgramIdA:f.programId,mintProgramIdB:h.programId},innerTransactions:await Object(l["u"])({connection:t,makeTxVersion:e,computeBudgetConfig:p,payer:r,innerTransaction:[y.innerTransaction],lookupTableCache:b})}}static async makeOpenPositionFromLiquidityInstructionSimple({makeTxVersion:e,connection:t,poolInfo:n,ownerInfo:i,amountMaxA:r,amountMaxB:o,tickLower:a,tickUpper:s,liquidity:c,associatedOnly:u=!0,checkCreateATAOwner:m=!1,withMetadata:p="create",getEphemeralSigners:b,computeBudgetConfig:f,lookupTableCache:h}){const g=[],w=[],y=[],k=[],A=[],O=i.useSOLBalance&&n.mintA.mint.equals(d["h"].WSOL.mint),S=i.useSOLBalance&&n.mintB.mint.equals(d["h"].WSOL.mint),I=await this._selectOrCreateTokenAccount({programId:n.mintA.programId,mint:n.mintA.mint,tokenAccounts:O?[]:i.tokenAccounts,owner:i.wallet,createInfo:O||r.eq(d["j"])?{connection:t,payer:i.feePayer,amount:r,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!O&&u,checkCreateATAOwner:m}),T=await this._selectOrCreateTokenAccount({programId:n.mintB.programId,mint:n.mintB.mint,tokenAccounts:S?[]:i.tokenAccounts,owner:i.wallet,createInfo:S||o.eq(d["j"])?{connection:t,payer:i.feePayer,amount:o,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!S&&u,checkCreateATAOwner:m});G.assertArgument(void 0!==I&&void 0!==T,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);const j=await this.makeOpenPositionFromLiquidityInstructions({poolInfo:n,ownerInfo:{...i,tokenAccountA:I,tokenAccountB:T},tickLower:a,tickUpper:s,liquidity:c,amountMaxA:r,amountMaxB:o,withMetadata:p,getEphemeralSigners:b});return{address:j.address,innerTransactions:await Object(l["u"])({connection:t,makeTxVersion:e,computeBudgetConfig:f,payer:i.feePayer,innerTransaction:[{instructionTypes:y,instructions:g,signers:A},j.innerTransaction,{instructionTypes:k,instructions:w,signers:[]}],lookupTableCache:h})}}static async makeOpenPositionFromBaseInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,tickLower:i,tickUpper:r,base:o,baseAmount:a,otherAmountMax:s,associatedOnly:c=!0,checkCreateATAOwner:u=!1,computeBudgetConfig:m,withMetadata:p="create",makeTxVersion:b,lookupTableCache:f,getEphemeralSigners:h}){const g=[],w=[],y=[],k=[],A=[],O=n.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),S=n.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),I=await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:O?[]:n.tokenAccounts,owner:n.wallet,createInfo:O?{connection:e,payer:n.feePayer,amount:"MintA"===o?a:s,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!O&&c,checkCreateATAOwner:u}),T=await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:S?[]:n.tokenAccounts,owner:n.wallet,createInfo:S?{connection:e,payer:n.feePayer,amount:"MintA"===o?s:a,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!S&&c,checkCreateATAOwner:u});G.assertArgument(void 0!==I&&void 0!==T,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);const j=await this.makeOpenPositionFromBaseInstructions({poolInfo:t,ownerInfo:{...n,tokenAccountA:I,tokenAccountB:T},tickLower:i,tickUpper:r,base:o,baseAmount:a,otherAmountMax:s,withMetadata:p,getEphemeralSigners:h});return{address:j.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:b,computeBudgetConfig:m,payer:n.feePayer,innerTransaction:[{instructionTypes:y,instructions:g,signers:A},j.innerTransaction,{instructionTypes:k,instructions:w,signers:[]}],lookupTableCache:f})}}static async makeIncreasePositionFromLiquidityInstructionSimple({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,amountMaxA:r,amountMaxB:o,liquidity:a,associatedOnly:s=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:u,makeTxVersion:m,lookupTableCache:p}){const b=[],f=[],h=[],g=[],w=[],y=i.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),k=i.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),A=await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:y?[]:i.tokenAccounts,owner:i.wallet,createInfo:y?{connection:e,payer:i.feePayer,amount:r,frontInstructions:b,endInstructions:f,frontInstructionsType:h,endInstructionsType:g,signers:w}:void 0,associatedOnly:!y&&s,checkCreateATAOwner:c}),O=await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:k?[]:i.tokenAccounts,owner:i.wallet,createInfo:k?{connection:e,payer:i.feePayer,amount:o,frontInstructions:b,endInstructions:f,frontInstructionsType:h,endInstructionsType:g,signers:w}:void 0,associatedOnly:!k&&s,checkCreateATAOwner:c});G.assertArgument(!!A||!!O,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);const S=this.makeIncreasePositionFromLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:A,tokenAccountB:O},liquidity:a,amountMaxA:r,amountMaxB:o});return{address:S.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:m,computeBudgetConfig:u,payer:i.feePayer,innerTransaction:[{instructionTypes:h,instructions:b,signers:w},S.innerTransaction,{instructionTypes:g,instructions:f,signers:[]}],lookupTableCache:p})}}static async makeIncreasePositionFromBaseInstructionSimple({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,base:r,baseAmount:o,otherAmountMax:a,associatedOnly:s=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:u,makeTxVersion:m,lookupTableCache:p}){const b=[],f=[],h=[],g=[],w=[],y=i.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),k=i.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),A=await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:y?[]:i.tokenAccounts,owner:i.wallet,createInfo:y?{connection:e,payer:i.feePayer,amount:"MintA"===r?o:a,frontInstructions:b,endInstructions:f,frontInstructionsType:h,endInstructionsType:g,signers:w}:void 0,associatedOnly:!y&&s,checkCreateATAOwner:c}),O=await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:k?[]:i.tokenAccounts,owner:i.wallet,createInfo:k?{connection:e,payer:i.feePayer,amount:"MintA"===r?a:o,frontInstructions:b,endInstructions:f,frontInstructionsType:h,endInstructionsType:g,signers:w}:void 0,associatedOnly:!k&&s,checkCreateATAOwner:c});G.assertArgument(!!A||!!O,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);const S=this.makeIncreasePositionFromBaseInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:A,tokenAccountB:O},base:r,baseAmount:o,otherAmountMax:a});return{address:S.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:m,computeBudgetConfig:u,payer:i.feePayer,innerTransaction:[{instructionTypes:h,instructions:b,signers:w},S.innerTransaction,{instructionTypes:g,instructions:f,signers:[]}],lookupTableCache:p})}}static async makeDecreaseLiquidityInstructionSimple({connection:e,poolInfo:t,ownerPosition:n,ownerInfo:i,liquidity:r,amountMinA:o,amountMinB:a,associatedOnly:s=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:u,makeTxVersion:m,lookupTableCache:p}){const b=[],f=[],h=[],g=[],w=[],y=i.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),k=i.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),A=await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:y?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:b,frontInstructionsType:h,endInstructions:y?f:[],endInstructionsType:y?g:[],signers:w},associatedOnly:!y&&s,checkCreateATAOwner:c}),O=await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:k?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:b,frontInstructionsType:h,endInstructions:k?f:[],endInstructionsType:k?g:[],signers:w},associatedOnly:!k&&s,checkCreateATAOwner:c}),S=[];for(const l of t.rewardInfos){const n=i.useSOLBalance&&l.tokenMint.equals(d["h"].WSOL.mint),r=l.tokenMint.equals(t.mintA.mint)?A:l.tokenMint.equals(t.mintB.mint)?O:await this._selectOrCreateTokenAccount({programId:l.tokenProgramId,mint:l.tokenMint,tokenAccounts:n?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:b,frontInstructionsType:h,endInstructions:n?f:[],endInstructionsType:n?g:[],signers:w},associatedOnly:!n&&s,checkCreateATAOwner:c});S.push(r)}G.assertArgument(!!A||!!O,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);const I=this.makeDecreaseLiquidityInstructions({poolInfo:t,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:A,tokenAccountB:O,rewardAccounts:S},liquidity:r,amountMinA:o,amountMinB:a}),T=i.closePosition?this.makeClosePositionInstructions({poolInfo:t,ownerInfo:i,ownerPosition:n}):{address:{},innerTransaction:{instructions:[],signers:[],instructionTypes:[]}};return{address:I.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:m,computeBudgetConfig:u,payer:i.feePayer,innerTransaction:[{instructionTypes:h,instructions:b,signers:w},I.innerTransaction,{instructionTypes:g,instructions:f,signers:[]},T.innerTransaction],lookupTableCache:p})}}static async makeSwapBaseInInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,inputMint:i,amountIn:r,amountOutMin:o,priceLimit:a,remainingAccounts:s,associatedOnly:u=!0,checkCreateATAOwner:m=!1,computeBudgetConfig:p,makeTxVersion:b,lookupTableCache:f}){const g=[],w=[],y=[],k=[],A=[];let O;O=!a||a.equals(new c.a(0))?i.equals(t.mintA.mint)?h["h"].add(d["d"]):h["f"].sub(d["d"]):N.priceToSqrtPriceX64(a,t.mintA.decimals,t.mintB.decimals);const S=t.mintA.mint.equals(i),I=n.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),T=n.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),j=await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:I?[]:n.tokenAccounts,owner:n.wallet,createInfo:I||!S?{connection:e,payer:n.feePayer,amount:S?r:0,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!I&&u,checkCreateATAOwner:m}),v=await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:T||S?{connection:e,payer:n.feePayer,amount:S?0:r,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!T&&u,checkCreateATAOwner:m});G.assertArgument(!!j||!!v,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);const C=this.makeSwapBaseInInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:j,tokenAccountB:v},inputMint:i,amountIn:r,amountOutMin:o,sqrtPriceLimitX64:O,remainingAccounts:s});return{address:C.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:b,computeBudgetConfig:p,payer:n.feePayer,innerTransaction:[{instructionTypes:y,instructions:g,signers:A},C.innerTransaction,{instructionTypes:k,instructions:w,signers:[]}],lookupTableCache:f})}}static async makeSwapBaseOutInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,outputMint:i,amountOut:r,amountInMax:o,priceLimit:a,remainingAccounts:s,associatedOnly:u=!0,checkCreateATAOwner:m=!1,computeBudgetConfig:p,makeTxVersion:b,lookupTableCache:f}){const g=[],w=[],y=[],k=[],A=[];let O;O=!a||a.equals(new c.a(0))?i.equals(t.mintB.mint)?h["h"].add(d["d"]):h["f"].sub(d["d"]):N.priceToSqrtPriceX64(a,t.mintA.decimals,t.mintB.decimals);const S=t.mintA.mint.equals(i),I=n.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),T=n.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),j=await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:I?[]:n.tokenAccounts,owner:n.wallet,createInfo:I||!S?{connection:e,payer:n.feePayer,amount:S?o:0,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!I&&u,checkCreateATAOwner:m}),v=await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:T||S?{connection:e,payer:n.feePayer,amount:S?0:o,frontInstructions:g,endInstructions:w,frontInstructionsType:y,endInstructionsType:k,signers:A}:void 0,associatedOnly:!T&&u,checkCreateATAOwner:m});G.assertArgument(!!j||!!v,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);const C=this.makeSwapBaseOutInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccountA:j,tokenAccountB:v},outputMint:i,amountOut:r,amountInMax:o,sqrtPriceLimitX64:O,remainingAccounts:s});return{address:C.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:b,computeBudgetConfig:p,payer:n.feePayer,innerTransaction:[{instructionTypes:y,instructions:g,signers:A},C.innerTransaction,{instructionTypes:k,instructions:w,signers:[]}],lookupTableCache:f})}}static async makeCLosePositionInstructionSimple({poolInfo:e,ownerPosition:t,ownerInfo:n,makeTxVersion:i,lookupTableCache:r,connection:o}){const a=this.makeClosePositionInstructions({poolInfo:e,ownerInfo:n,ownerPosition:t});return{address:a.address,innerTransactions:await Object(l["u"])({connection:o,makeTxVersion:i,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[a.innerTransaction],lookupTableCache:r})}}static async makeInitRewardInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:i,chainTime:r,associatedOnly:o=!0,checkCreateATAOwner:s=!1,makeTxVersion:u,lookupTableCache:m}){G.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i),G.assertArgument(i.openTime>r,"reward must be paid later","rewardInfo",i);const p=[],b=[],f=[],h=[],g=[],w=n.useSOLBalance&&i.mint.equals(d["h"].WSOL.mint),y=i.perSecond.mul(i.endTime-i.openTime),k=await this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mint,tokenAccounts:w?[]:n.tokenAccounts,owner:n.wallet,createInfo:w?{connection:e,payer:n.feePayer,amount:new a.a(new c.a(y.toFixed(0)).gte(y)?y.toFixed(0):y.add(1).toFixed(0)),frontInstructions:p,endInstructions:b,frontInstructionsType:f,endInstructionsType:h,signers:g}:void 0,associatedOnly:!w&&o,checkCreateATAOwner:s});G.assertArgument(k,"no money","ownerRewardAccount",n.tokenAccounts);const A=this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:k},rewardInfo:{programId:i.programId,mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:U.decimalToX64(i.perSecond)}});return{address:A.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:u,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[{instructionTypes:f,instructions:p,signers:g},A.innerTransaction,{instructionTypes:h,instructions:b,signers:[]}],lookupTableCache:m})}}static async makeInitRewardsInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:i,associatedOnly:r=!0,checkCreateATAOwner:o=!1,computeBudgetConfig:s,makeTxVersion:u,lookupTableCache:m}){for(const a of i)G.assertArgument(a.endTime>a.openTime,"reward time error","rewardInfo",a);const p=[],b=[],f=[],h=[],g=[],w=[];for(const l of i){const i=n.useSOLBalance&&l.mint.equals(d["h"].WSOL.mint),s=l.perSecond.mul(l.endTime-l.openTime),u=await this._selectOrCreateTokenAccount({programId:l.programId,mint:l.mint,tokenAccounts:i?[]:n.tokenAccounts,owner:n.wallet,createInfo:i?{connection:e,payer:n.feePayer,amount:new a.a(new c.a(s.toFixed(0)).gte(s)?s.toFixed(0):s.add(1).toFixed(0)),frontInstructions:p,endInstructions:b,frontInstructionsType:f,endInstructionsType:h,signers:w}:void 0,associatedOnly:!i&&r,checkCreateATAOwner:o});G.assertArgument(u,"no money","ownerRewardAccount",n.tokenAccounts),g.push(this.makeInitRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:u},rewardInfo:{programId:l.programId,mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:U.decimalToX64(l.perSecond)}}))}let y={};for(const a of g)y={...y,...a.address};return{address:y,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:u,computeBudgetConfig:s,payer:n.feePayer,innerTransaction:[{instructionTypes:f,instructions:p,signers:w},...g.map(e=>e.innerTransaction),{instructionTypes:h,instructions:b,signers:[]}],lookupTableCache:m})}}static async makeSetRewardInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,rewardInfo:i,chainTime:r,associatedOnly:o=!0,checkCreateATAOwner:s=!1,makeTxVersion:u,lookupTableCache:m}){G.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i),G.assertArgument(i.openTime>r,"reward must be paid later","rewardInfo",i);const p=[],b=[],f=[],h=[],g=[],w=n.useSOLBalance&&i.mint.equals(d["h"].WSOL.mint),y=await this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mint,tokenAccounts:w?[]:n.tokenAccounts,owner:n.wallet,createInfo:w?{connection:e,payer:n.feePayer,amount:new a.a(new c.a(i.perSecond.sub(i.endTime-i.openTime).toFixed(0)).gte(i.perSecond.sub(i.endTime-i.openTime))?i.perSecond.sub(i.endTime-i.openTime).toFixed(0):i.perSecond.sub(i.endTime-i.openTime).add(1).toFixed(0)),frontInstructions:p,endInstructions:b,frontInstructionsType:f,endInstructionsType:h,signers:g}:void 0,associatedOnly:!w&&o,checkCreateATAOwner:s});G.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);const k=this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:U.decimalToX64(i.perSecond)}});return{address:k.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:u,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[{instructionTypes:f,instructions:p,signers:g},k.innerTransaction,{instructionTypes:h,instructions:b,signers:[]}],lookupTableCache:m})}}static async makeSetRewardsInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,rewardInfos:i,chainTime:r,associatedOnly:o=!0,checkCreateATAOwner:s=!1,computeBudgetConfig:u,makeTxVersion:m,lookupTableCache:p}){const b=[],f=[],h=[],g=[],w=[],y=[];for(const l of i){G.assertArgument(l.endTime>l.openTime,"reward time error","rewardInfo",l),G.assertArgument(l.openTime>r,"reward must be paid later","rewardInfo",l);const i=n.useSOLBalance&&l.mint.equals(d["h"].WSOL.mint),u=await this._selectOrCreateTokenAccount({programId:l.programId,mint:l.mint,tokenAccounts:i?[]:n.tokenAccounts,owner:n.wallet,createInfo:i?{connection:e,payer:n.feePayer,amount:new a.a(new c.a(l.perSecond.sub(l.endTime-l.openTime).toFixed(0)).gte(l.perSecond.sub(l.endTime-l.openTime))?l.perSecond.sub(l.endTime-l.openTime).toFixed(0):l.perSecond.sub(l.endTime-l.openTime).add(1).toFixed(0)),frontInstructions:b,endInstructions:f,frontInstructionsType:h,endInstructionsType:g,signers:y}:void 0,associatedOnly:!i&&o,checkCreateATAOwner:s});G.assertArgument(u,"no money","ownerRewardAccount",n.tokenAccounts),w.push(this.makeSetRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:u},rewardInfo:{mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:U.decimalToX64(l.perSecond)}}))}let k={};for(const a of w)k={...k,...a.address};return{address:k,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:m,computeBudgetConfig:u,payer:n.feePayer,innerTransaction:[{instructionTypes:h,instructions:b,signers:y},...w.map(e=>e.innerTransaction),{instructionTypes:g,instructions:f,signers:[]}],lookupTableCache:p})}}static async makeCollectRewardInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,rewardMint:i,associatedOnly:r=!0,checkCreateATAOwner:o=!1,computeBudgetConfig:a,makeTxVersion:s,lookupTableCache:c}){const u=[],m=[],p=[],b=[],f=[],h=t.rewardInfos.find(e=>e.tokenMint.equals(i));if(G.assertArgument(void 0!==h,"reward mint error","not found reward mint",i),void 0===h)throw Error("reward mint error");const g=n.useSOLBalance&&i.equals(d["h"].WSOL.mint),w=await this._selectOrCreateTokenAccount({programId:h.tokenProgramId,mint:i,tokenAccounts:g?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:u,endInstructions:g?m:[],frontInstructionsType:p,endInstructionsType:b,signers:f},associatedOnly:!g&&r,checkCreateATAOwner:o});G.assertArgument(w,"no money","ownerRewardAccount",n.tokenAccounts);const y=this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:w},rewardMint:i});return{address:y.address,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:s,computeBudgetConfig:a,payer:n.feePayer,innerTransaction:[{instructionTypes:p,instructions:u,signers:f},y.innerTransaction,{instructionTypes:b,instructions:m,signers:[]}],lookupTableCache:c})}}static async makeCollectRewardsInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,rewardMints:i,associatedOnly:r=!0,checkCreateATAOwner:o=!1,computeBudgetConfig:a,makeTxVersion:s,lookupTableCache:c}){const u=[],m=[],p=[],b=[],f=[],h=[];for(const l of i){const i=t.rewardInfos.find(e=>e.tokenMint.equals(l));if(G.assertArgument(void 0!==i,"reward mint error","not found reward mint",l),void 0===i)throw Error("reward mint error");const a=n.useSOLBalance&&l.equals(d["h"].WSOL.mint),s=await this._selectOrCreateTokenAccount({programId:i.tokenProgramId,mint:l,tokenAccounts:a?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:u,endInstructions:a?m:[],signers:h,frontInstructionsType:p,endInstructionsType:b},associatedOnly:!a&&r,checkCreateATAOwner:o});G.assertArgument(s,"no money","ownerRewardAccount",n.tokenAccounts),f.push(this.makeCollectRewardInstructions({poolInfo:t,ownerInfo:{wallet:n.wallet,tokenAccount:s},rewardMint:l}))}let g={};for(const l of f)g={...g,...l.address};return{address:g,innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:s,computeBudgetConfig:a,payer:n.feePayer,innerTransaction:[{instructionTypes:p,instructions:u,signers:h},...f.map(e=>e.innerTransaction),{instructionTypes:b,instructions:m,signers:[]}],lookupTableCache:c})}}static async makeHarvestAllRewardInstructionSimple({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:i=!0,checkCreateATAOwner:r=!1,makeTxVersion:o,lookupTableCache:a}){const s={};for(const l of n.tokenAccounts)if(i){const e=Object(m["a"])(n.wallet,l.accountInfo.mint,l.programId).publicKey;e.equals(l.pubkey)&&(s[l.accountInfo.mint.toString()]=l.pubkey)}else s[l.accountInfo.mint.toString()]=l.pubkey;const c=[],u=[],p=[],b=[],f=[],h=[];for(const m of Object.values(t)){var g,w;if(void 0===m.positionAccount)continue;if(!m.positionAccount.find(e=>!e.tokenFeeAmountA.isZero()||!e.tokenFeeAmountB.isZero()||e.rewardInfos.find(e=>!e.pendingReward.isZero())))continue;const t=m.state,o=n.useSOLBalance&&t.mintA.mint.equals(d["h"].WSOL.mint),a=n.useSOLBalance&&t.mintB.mint.equals(d["h"].WSOL.mint),l=null!==(g=s[t.mintA.mint.toString()])&&void 0!==g?g:await this._selectOrCreateTokenAccount({programId:t.mintA.programId,mint:t.mintA.mint,tokenAccounts:o?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:c,frontInstructionsType:p,endInstructions:o?u:[],endInstructionsType:o?b:[],signers:h},associatedOnly:!o&&i,checkCreateATAOwner:r}),k=null!==(w=s[t.mintB.mint.toString()])&&void 0!==w?w:await this._selectOrCreateTokenAccount({programId:t.mintB.programId,mint:t.mintB.mint,tokenAccounts:a?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:c,frontInstructionsType:p,endInstructions:a?u:[],endInstructionsType:a?b:[],signers:h},associatedOnly:!a&&i,checkCreateATAOwner:r});s[t.mintA.mint.toString()]=l,s[t.mintB.mint.toString()]=k;const A=[];for(const m of t.rewardInfos){var y;const t=n.useSOLBalance&&m.tokenMint.equals(d["h"].WSOL.mint),o=null!==(y=s[m.tokenMint.toString()])&&void 0!==y?y:await this._selectOrCreateTokenAccount({programId:m.tokenProgramId,mint:m.tokenMint,tokenAccounts:t?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:c,endInstructions:t?u:[],frontInstructionsType:p,endInstructionsType:b,signers:h},associatedOnly:!t&&i,checkCreateATAOwner:r});s[m.tokenMint.toString()]=o,A.push(o)}for(const e of m.positionAccount)f.push(this.makeDecreaseLiquidityInstructions({poolInfo:t,ownerPosition:e,ownerInfo:{wallet:n.wallet,tokenAccountA:l,tokenAccountB:k,rewardAccounts:A},liquidity:d["j"],amountMinA:d["j"],amountMinB:d["j"]}))}return{address:{},innerTransactions:await Object(l["u"])({connection:e,makeTxVersion:o,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[{instructionTypes:p,instructions:c,signers:h},...f.map(e=>e.innerTransaction),{instructionTypes:b,instructions:u,signers:[]}],lookupTableCache:a})}}static async makeCreatePoolInstructions({connection:e,programId:t,owner:n,mintA:i,mintB:o,ammConfigId:a,initialPriceX64:s,startTime:c}){const m=Object(u["h"])({fromPublicKey:n,programId:t}),l=Object(g["e"])(t,a,i.mint,o.mint).publicKey,d=Object(g["g"])(t,l,i.mint).publicKey,p=Object(g["g"])(t,l,o.mint).publicKey,f=[r["h"].createAccountWithSeed({fromPubkey:n,basePubkey:n,seed:m.seed,newAccountPubkey:m.publicKey,lamports:await e.getMinimumBalanceForRentExemption(C.span),space:C.span,programId:t}),Object(b["c"])(t,l,n,a,m.publicKey,i.mint,d,i.programId,o.mint,p,o.programId,Object(g["a"])(t,l).publicKey,s,c)];return{address:{observationId:m.publicKey,poolId:l,mintAVault:d,mintBVault:p},innerTransaction:{instructions:f,signers:[],instructionTypes:[u["c"].createAccount,u["c"].clmmCreatePool],lookupTableAddress:[]}}}static async makeOpenPositionFromLiquidityInstructions({poolInfo:e,ownerInfo:t,tickLower:n,tickUpper:i,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:c,getEphemeralSigners:d}){const p=[];let f;if(d)f=new r["e"]((await d(1))[0]);else{const e=r["d"].generate();p.push(e),f=e.publicKey}const h=O.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),w=O.getTickArrayStartIndexByTick(i,e.ammConfig.tickSpacing),{publicKey:y}=Object(g["i"])(e.programId,e.id,h),{publicKey:k}=Object(g["i"])(e.programId,e.id,w),{publicKey:A}=Object(m["a"])(t.wallet,f,l["l"]),{publicKey:S}=Object(g["b"])(f),{publicKey:I}=Object(g["d"])(e.programId,f),{publicKey:T}=Object(g["h"])(e.programId,e.id,n,i),j=Object(b["i"])(e.programId,t.feePayer,e.id,t.wallet,f,A,S,T,y,k,I,t.tokenAccountA,t.tokenAccountB,e.mintA.vault,e.mintB.vault,e.mintA.mint,e.mintB.mint,n,i,h,w,o,a,s,c,x.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[h,w])?Object(g["a"])(e.programId,e.id).publicKey:void 0);return{address:{nftMint:f,tickArrayLower:y,tickArrayUpper:k,positionNftAccount:A,metadataAccount:S,personalPosition:I,protocolPosition:T},innerTransaction:{instructions:[j],signers:p,instructionTypes:[u["c"].clmmOpenPosition],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static async makeOpenPositionFromBaseInstructions({poolInfo:e,ownerInfo:t,tickLower:n,tickUpper:i,base:o,baseAmount:a,otherAmountMax:s,withMetadata:c,getEphemeralSigners:d}){const p=[];let f;if(d)f=new r["e"]((await d(1))[0]);else{const e=r["d"].generate();p.push(e),f=e.publicKey}const h=O.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),w=O.getTickArrayStartIndexByTick(i,e.ammConfig.tickSpacing),{publicKey:y}=Object(g["i"])(e.programId,e.id,h),{publicKey:k}=Object(g["i"])(e.programId,e.id,w),{publicKey:A}=Object(m["a"])(t.wallet,f,l["l"]),{publicKey:S}=Object(g["b"])(f),{publicKey:I}=Object(g["d"])(e.programId,f),{publicKey:T}=Object(g["h"])(e.programId,e.id,n,i),j=Object(b["h"])(e.programId,t.feePayer,e.id,t.wallet,f,A,S,T,y,k,I,t.tokenAccountA,t.tokenAccountB,e.mintA.vault,e.mintB.vault,e.mintA.mint,e.mintB.mint,n,i,h,w,c,o,a,s,x.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[h,w])?Object(g["a"])(e.programId,e.id).publicKey:void 0);return{address:{nftMint:f,tickArrayLower:y,tickArrayUpper:k,positionNftAccount:A,metadataAccount:S,personalPosition:I,protocolPosition:T},innerTransaction:{instructions:[j],signers:p,instructionTypes:[u["c"].clmmOpenPosition],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeIncreasePositionFromLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:i,amountMaxA:o,amountMaxB:a}){const s=O.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=O.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:d}=Object(g["i"])(e.programId,e.id,s),{publicKey:p}=Object(g["i"])(e.programId,e.id,c),{publicKey:f}=Object(m["a"])(n.wallet,t.nftMint,l["l"]),{publicKey:h}=Object(g["d"])(e.programId,t.nftMint),{publicKey:w}=Object(g["h"])(e.programId,e.id,t.tickLower,t.tickUpper);return{address:{tickArrayLower:d,tickArrayUpper:p,positionNftAccount:f,personalPosition:h,protocolPosition:w},innerTransaction:{instructions:[Object(b["f"])(e.programId,n.wallet,f,h,e.id,w,d,p,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,e.mintA.mint,e.mintB.mint,i,o,a,x.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[s,c])?Object(g["a"])(e.programId,e.id).publicKey:void 0)],signers:[],instructionTypes:[u["c"].clmmIncreasePosition],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeIncreasePositionFromBaseInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,base:i,baseAmount:o,otherAmountMax:a}){const s=O.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=O.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:d}=Object(g["i"])(e.programId,e.id,s),{publicKey:p}=Object(g["i"])(e.programId,e.id,c),{publicKey:f}=Object(m["a"])(n.wallet,t.nftMint,l["l"]),{publicKey:h}=Object(g["d"])(e.programId,t.nftMint),{publicKey:w}=Object(g["h"])(e.programId,e.id,t.tickLower,t.tickUpper);return{address:{tickArrayLower:d,tickArrayUpper:p,positionNftAccount:f,personalPosition:h,protocolPosition:w},innerTransaction:{instructions:[Object(b["e"])(e.programId,n.wallet,f,h,e.id,w,d,p,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,e.mintA.mint,e.mintB.mint,i,o,a,x.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[s,c])?Object(g["a"])(e.programId,e.id).publicKey:void 0)],signers:[],instructionTypes:[u["c"].clmmIncreasePosition],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeDecreaseLiquidityInstructions({poolInfo:e,ownerPosition:t,ownerInfo:n,liquidity:i,amountMinA:o,amountMinB:a}){const s=O.getTickArrayStartIndexByTick(t.tickLower,e.ammConfig.tickSpacing),c=O.getTickArrayStartIndexByTick(t.tickUpper,e.ammConfig.tickSpacing),{publicKey:d}=Object(g["i"])(e.programId,e.id,s),{publicKey:p}=Object(g["i"])(e.programId,e.id,c),{publicKey:f}=Object(m["a"])(n.wallet,t.nftMint,l["l"]),{publicKey:h}=Object(g["d"])(e.programId,t.nftMint),{publicKey:w}=Object(g["h"])(e.programId,e.id,t.tickLower,t.tickUpper),y=[];for(let r=0;r<e.rewardInfos.length;r++)y.push({poolRewardVault:e.rewardInfos[r].tokenVault,ownerRewardVault:n.rewardAccounts[r],rewardMint:e.rewardInfos[r].tokenMint});return{address:{tickArrayLower:d,tickArrayUpper:p,positionNftAccount:f,personalPosition:h,protocolPosition:w},innerTransaction:{instructions:[Object(b["d"])(e.programId,n.wallet,f,h,e.id,w,d,p,n.tokenAccountA,n.tokenAccountB,e.mintA.vault,e.mintB.vault,e.mintA.mint,e.mintB.mint,y,i,o,a,x.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[s,c])?Object(g["a"])(e.programId,e.id).publicKey:void 0)],signers:[],instructionTypes:[u["c"].clmmDecreasePosition],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeClosePositionInstructions({poolInfo:e,ownerInfo:t,ownerPosition:n}){const{publicKey:i}=Object(m["a"])(t.wallet,n.nftMint,l["l"]),{publicKey:o}=Object(g["d"])(e.programId,n.nftMint);return{address:{positionNftAccount:i,personalPosition:o},innerTransaction:{instructions:[Object(b["a"])(e.programId,t.wallet,n.nftMint,i,o)],signers:[],instructionTypes:[u["c"].clmmClosePosition],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeSwapBaseInInstructions({poolInfo:e,ownerInfo:t,inputMint:n,amountIn:i,amountOutMin:o,sqrtPriceLimitX64:a,remainingAccounts:s}){const c=e.mintA.mint.equals(n);return{address:{},innerTransaction:{instructions:[Object(b["k"])(e.programId,t.wallet,e.id,e.ammConfig.id,c?t.tokenAccountA:t.tokenAccountB,c?t.tokenAccountB:t.tokenAccountA,c?e.mintA.vault:e.mintB.vault,c?e.mintB.vault:e.mintA.vault,c?e.mintA.mint:e.mintB.mint,c?e.mintB.mint:e.mintA.mint,s,e.observationId,i,o,a,!0,Object(g["a"])(e.programId,e.id).publicKey)],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[u["c"].clmmSwapBaseIn]}}}static makeSwapBaseOutInstructions({poolInfo:e,ownerInfo:t,outputMint:n,amountOut:i,amountInMax:o,sqrtPriceLimitX64:a,remainingAccounts:s}){const c=e.mintA.mint.equals(n);return{address:{},innerTransaction:{instructions:[Object(b["k"])(e.programId,t.wallet,e.id,e.ammConfig.id,c?t.tokenAccountB:t.tokenAccountA,c?t.tokenAccountA:t.tokenAccountB,c?e.mintB.vault:e.mintA.vault,c?e.mintA.vault:e.mintB.vault,c?e.mintB.mint:e.mintA.mint,c?e.mintA.mint:e.mintB.mint,s,e.observationId,i,o,a,!1,Object(g["a"])(e.programId,e.id).publicKey)],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[u["c"].clmmSwapBaseOut]}}}static makeInitRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){const i=Object(g["f"])(e.programId,e.id,n.mint).publicKey,o=Object(g["c"])(e.programId).publicKey;return{address:{poolRewardVault:i,operationId:o},innerTransaction:{instructions:[Object(b["g"])(e.programId,t.wallet,e.id,o,e.ammConfig.id,t.tokenAccount,n.programId,n.mint,i,n.openTime,n.endTime,n.emissionsPerSecondX64)],signers:[],instructionTypes:[u["c"].clmmInitReward],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeSetRewardInstructions({poolInfo:e,ownerInfo:t,rewardInfo:n}){let i,o,a;for(let r=0;r<e.rewardInfos.length;r++)e.rewardInfos[r].tokenMint.equals(n.mint)&&(i=r,o=e.rewardInfos[r].tokenVault,a=e.rewardInfos[r].tokenMint);if(void 0===i||void 0===o||void 0===a)throw Error("reward mint check error");const s=Object(g["c"])(e.programId).publicKey;return{address:{rewardVault:o,operationId:s},innerTransaction:{instructions:[Object(b["j"])(e.programId,t.wallet,e.id,s,e.ammConfig.id,t.tokenAccount,o,a,i,n.openTime,n.endTime,n.emissionsPerSecondX64)],signers:[],instructionTypes:[u["c"].clmmInitReward],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static makeCollectRewardInstructions({poolInfo:e,ownerInfo:t,rewardMint:n}){let i,o;for(let r=0;r<e.rewardInfos.length;r++)e.rewardInfos[r].tokenMint.equals(n)&&(i=r,o=e.rewardInfos[r].tokenVault);if(void 0===i||void 0===o)throw Error("reward mint check error");return{address:{rewardVault:o},innerTransaction:{instructions:[Object(b["b"])(e.programId,t.wallet,e.id,t.tokenAccount,o,n,i)],signers:[],instructionTypes:[u["c"].clmmInitReward],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default))}}}static getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:n,tickUpper:i,amount:r,slippage:o,add:s,token2022Infos:m,epochInfo:l,amountHasFee:p}){var b,f;const h=e.sqrtPriceX64,g=N.getSqrtPriceX64FromTick(n),w=N.getSqrtPriceX64FromTick(i),y=s?1-o:1+o,k=Object(u["i"])(r,null===(b=m[t?e.mintA.mint.toString():e.mintB.mint.toString()])||void 0===b?void 0:b.feeConfig,l,!p),A=new a.a(new c.a(k.amount.sub(null!==(f=k.fee)&&void 0!==f?f:d["j"]).toString()).mul(y).toFixed(0));let O;if(h.lte(g))O=t?K.getLiquidityFromTokenAmountA(g,w,A,!s):new a.a(0);else if(h.lte(w)){const e=K.getLiquidityFromTokenAmountA(h,w,A,!s),n=K.getLiquidityFromTokenAmountB(g,h,A);O=t?e:n}else O=t?new a.a(0):K.getLiquidityFromTokenAmountB(g,w,A);return this.getAmountsFromLiquidity({poolInfo:e,tickLower:n,tickUpper:i,liquidity:O,slippage:o,add:s,token2022Infos:m,epochInfo:l,amountAddFee:p})}static getLiquidityFromAmounts({poolInfo:e,tickLower:t,tickUpper:n,amountA:i,amountB:r,slippage:o,add:a,token2022Infos:s,epochInfo:c,amountHasFee:m}){var l,p,b,f;const[h,g,w,y]=t<n?[t,n,i,r]:[n,t,r,i],k=e.sqrtPriceX64,A=N.getSqrtPriceX64FromTick(h),O=N.getSqrtPriceX64FromTick(g),[S,I]=[Object(u["i"])(w,null===(l=s[e.mintA.mint.toString()])||void 0===l?void 0:l.feeConfig,c,!m),Object(u["i"])(y,null===(p=s[e.mintB.mint.toString()])||void 0===p?void 0:p.feeConfig,c,!m)],T=K.getLiquidityFromTokenAmounts(k,A,O,S.amount.sub(null!==(b=S.fee)&&void 0!==b?b:d["j"]),I.amount.sub(null!==(f=I.fee)&&void 0!==f?f:d["j"]));return this.getAmountsFromLiquidity({poolInfo:e,tickLower:t,tickUpper:n,liquidity:T,slippage:o,add:a,token2022Infos:s,epochInfo:c,amountAddFee:!m})}static getAmountsFromLiquidity({poolInfo:e,tickLower:t,tickUpper:n,liquidity:i,slippage:r,add:o,token2022Infos:s,epochInfo:m,amountAddFee:l}){var d,p,b,f;const h=N.getSqrtPriceX64FromTick(t),g=N.getSqrtPriceX64FromTick(n),w=o?1+r:1-r,y=K.getAmountsFromLiquidity(e.sqrtPriceX64,h,g,i,o),[k,A]=[Object(u["i"])(y.amountA,null===(d=s[e.mintA.mint.toString()])||void 0===d?void 0:d.feeConfig,m,l),Object(u["i"])(y.amountB,null===(p=s[e.mintB.mint.toString()])||void 0===p?void 0:p.feeConfig,m,l)],[O,S]=[Object(u["i"])(new a.a(new c.a(y.amountA.toString()).mul(w).toFixed(0)),null===(b=s[e.mintA.mint.toString()])||void 0===b?void 0:b.feeConfig,m,l),Object(u["i"])(new a.a(new c.a(y.amountB.toString()).mul(w).toFixed(0)),null===(f=s[e.mintB.mint.toString()])||void 0===f?void 0:f.feeConfig,m,l)];return{liquidity:i,amountA:k,amountB:A,amountSlippageA:O,amountSlippageB:S,expirationTime:Object(u["j"])(k.expirationTime,A.expirationTime)}}static getPriceAndTick({poolInfo:e,price:t,baseIn:n}){const i=n?t:new c.a(1).div(t),r=F.getTickWithPriceAndTickspacing(i,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=N.getSqrtPriceX64FromTick(r),a=N.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return n?{tick:r,price:a}:{tick:r,price:new c.a(1).div(a)}}static getTickPrice({poolInfo:e,tick:t,baseIn:n}){const i=N.getSqrtPriceX64FromTick(t),r=N.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return n?{tick:t,price:r,tickSqrtPriceX64:i}:{tick:t,price:new c.a(1).div(r),tickSqrtPriceX64:i}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,token2022Infos:n,epochInfo:i,amountIn:r,currencyOut:o,slippage:s,catchLiquidityInsufficient:u=!1}){const m=r instanceof d["i"],l=(m?r.token:d["h"].WSOL).mint,p=r.raw,b=s.numerator.toNumber()/s.denominator.toNumber(),{allTrade:f,realAmountIn:h,amountOut:g,minAmountOut:w,expirationTime:y,currentPrice:k,executionPrice:A,priceImpact:O,fee:S,remainingAccounts:I,executionPriceX64:T}=this.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:l,amountIn:p,slippage:b,token2022Infos:n,epochInfo:i,catchLiquidityInsufficient:u}),j={...h,amount:m?new d["i"](r.token,h.amount):new d["b"](d["a"].SOL,h.amount),fee:void 0===h.fee?void 0:m?new d["i"](r.token,h.fee):new d["b"](d["a"].SOL,h.fee)},v={...g,amount:o instanceof d["h"]?new d["i"](o,g.amount):new d["b"](o,g.amount),fee:void 0===g.fee?void 0:o instanceof d["h"]?new d["i"](o,g.fee):new d["b"](o,g.fee)},C={...w,amount:o instanceof d["h"]?new d["i"](o,w.amount):new d["b"](o,w.amount),fee:void 0===w.fee?void 0:o instanceof d["h"]?new d["i"](o,w.fee):new d["b"](o,w.fee)},M=new d["f"](m?r.token:r.currency,new a.a(10).pow(new a.a(20+(m?r.token:r.currency).decimals)),o instanceof d["h"]?o:d["h"].WSOL,k.mul(new c.a(10**(20+(o instanceof d["h"]?o:d["h"].WSOL).decimals))).toFixed(0)),P=new d["f"](m?r.token:r.currency,new a.a(10).pow(new a.a(20+(m?r.token:r.currency).decimals)),o instanceof d["h"]?o:d["h"].WSOL,A.mul(new c.a(10**(20+(o instanceof d["h"]?o:d["h"].WSOL).decimals))).toFixed(0)),L=m?new d["i"](r.token,S):new d["b"](r.currency,S);return{allTrade:f,realAmountIn:j,amountOut:v,minAmountOut:C,expirationTime:y,currentPrice:M,executionPrice:P,priceImpact:O,fee:L,remainingAccounts:I,executionPriceX64:T}}static async computeAmountOutAndCheckToken({connection:e,poolInfo:t,tickArrayCache:n,baseMint:r,amountIn:o,slippage:a,priceLimit:s=new c.a(0),catchLiquidityInsufficient:m=!1}){const l=await e.getEpochInfo(),d=await Object(u["g"])({connection:e,mints:[t.mintA,t.mintB].filter(e=>e.programId.equals(i["b"])).map(e=>e.mint)});return this.computeAmountOut({poolInfo:t,tickArrayCache:n,baseMint:r,amountIn:o,slippage:a,priceLimit:s,token2022Infos:d,epochInfo:l,catchLiquidityInsufficient:m})}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:n,token2022Infos:i,epochInfo:r,amountIn:o,slippage:s,priceLimit:m=new c.a(0),catchLiquidityInsufficient:l=!1}){var p,b,f,g,w;let y;y=m.equals(new c.a(0))?n.equals(e.mintA.mint)?h["h"].add(d["d"]):h["f"].sub(d["d"]):N.priceToSqrtPriceX64(m,e.mintA.decimals,e.mintB.decimals);const k=Object(u["i"])(o,null===(p=i[n.toString()])||void 0===p?void 0:p.feeConfig,r,!1),{allTrade:A,realTradeAmountIn:O,expectedAmountOut:S,remainingAccounts:I,executionPrice:T,feeAmount:j}=x.getOutputAmountAndRemainAccounts(e,t,n,k.amount.sub(null!==(b=k.fee)&&void 0!==b?b:d["j"]),y,l),v=Object(u["i"])(O,null===(f=i[n.toString()])||void 0===f?void 0:f.feeConfig,r,!0),C=e.mintA.mint.equals(n)?e.mintB.mint:e.mintA.mint,M=Object(u["i"])(S,null===(g=i[C.toString()])||void 0===g?void 0:g.feeConfig,r,!1),P=N.sqrtPriceX64ToPrice(T,e.mintA.decimals,e.mintB.decimals),L=n.equals(e.mintA.mint)?P:new c.a(1).div(P),D=S.mul(new a.a(Math.floor(1e10*(1-s)))).div(new a.a(1e10)),R=Object(u["i"])(D,null===(w=i[C.toString()])||void 0===w?void 0:w.feeConfig,r,!1),q=e.mintA.mint.equals(n)?e.currentPrice:new c.a(1).div(e.currentPrice),B=new c.a(L).sub(q).abs(),V=q,U=new d["e"](new c.a(B).mul(10**15).toFixed(0),new c.a(V).mul(10**15).toFixed(0));return{allTrade:A,realAmountIn:v,amountOut:M,minAmountOut:R,expirationTime:Object(u["j"])(v.expirationTime,M.expirationTime),currentPrice:e.currentPrice,executionPrice:L,priceImpact:U,fee:j,remainingAccounts:I,executionPriceX64:T}}static async computeAmountInAndCheckToken({connection:e,poolInfo:t,tickArrayCache:n,baseMint:r,amountOut:o,slippage:a,priceLimit:s=new c.a(0)}){const m=await e.getEpochInfo(),l=await Object(u["g"])({connection:e,mints:[t.mintA,t.mintB].filter(e=>e.programId.equals(i["b"])).map(e=>e.mint)});return this.computeAmountIn({poolInfo:t,tickArrayCache:n,baseMint:r,amountOut:o,slippage:a,priceLimit:s,token2022Infos:l,epochInfo:m})}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:n,token2022Infos:i,epochInfo:r,amountOut:o,slippage:s,priceLimit:m=new c.a(0)}){var l,p,b,f;let g;g=m.equals(new c.a(0))?n.equals(e.mintB.mint)?h["h"].add(d["d"]):h["f"].sub(d["d"]):N.priceToSqrtPriceX64(m,e.mintA.decimals,e.mintB.decimals);const w=Object(u["i"])(o,null===(l=i[n.toString()])||void 0===l?void 0:l.feeConfig,r,!0),{expectedAmountIn:y,remainingAccounts:k,executionPrice:A,feeAmount:O}=x.getInputAmountAndRemainAccounts(e,t,n,w.amount.sub(null!==(p=w.fee)&&void 0!==p?p:d["j"]),g),S=e.mintA.mint.equals(n)?e.mintB.mint:e.mintA.mint,I=Object(u["i"])(y,null===(b=i[S.toString()])||void 0===b?void 0:b.feeConfig,r,!0),T=N.sqrtPriceX64ToPrice(A,e.mintA.decimals,e.mintB.decimals),j=n.equals(e.mintA.mint)?T:new c.a(1).div(T),v=y.mul(new a.a(Math.floor(1e10*(1+s)))).div(new a.a(1e10)),C=Object(u["i"])(v,null===(f=i[S.toString()])||void 0===f?void 0:f.feeConfig,r,!0),M=e.mintA.mint.equals(n)?e.currentPrice:new c.a(1).div(e.currentPrice),P=new c.a(j).sub(M).abs(),L=M,D=new d["e"](new c.a(P).mul(10**15).toFixed(0),new c.a(L).mul(10**15).toFixed(0));return{amountIn:I,maxAmountIn:C,realAmountOut:w,expirationTime:Object(u["j"])(I.expirationTime,w.expirationTime),currentPrice:e.currentPrice,executionPrice:j,priceImpact:D,fee:O,remainingAccounts:k}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:n,positionTickUpperIndex:i}){const r=e[t],o=this.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),a=this.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),s=Math.max(o,r.priceMin),c=Math.min(a,r.priceMax),u=c-s,m=a-o,l=r.priceMax-r.priceMin;let d;return d=u<=0?0:m===u?l/u:l===u?u/m:u/l*(u/m),{feeApr:r.feeApr*d,rewardsApr:[r.rewardApr.A*d,r.rewardApr.B*d,r.rewardApr.C*d],apr:r.apr*d}}static estimateAprsForPriceRangeDelta({poolInfo:e,aprType:t,mintPrice:n,rewardMintDecimals:i,liquidity:r,positionTickLowerIndex:o,positionTickUpperIndex:a,chainTime:s}){const u="day"===t?1:"week"===t?7:"month"===t?30:0,m=e[t],l=n[e.mintA.mint.toString()],d=n[e.mintB.mint.toString()],p=e.mintA.decimals,b=e.mintB.decimals;if(!m||!l||!d)return{feeApr:0,rewardsApr:[0,0,0],apr:0};const f=N.getSqrtPriceX64FromTick(o),h=N.getSqrtPriceX64FromTick(a),{amountSlippageA:g,amountSlippageB:w}=K.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,f,h,e.liquidity,!1,!1,0),{amountSlippageA:y,amountSlippageB:k}=K.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,f,h,r,!1,!1,0),A=new c.a(g.toString()).div(new c.a(10).pow(p)).mul(l.toFixed(p)).add(new c.a(w.toString()).div(new c.a(10).pow(b)).mul(d.toFixed(b))),O=new c.a(y.toString()).div(new c.a(10).pow(p)).mul(l.toFixed(p)).add(new c.a(k.toString()).div(new c.a(10).pow(b)).mul(d.toFixed(b))),S=O.div(A.add(O)).div(O),I=new c.a(m.volumeFee).mul(365).div(u),T=I.mul(S).mul(100).toNumber(),j=31536e3,v=e.rewardInfos.map(e=>{const t=i[e.tokenMint.toString()],r=n[e.tokenMint.toString()];return s<e.openTime.toNumber()||s>e.endTime.toNumber()||e.perSecond.equals(0)||!r||void 0===t?0:new c.a(r.toFixed(t)).mul(e.perSecond.mul(j)).div(new c.a(10).pow(t)).mul(S).mul(100).toNumber()});return{feeApr:T,rewardsApr:v,apr:T+v.reduce((e,t)=>e+t,0)}}static async fetchMultiplePoolInfos({connection:e,poolKeys:t,ownerInfo:n,chainTime:i,batchRequest:o=!1,updateOwnerRewardAndFee:s=!0}){const c=await Object(l["n"])(e,t.map(e=>new r["e"](e.id)),{batchRequest:o}),u={};for(let a=0;a<t.length;a++){const e=t[a],n=c[a];null!==n&&(u[e.id]=Object(g["a"])(n.owner,new r["e"](e.id)).publicKey)}const m=await this.fetchExBitmaps({connection:e,exBitmapAddress:Object.values(u),batchRequest:o}),b=[],f={},w=[];for(let a=0;a<t.length;a++){const o=t[a],s=c[a],l=m[u[o.id].toString()];if(null===s)continue;const d=P.decode(s.data);f[o.id]={state:{id:new r["e"](o.id),mintA:{programId:new r["e"](o.mintProgramIdA),mint:d.mintA,vault:d.vaultA,decimals:d.mintDecimalsA},mintB:{programId:new r["e"](o.mintProgramIdB),mint:d.mintB,vault:d.vaultB,decimals:d.mintDecimalsB},observationId:d.observationId,ammConfig:{...o.ammConfig,id:new r["e"](o.ammConfig.id)},creator:d.creator,programId:s.owner,version:6,tickSpacing:d.tickSpacing,liquidity:d.liquidity,sqrtPriceX64:d.sqrtPriceX64,currentPrice:N.sqrtPriceX64ToPrice(d.sqrtPriceX64,d.mintDecimalsA,d.mintDecimalsB),tickCurrent:d.tickCurrent,observationIndex:d.observationIndex,observationUpdateDuration:d.observationUpdateDuration,feeGrowthGlobalX64A:d.feeGrowthGlobalX64A,feeGrowthGlobalX64B:d.feeGrowthGlobalX64B,protocolFeesTokenA:d.protocolFeesTokenA,protocolFeesTokenB:d.protocolFeesTokenB,swapInAmountTokenA:d.swapInAmountTokenA,swapOutAmountTokenB:d.swapOutAmountTokenB,swapInAmountTokenB:d.swapInAmountTokenB,swapOutAmountTokenA:d.swapOutAmountTokenA,tickArrayBitmap:d.tickArrayBitmap,rewardInfos:await x.updatePoolRewardInfos({connection:e,apiPoolInfo:o,chainTime:i,poolLiquidity:d.liquidity,rewardInfos:d.rewardInfos.filter(e=>!e.tokenMint.equals(r["e"].default))}),day:o.day,week:o.week,month:o.month,tvl:o.tvl,lookupTableAccount:o.lookupTableAccount?new r["e"](o.lookupTableAccount):r["e"].default,startTime:d.startTime.toNumber(),exBitmapInfo:l}},n&&w.push(...f[o.id].state.rewardInfos.filter(e=>e.creator.equals(n.wallet))),b.find(e=>e.equals(s.owner))||b.push(s.owner)}if(n){const t=n.tokenAccounts.filter(e=>e.accountInfo.amount.eq(new a.a(1))).map(e=>e.accountInfo.mint),i=[];for(const e of t)for(const t of b)i.push(Object(g["d"])(t,e).publicKey);const r=await Object(l["n"])(e,i,{batchRequest:o}),c={};for(const e of r){var y;if(null===e)continue;const t=D.decode(e.data),n=t.poolId.toString(),i=f[n];if(void 0===i)continue;const r=i.state,o=this.getTickPrice({poolInfo:r,tick:t.tickLower,baseIn:!0}),s=this.getTickPrice({poolInfo:r,tick:t.tickUpper,baseIn:!0}),{amountA:u,amountB:m}=K.getAmountsFromLiquidity(r.sqrtPriceX64,o.tickSqrtPriceX64,s.tickSqrtPriceX64,t.liquidity,!1),l=1/(1-Math.sqrt(Math.sqrt(o.price.div(s.price).toNumber())));f[n].positionAccount=[...null!==(y=f[n].positionAccount)&&void 0!==y?y:[],{poolId:t.poolId,nftMint:t.nftMint,priceLower:o.price,priceUpper:s.price,amountA:u,amountB:m,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:t.liquidity,feeGrowthInsideLastX64A:t.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:t.feeGrowthInsideLastX64B,tokenFeesOwedA:t.tokenFeesOwedA,tokenFeesOwedB:t.tokenFeesOwedB,rewardInfos:t.rewardInfos.map(e=>({...e,pendingReward:new a.a(0)})),leverage:l,tokenFeeAmountA:new a.a(0),tokenFeeAmountB:new a.a(0)}];const d=O.getTickArrayAddressByTick(f[n].state.programId,t.poolId,t.tickLower,f[n].state.tickSpacing),p=O.getTickArrayAddressByTick(f[n].state.programId,t.poolId,t.tickUpper,f[n].state.tickSpacing);c[`${f[n].state.programId.toString()}-${t.poolId.toString()}-${t.tickLower}`]=d,c[`${f[n].state.programId.toString()}-${t.poolId.toString()}-${t.tickUpper}`]=p}if(s){const t=Object.values(c),n=await Object(l["n"])(e,t,{batchRequest:o}),i={};for(let e=0;e<t.length;e++){const r=n[e];if(null===r)continue;const o=t[e];i[o.toString()]={address:o,...q.decode(r.data)}}for(const{state:e,positionAccount:r}of Object.values(f))if(r)for(const t of r){const n=`${e.programId.toString()}-${e.id.toString()}-${t.tickLower}`,r=`${e.programId.toString()}-${e.id.toString()}-${t.tickUpper}`,o=i[c[n].toString()],a=i[c[r].toString()],s=o.ticks[O.getTickOffsetInArray(t.tickLower,e.tickSpacing)],u=a.ticks[O.getTickOffsetInArray(t.tickUpper,e.tickSpacing)],{tokenFeeAmountA:m,tokenFeeAmountB:l}=Y.GetPositionFees(e,t,s,u),p=Y.GetPositionRewards(e,t,s,u);t.tokenFeeAmountA=m.gte(d["j"])&&m.lt(h["p"])?m:d["j"],t.tokenFeeAmountB=l.gte(d["j"])&&m.lt(h["p"])?l:d["j"];for(let e=0;e<p.length;e++)t.rewardInfos[e].pendingReward=p[e].gte(d["j"])&&p[e].lt(h["p"])?p[e]:d["j"]}}}if(w.length>0){const t=w.map(e=>e.tokenVault),n=await Object(l["n"])(e,t,{batchRequest:o}),i={};for(let e=0;e<t.length;e++){const r=t[e].toString(),o=n[e];if(null===o)continue;const a=p["a"].decode(o.data);i[r]=a.amount}for(const e of w){const t=i[e.tokenVault.toString()];e.remainingRewards=void 0!==t?t.sub(e.rewardTotalEmissioned.sub(e.rewardClaimed)):d["j"]}}return f}static async fetchMultiplePoolTickArrays({connection:e,poolKeys:t,batchRequest:n}){const i={},r=[];for(const s of t){const e=O.getTickArrayStartIndexByTick(s.tickCurrent,s.tickSpacing),t=O.getInitializedTickArrayInRange(s.tickArrayBitmap,s.exBitmapInfo,s.tickSpacing,e,7);for(const n of t){const{publicKey:e}=Object(g["i"])(s.programId,s.id,n);r.push({pubkey:e}),i[e.toString()]=s.id}}const o=await Object(l["o"])(e,r,{batchRequest:n}),a={};for(const s of o){if(!s.accountInfo)continue;const e=i[s.pubkey.toString()];if(!e)continue;void 0===a[e.toString()]&&(a[e.toString()]={});const t=q.decode(s.accountInfo.data);a[e.toString()][t.startTickIndex]={...t,address:s.pubkey}}return a}static async fetchExBitmaps({connection:e,exBitmapAddress:t,batchRequest:n}){const i=await Object(l["o"])(e,t.map(e=>({pubkey:e})),{batchRequest:n}),r={};for(const o of i)null!==o.accountInfo&&(r[o.pubkey.toString()]=V.decode(o.accountInfo.data));return r}static async getWhiteListMint({connection:e,programId:t}){const n=await e.getAccountInfo(Object(g["c"])(t).publicKey);if(!n)return[];const i=B.decode(n.data);return i.whitelistMints.filter(e=>!e.equals(r["e"].default))}}},"22be":function(e,t,n){"use strict";n.d(t,"q",(function(){return y})),n.d(t,"e",(function(){return a["a"]})),n.d(t,"a",(function(){return s["a"]})),n.d(t,"l",(function(){return s["c"]})),n.d(t,"j",(function(){return i["f"]})),n.d(t,"k",(function(){return i["g"]})),n.d(t,"i",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"v",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"n",(function(){return k["a"]})),n.d(t,"o",(function(){return k["b"]})),n.d(t,"t",(function(){return k["f"]})),n.d(t,"r",(function(){return k["d"]})),n.d(t,"s",(function(){return k["e"]})),n.d(t,"u",(function(){return k["g"]})),n.d(t,"p",(function(){return k["c"]}));n("0643"),n("a573"),n("9a9a");var i=n("64b9"),r=n("5c23"),o=n("7734"),a=n("be6b"),s=n("fe55");const c=a["a"].from("common/pubkey"),u=i["h"].programId,m=new i["e"]("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),l=new i["e"]("SysvarRent111111111111111111111111111111111"),d=new i["e"]("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),p=new i["e"]("Sysvar1nstructions1111111111111111111111111");function b(e){if(e instanceof i["e"])return e;if("string"===typeof e)try{const t=new i["e"](e);return t}catch{return c.throwArgumentError("invalid public key","publicKey",e)}return c.throwArgumentError("invalid public key","publicKey",e)}function f(e,t){const[n,r]=i["e"].findProgramAddressSync(e,t);return{publicKey:n,nonce:r}}function h(e,t){return{pubkey:e,isWritable:!0,isSigner:t}}function g(e,t){return{pubkey:e,isWritable:!1,isSigner:t}}function w(e){return"object"===typeof e&&null!==e&&![o["i"],i["e"],o["c"],r["BN"],o["a"],o["b"],o["f"],o["e"]].some(t=>"object"===typeof t&&e instanceof t)}function y(e){return"string"===typeof e?b(e):Array.isArray(e)?e.map(e=>y(e)):w(e)?Object.fromEntries(Object.entries(e).map(([e,t])=>[e,y(t)])):e}n("7cfa");var k=n("34b2")},"23b7":function(e,t,n){var i;n("d9e2"),n("14d9"),function(r){"use strict";var o,a=20,s=1,c=1e6,u=1e6,m=-7,l=21,d=!1,p="[big.js] ",b=p+"Invalid ",f=b+"decimal places",h=b+"rounding mode",g=p+"Division by zero",w={},y=void 0,k=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function A(){function e(t){var n=this;if(!(n instanceof e))return t===y?A():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if("string"!==typeof t){if(!0===e.strict&&"bigint"!==typeof t)throw TypeError(b+"value");t=0===t&&1/t<0?"-0":String(t)}O(n,t)}n.constructor=e}return e.prototype=w,e.DP=a,e.RM=s,e.NE=m,e.PE=l,e.strict=d,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function O(e,t){var n,i,r;if(!k.test(t))throw Error(b+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),r=t.length,i=0;i<r&&"0"==t.charAt(i);)++i;if(i==r)e.c=[e.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(e.e=n-i-1,e.c=[],n=0;i<=r;)e.c[n++]=+t.charAt(i++)}return e}function S(e,t,n,i){var r=e.c;if(n===y&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(h);if(t<1)i=3===n&&(i||!!r[0])||0===t&&(1===n&&r[0]>=5||2===n&&(r[0]>5||5===r[0]&&(i||r[1]!==y))),r.length=1,i?(e.e=e.e-t+1,r[0]=1):r[0]=e.e=0;else if(t<r.length){if(i=1===n&&r[t]>=5||2===n&&(r[t]>5||5===r[t]&&(i||r[t+1]!==y||1&r[t-1]))||3===n&&(i||!!r[0]),r.length=t,i)for(;++r[--t]>9;)if(r[t]=0,0===t){++e.e,r.unshift(1);break}for(t=r.length;!r[--t];)r.pop()}return e}function I(e,t,n){var i=e.e,r=e.c.join(""),o=r.length;if(t)r=r.charAt(0)+(o>1?"."+r.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)r="0"+r;r="0."+r}else if(i>0)if(++i>o)for(i-=o;i--;)r+="0";else i<o&&(r=r.slice(0,i)+"."+r.slice(i));else o>1&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&n?"-"+r:r}w.abs=function(){var e=new this.constructor(this);return e.s=1,e},w.cmp=function(e){var t,n=this,i=n.c,r=(e=new n.constructor(e)).c,o=n.s,a=e.s,s=n.e,c=e.e;if(!i[0]||!r[0])return i[0]?o:r[0]?-a:0;if(o!=a)return o;if(t=o<0,s!=c)return s>c^t?1:-1;for(a=(s=i.length)<(c=r.length)?s:c,o=-1;++o<a;)if(i[o]!=r[o])return i[o]>r[o]^t?1:-1;return s==c?0:s>c^t?1:-1},w.div=function(e){var t=this,n=t.constructor,i=t.c,r=(e=new n(e)).c,o=t.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||a>c)throw Error(f);if(!r[0])throw Error(g);if(!i[0])return e.s=o,e.c=[e.e=0],e;var s,u,m,l,d,p=r.slice(),b=s=r.length,h=i.length,w=i.slice(0,s),k=w.length,A=e,O=A.c=[],I=0,T=a+(A.e=t.e-e.e)+1;for(A.s=o,o=T<0?0:T,p.unshift(0);k++<s;)w.push(0);do{for(m=0;m<10;m++){if(s!=(k=w.length))l=s>k?1:-1;else for(d=-1,l=0;++d<s;)if(r[d]!=w[d]){l=r[d]>w[d]?1:-1;break}if(!(l<0))break;for(u=k==s?r:p;k;){if(w[--k]<u[k]){for(d=k;d&&!w[--d];)w[d]=9;--w[d],w[k]+=10}w[k]-=u[k]}for(;!w[0];)w.shift()}O[I++]=l?m:++m,w[0]&&l?w[k]=i[b]||0:w=[i[b]]}while((b++<h||w[0]!==y)&&o--);return O[0]||1==I||(O.shift(),A.e--,T--),I>T&&S(A,T,n.RM,w[0]!==y),A},w.eq=function(e){return 0===this.cmp(e)},w.gt=function(e){return this.cmp(e)>0},w.gte=function(e){return this.cmp(e)>-1},w.lt=function(e){return this.cmp(e)<0},w.lte=function(e){return this.cmp(e)<1},w.minus=w.sub=function(e){var t,n,i,r,o=this,a=o.constructor,s=o.s,c=(e=new a(e)).s;if(s!=c)return e.s=-c,o.plus(e);var u=o.c.slice(),m=o.e,l=e.c,d=e.e;if(!u[0]||!l[0])return l[0]?e.s=-c:u[0]?e=new a(o):e.s=1,e;if(s=m-d){for((r=s<0)?(s=-s,i=u):(d=m,i=l),i.reverse(),c=s;c--;)i.push(0);i.reverse()}else for(n=((r=u.length<l.length)?u:l).length,s=c=0;c<n;c++)if(u[c]!=l[c]){r=u[c]<l[c];break}if(r&&(i=u,u=l,l=i,e.s=-e.s),(c=(n=l.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;n>s;){if(u[--n]<l[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=l[n]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},w.mod=function(e){var t,n=this,i=n.constructor,r=n.s,o=(e=new i(e)).s;if(!e.c[0])throw Error(g);return n.s=e.s=1,t=1==e.cmp(n),n.s=r,e.s=o,t?new i(n):(r=i.DP,o=i.RM,i.DP=i.RM=0,n=n.div(e),i.DP=r,i.RM=o,this.minus(n.times(e)))},w.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},w.plus=w.add=function(e){var t,n,i,r=this,o=r.constructor;if(e=new o(e),r.s!=e.s)return e.s=-e.s,r.minus(e);var a=r.e,s=r.c,c=e.e,u=e.c;if(!s[0]||!u[0])return u[0]||(s[0]?e=new o(r):e.s=r.s),e;if(s=s.slice(),t=a-c){for(t>0?(c=a,i=u):(t=-t,i=s),i.reverse();t--;)i.push(0);i.reverse()}for(s.length-u.length<0&&(i=u,u=s,s=i),t=u.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+u[t]+n)/10|0;for(n&&(s.unshift(n),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},w.pow=function(e){var t=this,n=new t.constructor("1"),i=n,r=e<0;if(e!==~~e||e<-u||e>u)throw Error(b+"exponent");for(r&&(e=-e);;){if(1&e&&(i=i.times(t)),e>>=1,!e)break;t=t.times(t)}return r?n.div(i):i},w.prec=function(e,t){if(e!==~~e||e<1||e>c)throw Error(b+"precision");return S(new this.constructor(this),e,t)},w.round=function(e,t){if(e===y)e=0;else if(e!==~~e||e<-c||e>c)throw Error(f);return S(new this.constructor(this),e+this.e+1,t)},w.sqrt=function(){var e,t,n,i=this,r=i.constructor,o=i.s,a=i.e,s=new r("0.5");if(!i.c[0])return new r(i);if(o<0)throw Error(p+"No square root");o=Math.sqrt(i+""),0===o||o===1/0?(t=i.c.join(""),t.length+a&1||(t+="0"),o=Math.sqrt(t),a=((a+1)/2|0)-(a<0||1&a),e=new r((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):e=new r(o+""),a=e.e+(r.DP+=4);do{n=e,e=s.times(n.plus(i.div(n)))}while(n.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return S(e,(r.DP-=4)+e.e+1,r.RM)},w.times=w.mul=function(e){var t,n=this,i=n.constructor,r=n.c,o=(e=new i(e)).c,a=r.length,s=o.length,c=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!r[0]||!o[0])return e.c=[e.e=0],e;for(e.e=c+u,a<s&&(t=r,r=o,o=t,u=a,a=s,s=u),t=new Array(u=a+s);u--;)t[u]=0;for(c=s;c--;){for(s=0,u=a+c;u>c;)s=t[u]+o[c]*r[u-c-1]+s,t[u--]=s%10,s=s/10|0;t[u]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},w.toExponential=function(e,t){var n=this,i=n.c[0];if(e!==y){if(e!==~~e||e<0||e>c)throw Error(f);for(n=S(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return I(n,!0,!!i)},w.toFixed=function(e,t){var n=this,i=n.c[0];if(e!==y){if(e!==~~e||e<0||e>c)throw Error(f);for(n=S(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return I(n,!1,!!i)},w.toJSON=w.toString=function(){var e=this,t=e.constructor;return I(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},w.toNumber=function(){var e=Number(I(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(p+"Imprecise conversion");return e},w.toPrecision=function(e,t){var n=this,i=n.constructor,r=n.c[0];if(e!==y){if(e!==~~e||e<1||e>c)throw Error(b+"precision");for(n=S(new i(n),e,t);n.c.length<e;)n.c.push(0)}return I(n,e<=n.e||n.e<=i.NE||n.e>=i.PE,!!r)},w.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(p+"valueOf disallowed");return I(e,e.e<=t.NE||e.e>=t.PE,!0)},o=A(),o["default"]=o.Big=o,i=function(){return o}.call(t,n,t,e),void 0===i||(e.exports=i)}()},2566:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var i=n("8df2"),r=n("64b9"),o=n("fe55"),a=(n("4bf9"),n("511d")),s=n("d32f");const c=Object(i["struct"])([Object(i["u8"])("instruction")]);function u(t,n,i,u=[],m=o["c"]){const l=Object(a["a"])([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,u),d=e.alloc(c.span);return c.encode({instruction:s["a"].CloseAccount},d),new r["j"]({keys:l,programId:m,data:d})}}).call(this,n("1c35").Buffer)},"2b5d":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var i=n("8df2"),r=(n("f8b6"),n("64b9"),n("633a"));n("4bf9"),n("e52c");const o=Object(i["struct"])([Object(r["b"])("authority"),Object(r["b"])("programId")]),a=o.span;const s=Object(i["struct"])([Object(r["a"])("transferring")]),c=s.span;const u=Object(i["struct"])([Object(i["u8"])("discriminator"),Object(i["blob"])(32,"addressConfig"),Object(r["a"])("isSigner"),Object(r["a"])("isWritable")]),m=Object(i["struct"])([Object(i["u32"])("count"),Object(i["seq"])(u,Object(i["greedy"])(u.span),"extraAccounts")]);Object(i["struct"])([Object(r["c"])("instructionDiscriminator"),Object(i["u32"])("length"),m.replicate("extraAccountsList")])}).call(this,n("1c35").Buffer)},"2be8":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var i=n("64b9");const r={"2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17":new i["a"]({key:new i["e"]("2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17"),state:i["a"].deserialize(e.from("AQAAAP//////////d49+DAAAAAAAAQZMWvw7GUNJdaccNBVnb57OKakxL2BHLYvhRwVILRsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkG3fbh7nWP3hhCXbzkbM3athr8TYO5DSf+vfko2KGL/AVKU1D4XciC1hSlVnJ4iilt3x6rq9CmBniISTL07vagBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvDQdRqCgtphMF/imcN7mY5YRx2xE1A3MQ+L4QRaYK9u4GRfZP3LsAd00a+IkCpA22UNQMKdq5BFbJuwuOLqc8zxCTDlqxBG8J0HcxtfogQHDK06ukzfaXiNDKAob1MqBHS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1H9aKveyXSu5StXElYRl9SD5As0DHE4N0GLnf84/siiKXVyp4Ez121kLcUui/jLLFZEz/BwZK3Ilf9B9OcsEAeDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu9N9LMnrw/JNO0hqMVB4rk/2ou4AB1loQ7FZoPwut2o4KZB+0p9xnbrQKw038qjpHar+PyDwvxBRcu5hpHw3dguezeWv+IwvgW5icu8EGkhGa9AkFPPJT7VMSFb8xowveU=","base64"))})}}).call(this,n("1c35").Buffer)},"32f6":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u}));n("907a"),n("986a"),n("1d02"),n("3c5d"),n("6ce5"),n("2834"),n("4ea1"),n("669d"),n("109c"),n("b2c1");function i(e){const t=new ArrayBuffer(2),n=new DataView(t);return n.setUint16(0,e,!1),new Uint8Array(t)}function r(e){const t=new ArrayBuffer(4),n=new DataView(t);return n.setInt32(0,e,!1),new Uint8Array(t)}function o(e,t){let n=0;for(let i=e-1;i>=0;i--){if(t.testn(i))break;n++}return n}function a(e,t){let n=0;for(let i=0;i<e;i++){if(t.testn(i))break;n++}return n}function s(e,t){for(let n=0;n<e;n++)if(t.testn(n))return!1;return!0}function c(e,t){return s(e,t)?null:o(e,t)}function u(e,t){return s(e,t)?null:a(e,t)}},"34b2":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return A}));n("d9e2"),n("14d9"),n("0643"),n("2382"),n("fffc"),n("a573"),n("88e6"),n("70cc"),n("eb03"),n("22e5"),n("c01e"),n("fa76"),n("8306");var i=n("64b9"),r=n("832d"),o=n("60f0"),a=n("7cfa"),s=n("be6b");const c=s["a"].from("common/web3");async function u(t,n,r){const{batchRequest:o,commitment:u}={batchRequest:!1,...r},m=Object(a["a"])(n,100);let l=new Array(m.length).fill([]);if(o){const n=m.map(e=>{const n=t._buildArgs([e.map(e=>e.toBase58())],u,"base64");return{methodName:"getMultipleAccounts",args:n}}),r=Object(a["a"])(n,10),o=await(await Promise.all(r.map(async e=>await t._rpcBatchRequest(e)))).flat();l=o.map(t=>t.error?c.throwError("failed to get info for multiple accounts",s["a"].errors.RPC_ERROR,{message:t.error.message}):t.result.value.map(t=>{if(t){const{data:n,executable:r,lamports:o,owner:a,rentEpoch:u}=t;return 2!==n.length&&"base64"!==n[1]?c.throwError("info must be base64 encoded",s["a"].errors.RPC_ERROR):{data:e.from(n[0],"base64"),executable:r,lamports:o,owner:new i["e"](a),rentEpoch:u}}return null}))}else try{l=await Promise.all(m.map(e=>t.getMultipleAccountsInfo(e,u)))}catch(d){if(d instanceof Error)return c.throwError("failed to get info for multiple accounts",s["a"].errors.RPC_ERROR,{message:d.message})}return l.flat()}async function m(e,t,n){const i=await u(e,t.map(e=>e.pubkey),n);return t.map((e,t)=>({...e,accountInfo:i[t]}))}function l(t,n){if(t.length<1)return c.throwArgumentError("no instructions provided","instructions",t);if(n.length<1)return c.throwArgumentError("no signers provided","signers",n);const r=new i["i"]({recentBlockhash:"11111111111111111111111111111111",feePayer:n[0]});r.add(...t);try{return e.from(r.serialize({verifySignatures:!1})).toString("base64").length<w}catch(o){return!1}}async function d(e,t,n,r=!0){const o=new i["e"]("RaydiumSimuLateTransaction11111111111111111"),a=[];let u=new i["i"];u.feePayer=o;for(const s of t)l([...u.instructions,s],[o])||(a.push(u),u=new i["i"],u.feePayer=o),u.add(s);u.instructions.length>0&&a.push(u);let m=[];try{if(m=await f(e,a,r),m.find(e=>null!==e.err))throw Error("rpc simulateTransaction error")}catch(p){if(p instanceof Error)return c.throwError("failed to simulate for instructions",s["a"].errors.RPC_ERROR,{message:p.message})}const d=[];for(const i of m)if(c.debug("simulate result:",i),i.logs){const e=i.logs.filter(e=>e&&e.includes(n));c.debug("filteredLog:",d),c.assertArgument(0!==e.length,"simulate log not match keyword","keyword",n),d.push(...e)}return d}function p(e,t){const n=e.match(/{["\w:,]+}/g);return n&&1===n.length?n[0]:c.throwArgumentError("simulate log fail to match json","keyword",t)}function b(e,t){const n=new RegExp(`"${t}":(\\d+)`,"g"),i=n.exec(e);return i&&2===i.length?i[1]:c.throwArgumentError("simulate log fail to match key","key",t)}async function f(e,t,n){let i=[];if(n){const n=await e.getLatestBlockhash(),r=[];for(const e of t){e.recentBlockhash=n.blockhash,e.lastValidBlockHeight=n.lastValidBlockHeight;const t=e._compile(),i=t.serialize(),o=e._serialize(i),a=o.toString("base64");r.push(a)}const o=r.map(t=>{const n=e._buildArgs([t],void 0,"base64");return{methodName:"simulateTransaction",args:n}}),a=[],s=20;for(let e=0;e<Math.ceil(o.length/s);e++)a.push(o.slice(e*s,(e+1)*s));i=await(await Promise.all(a.map(async t=>{const n=await e._rpcBatchRequest(t);return n.map(e=>e.result.value)}))).flat()}else try{i=await Promise.all(t.map(async t=>await(await e.simulateTransaction(t)).value))}catch(r){if(r instanceof Error)return c.throwError("failed to get info for multiple accounts",s["a"].errors.RPC_ERROR,{message:r.message})}return i}async function h({connection:e,makeTxVersion:t,innerTransaction:n,lookupTableCache:a,computeBudgetConfig:s,payer:c}){const u=null!==a&&void 0!==a?a:{},m=[...new Set(n.map(e=>{var t;return(null!==(t=e.lookupTableAddress)&&void 0!==t?t:[]).map(e=>e.toString())}).flat())],l=[];for(const r of m)void 0===u[r]&&l.push(new i["e"](r));const d=await A({connection:e,address:l});for(const[i,r]of Object.entries(d))u[i]=r;const p=s?Object(o["a"])(s).innerTransaction:void 0,b=[];let f=[];for(const i of n){if(0===i.instructions.length)continue;const e=[...f,i],n=p?[p,...e]:e;if(f.length<12&&(g({makeTxVersion:t,innerIns:n,payer:c,lookupTableAddressAccount:u})||g({makeTxVersion:t,innerIns:e,payer:c,lookupTableAddressAccount:u})))f.push(i);else{if(0===f.length)throw Error(" item ins too big ");let e=void 0;if(t===r["e"].V0){e={};for(const t of[...new Set(f.map(e=>{var t;return null!==(t=e.lookupTableAddress)&&void 0!==t?t:[]}).flat().map(e=>e.toString()))])void 0!==u[t]&&(e[t]=u[t])}if(g({makeTxVersion:t,innerIns:p?[p,...f]:f,payer:c,lookupTableAddressAccount:u})){const t=p?[p,...f]:f;b.push({instructionTypes:t.map(e=>e.instructionTypes).flat(),instructions:t.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:e})}else b.push({instructionTypes:f.map(e=>e.instructionTypes).flat(),instructions:f.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:e});f=[i]}}if(f.length>0){let e=void 0;if(t===r["e"].V0){e={};for(const t of[...new Set(f.map(e=>{var t;return null!==(t=e.lookupTableAddress)&&void 0!==t?t:[]}).flat().map(e=>e.toString()))])void 0!==u[t]&&(e[t]=u[t])}if(g({makeTxVersion:t,innerIns:p?[p,...f]:f,payer:c,lookupTableAddressAccount:u})){const t=p?[p,...f]:f;b.push({instructionTypes:t.map(e=>e.instructionTypes).flat(),instructions:t.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:e})}else b.push({instructionTypes:f.map(e=>e.instructionTypes).flat(),instructions:f.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:e})}return b}function g({makeTxVersion:e,innerIns:t,payer:n,lookupTableAddressAccount:o}){const a=t.map(e=>e.instructions).flat(),s=[...new Set(t.map(e=>e.signers).flat().map(e=>e.publicKey.toString()))].map(e=>new i["e"](e)),c=t.map(e=>{var t;return null!==(t=e.lookupTableAddress)&&void 0!==t?t:[]}).flat().map(e=>e.toString()),u={},m=null!==o&&void 0!==o?o:{};for(const i of c)void 0!==m[i]&&(u[i]=m[i]);return e===r["e"].V0?k({instructions:a,payer:n,lookupTableAddressAccount:u}):y({instructions:a,payer:n,signers:s})}const w=1644;function y({instructions:e,payer:t,signers:n}){return l(e,[t,...n])}function k({instructions:t,payer:n,lookupTableAddressAccount:r}){const o=new i["k"]({payerKey:n,recentBlockhash:i["d"].generate().publicKey.toString(),instructions:t}),a=o.compileToV0Message(Object.values(null!==r&&void 0!==r?r:{}));try{return e.from(a.serialize()).toString("base64").length<w}catch(s){return!1}}async function A({connection:e,address:t}){const n=await u(e,[...new Set(t.map(e=>e.toString()))].map(e=>new i["e"](e))),r={};for(let o=0;o<t.length;o++){const e=n[o],a=t[o];e&&(r[a.toString()]=new i["a"]({key:a,state:i["a"].deserialize(e.data)}))}return r}}).call(this,n("1c35").Buffer)},3606:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("64b9");const r="9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",o=new i["e"](r),a={[r]:3},s={3:o}},"41bb":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return g}));var i=n("8df2");const r=i["Layout"],o=i["Structure"],a=i["Union"],s=(i["BitStructure"],i["UInt"]),c=i["Blob"],u=(i["greedy"],i["u8"]),m=i["u16"],l=(i["u24"],i["u32"]),d=(i["u40"],i["u48"],i["nu64"],i["u16be"],i["u24be"],i["u32be"],i["u40be"],i["u48be"],i["nu64be"],i["s8"],i["s16"],i["s24"],i["s32"]),p=(i["s40"],i["s48"],i["ns64"],i["s16be"],i["s24be"],i["s32be"],i["s40be"],i["s48be"],i["ns64be"],i["f32"],i["f32be"],i["f64"],i["f64be"],i["struct"],i["seq"]),b=i["union"],f=(i["unionLayoutDiscriminator"],i["blob"]),h=(i["cstr"],i["utf8"],i["bits"]),g=i["offset"]},"4bf9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return h}));n("d9e2");class i extends Error{constructor(e){super(e)}}class r extends i{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class o extends i{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class a extends i{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class s extends i{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class c extends i{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class u extends i{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class m extends i{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class l extends i{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class d extends i{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class p extends i{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class b extends i{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}class f extends i{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}class h extends i{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}},"4d2f":function(e,t,n){"use strict";var i=n("50e8");n.d(t,"a",(function(){return i["a"]})),n.d(t,"b",(function(){return i["b"]}));var r=n("f036");n.d(t,"c",(function(){return r["a"]}))},"4f1c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i["a"]}));var i=n("67ac"),r=(n("e04b"),n("eba2"));r["a"].RAY_USDT_V4,r["b"].RAY,r["a"].xCOPE_USDC_V4,r["a"].STEP_USDC_V4,r["a"].MEDIA_USDC_V4,r["a"].COPE_USDC_V4,r["a"].MER_USDC_V4,r["a"].ROPE_USDC_V4,r["a"].ALEPH_USDC_V4,r["a"].TULIP_USDC_V4,r["a"].SNY_USDC_V4,r["a"].BOP_RAY_V4,r["a"].SLRS_USDC_V4,r["a"].SAMO_RAY_V4,r["a"].LIKE_USDC_V4,r["a"].RAY_SOL_V4,r["a"].RAY_USDC_V4,r["a"].RAY_ETH_V4,r["a"].RAY_SRM_V4,r["a"].MNGO_USDC_V4,r["a"].COPE_RAY_V4,r["a"].LIKE_RAY_V4,r["a"].MEDIA_RAY_V4,r["a"].MER_RAY_V4,r["a"].SLRS_RAY_V4,r["a"].SNY_RAY_V4,r["a"].TULIP_RAY_V4,r["a"].ALEPH_RAY_V4,r["a"].RAY_SRM_V4,r["a"].ATLAS_USDC_V4,r["a"].POLIS_USDC_V4,r["a"].ATLAS_RAY_V4,r["a"].POLIS_RAY_V4,r["a"].GRAPE_USDC_V4,r["a"].LARIX_USDC_V4,r["a"].LARIX_RAY_V4,r["a"].stSOL_USDC_V4,r["a"].BTC_mSOL_V4,r["a"].ETH_mSOL_V4,r["a"].mSOL_USDT_V4,r["a"].MNDE_mSOL_V4,r["a"].mSOL_USDC_V4,r["a"].mSOL_RAY_V4,r["a"].LIQ_USDC_V4,r["a"].LIQ_RAY_V4,r["a"].SYP_RAY_V4,r["a"].SYP_SOL_V4,r["a"].SYP_USDC_V4,r["a"].WOOF_RAY_V4,r["a"].KIN_RAY_V4,r["a"].STARS_USDC_V4,r["a"].weWETH_SOL_V4,r["a"].weWETH_USDC_V4,r["a"].weUNI_USDC_V4,r["a"].weSUSHI_USDC_V4,r["a"].weAXS_USDC_V4,r["a"].weDYDX_USDC_V4,r["a"].weSHIB_USDC_V4,r["a"].weSAND_USDC_V4,r["a"].weMANA_USDC_V4,r["a"].wbWBNB_USDC_V4,r["a"].wePEOPLE_USDC_V4,r["a"].SRM_USDC_V4,r["a"].CAVE_USDC_V4,r["a"].GENE_USDC_V4,r["a"].GENE_RAY_V4,r["a"].CWAR_USDC_V4,r["a"].SONAR_USDC_V4,r["a"].APT_USDC_V4,r["a"].SHILL_USDC_V4,r["a"].DFL_USDC_V4,r["a"].BOKU_USDC_V4,r["a"].MIMO_SOL_V4,r["a"].XTAG_USDC_V4,r["a"].TTT_USDC_V4,r["a"].SOL_USDC_V4,r["a"].SOL_USDT_V4,r["a"].RUN_USDC_V4,r["a"].CRWNY_RAY_V4,r["a"].CRWNY_USDC_V4,r["a"].REAL_USDC_V4,r["a"].BLOCK_USDC_V4,r["a"].FRKT_SOL_V4,r["a"].FRKT_USDC_V4,r["a"].MBS_USDC_V4,r["a"].PRISM_USDC_V4,r["a"].CHICKS_USDC_V4,r["a"].MEAN_RAY_V4,r["a"].TINY_USDC_V4,r["a"].SCY_USDC_V4},5044:function(e,t,n){"use strict";(function(e){n("d9e2"),n("14d9"),n("a8c2"),n("64b9"),n("5c23");var t=n("832d"),i=(n("22be"),n("7734"),n("8143"));function r(e="accountFlags"){const t=new i["a"](e);return t.addBoolean("initialized"),t.addBoolean("market"),t.addBoolean("openOrders"),t.addBoolean("requestQueue"),t.addBoolean("eventQueue"),t.addBoolean("bids"),t.addBoolean("asks"),t}Object(i["j"])([Object(i["b"])(5),r("accountFlags"),Object(i["g"])("ownAddress"),Object(i["n"])("vaultSignerNonce"),Object(i["g"])("baseMint"),Object(i["g"])("quoteMint"),Object(i["g"])("baseVault"),Object(i["n"])("baseDepositsTotal"),Object(i["n"])("baseFeesAccrued"),Object(i["g"])("quoteVault"),Object(i["n"])("quoteDepositsTotal"),Object(i["n"])("quoteFeesAccrued"),Object(i["n"])("quoteDustThreshold"),Object(i["g"])("requestQueue"),Object(i["g"])("eventQueue"),Object(i["g"])("bids"),Object(i["g"])("asks"),Object(i["n"])("baseLotSize"),Object(i["n"])("quoteLotSize"),Object(i["n"])("feeRateBps"),Object(i["n"])("referrerRebatesAccrued"),Object(i["b"])(7)]);t["b"]}).call(this,n("1c35").Buffer)},"50e8":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("8143");const r=Object(i["j"])([Object(i["m"])("mintAuthorityOption"),Object(i["g"])("mintAuthority"),Object(i["n"])("supply"),Object(i["o"])("decimals"),Object(i["o"])("isInitialized"),Object(i["m"])("freezeAuthorityOption"),Object(i["g"])("freezeAuthority")]),o=Object(i["j"])([Object(i["g"])("mint"),Object(i["g"])("owner"),Object(i["n"])("amount"),Object(i["m"])("delegateOption"),Object(i["g"])("delegate"),Object(i["o"])("state"),Object(i["m"])("isNativeOption"),Object(i["n"])("isNative"),Object(i["n"])("delegatedAmount"),Object(i["m"])("closeAuthorityOption"),Object(i["g"])("closeAuthority")])},"511d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("14d9");var i=n("64b9");function r(e,t,n){if(n.length){e.push({pubkey:t,isSigner:!1,isWritable:!1});for(const t of n)e.push({pubkey:t instanceof i["e"]?t:t.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}},"588e":function(e,t,n){"use strict";(function(e){n("14d9"),n("0643"),n("2382"),n("a573"),n("cbc8");var t,i=n("64b9"),r=n("5c23"),o=n.n(r),a=n("832d"),s=n("22be"),c=n("7734"),u=n("8143");class m extends a["b"]{static getPdaPoolId(e,t){return Object(s["m"])([this.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(t,n,i,r){return Object(s["m"])([this.SEED_CONFIG.owner.id,n.toBuffer(),i.toBuffer(),e.from(new o.a(r).toArray())],t)}static async getAllInfo({connection:e,programId:t,poolIds:n,wallet:i,chainTime:r}){if(0===n.length)return[];const a=n.map(e=>this.getPdaPoolId(t,e).publicKey),c=[];for(let o=0;o<this.VERSION_PROJECT.length;o++)c.push(...a.map(e=>this.getPdaOwnerId(t,e,i,o).publicKey));const u=await Object(s["n"])(e,[...a,...c]),m=[];for(let l=0;l<u.length;l++){const e=Math.floor(l/n.length),i=l%n.length,d=a[i],p=c[l],b=u[i],f=u[n.length+l];if(!b||!f)continue;if(b.data.length!==this.POOL_LAYOUT.span||f.data.length!==this.OWNER_LAYOUT.span)continue;const h=this.POOL_LAYOUT.decode(b.data),g=this.OWNER_LAYOUT.decode(f.data),w=h.openTime.toNumber(),y=h.endTime.toNumber(),k=3!==g.tokenInfo.map(e=>e.debtAmount.gt(new o.a(0))).filter(e=>!e).length,A=r>w&&r<y&&1===h.status,O=k&&A;m.push({programId:t,poolId:d,ammId:h.ammId,ownerAccountId:p,snapshotLpAmount:g.lpAmount,project:this.VERSION_PROJECT[e],openTime:w,endTime:y,canClaim:O,canClaimErrorType:k?A?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:h.tokenInfo.map((e,t)=>({programId:s["l"],mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:g.tokenInfo[t].debtAmount.add(g.tokenInfo[t].claimedAmount)}))})}return m}static async makeClaimInstructionSimple({connection:e,poolInfo:t,ownerInfo:n,makeTxVersion:i,lookupTableCache:r}){const o=[],u=[],m=[],l=[],d=[],p=[],b=[],f=[];for(const a of t.tokenInfo)f.push(await this._selectOrCreateTokenAccount({programId:a.programId,mint:a.mintAddress,tokenAccounts:a.mintAddress.equals(c["h"].WSOL.mint)?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:o,endInstructions:a.mintAddress.equals(c["h"].WSOL.mint)?m:[],frontInstructionsType:u,endInstructionsType:l,signers:b},associatedOnly:!a.mintAddress.equals(c["h"].WSOL.mint)&&n.associatedOnly,checkCreateATAOwner:n.checkCreateATAOwner}));return d.push(this.makeClaimInstruction({programId:t.programId,poolInfo:t,ownerInfo:{wallet:n.wallet,ownerPda:t.ownerAccountId,claimAddress:f}})),p.push(a["c"].util1216OwnerClaim),{address:{},innerTransactions:await Object(s["u"])({connection:e,makeTxVersion:i,computeBudgetConfig:void 0,payer:n.wallet,innerTransaction:[{instructionTypes:u,instructions:o,signers:b},{instructionTypes:p,instructions:d,signers:[]},{instructionTypes:l,instructions:m,signers:[]}],lookupTableCache:r})}}static async makeClaimAllInstructionSimple({connection:e,poolInfos:t,ownerInfo:n,makeTxVersion:i,lookupTableCache:r}){const o=[],u=[],m=[],l=[],d=[],p=[],b=[],f={};for(const s of t){const t=[];for(const i of s.tokenInfo){var h;const r=null!==(h=f[i.mintAddress.toString()])&&void 0!==h?h:await this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mintAddress,tokenAccounts:i.mintAddress.equals(c["h"].WSOL.mint)?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:o,endInstructions:i.mintAddress.equals(c["h"].WSOL.mint)?m:[],frontInstructionsType:u,endInstructionsType:l,signers:b},associatedOnly:!i.mintAddress.equals(c["h"].WSOL.mint)&&n.associatedOnly,checkCreateATAOwner:n.checkCreateATAOwner});f[i.mintAddress.toString()]=r,t.push(r)}d.push(this.makeClaimInstruction({programId:s.programId,poolInfo:s,ownerInfo:{wallet:n.wallet,ownerPda:s.ownerAccountId,claimAddress:t}})),p.push(a["c"].util1216OwnerClaim)}return{address:{},innerTransactions:await Object(s["u"])({connection:e,makeTxVersion:i,computeBudgetConfig:void 0,payer:n.wallet,innerTransaction:[{instructionTypes:u,instructions:o,signers:b},{instructionTypes:p,instructions:d,signers:[]},{instructionTypes:l,instructions:m,signers:[]}],lookupTableCache:r})}}static makeClaimInstruction({programId:t,poolInfo:n,ownerInfo:r}){const o=Object(u["j"])([]),a=[{pubkey:r.wallet,isSigner:!0,isWritable:!0},{pubkey:n.poolId,isSigner:!1,isWritable:!0},{pubkey:r.ownerPda,isSigner:!1,isWritable:!0},...r.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...n.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:s["l"],isSigner:!1,isWritable:!1}],c=e.alloc(o.span);o.encode({},c);const m=e.from([10,66,208,184,161,6,191,98,...c]);return new i["j"]({keys:a,programId:t,data:m})}}t=m,m.CLAIMED_NUM=3,m.POOL_LAYOUT=Object(u["j"])([Object(u["b"])(8),Object(u["o"])("bump"),Object(u["o"])("status"),Object(u["n"])("openTime"),Object(u["n"])("endTime"),Object(u["g"])("ammId"),Object(u["i"])(Object(u["j"])([Object(u["o"])("mintDecimals"),Object(u["g"])("mintAddress"),Object(u["g"])("mintVault"),Object(u["n"])("perLpLoss"),Object(u["n"])("totalClaimedAmount")]),t.CLAIMED_NUM,"tokenInfo"),Object(u["i"])(Object(u["n"])(),10,"padding")]),m.OWNER_LAYOUT=Object(u["j"])([Object(u["b"])(8),Object(u["o"])("bump"),Object(u["o"])("version"),Object(u["g"])("poolId"),Object(u["g"])("owner"),Object(u["n"])("lpAmount"),Object(u["i"])(Object(u["j"])([Object(u["g"])("mintAddress"),Object(u["n"])("debtAmount"),Object(u["n"])("claimedAmount")]),t.CLAIMED_NUM,"tokenInfo"),Object(u["i"])(Object(u["n"])(),4,"padding")]),m.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new i["e"](e)),m.SEED_CONFIG={pool:{id:e.from("pool_seed","utf8")},owner:{id:e.from("user_claim_seed","utf8")}},m.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"]}).call(this,n("1c35").Buffer)},"5c23":function(e,t,n){(function(e){n("d9e2"),n("0643"),n("cbc8"),function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(17).Buffer}catch(P){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void i(!1,"Invalid character in "+e)}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,r){for(var o=0,a=0,s=Math.min(e.length,n),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=r,a=u>=49?u-49+10:u>=17?u-17+10:u,i(u>=0&&a<r,"Invalid character"),o+=a}return o}function m(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var r=0;"-"===e[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,s+=24,s>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,s+=24,s>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else{var s=e.length-t;for(i=s%2===0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8}this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,m=n;m<s;m+=i)c=u(e,m,m+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var l=1;for(c=u(e,m,e.length,t),m=0;m<a;m++)l*=t;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){m(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){while(this.length<e)this.words[this.length++]=0;return this},o.prototype._strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(P){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(e=e||10,t=0|t||1,16===e||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);o=s>>>24-r&16777215,r+=2,r>=26&&(r-=26,a--),n=0!==o||a!==this.length-1?d[6-c.length]+c+n:c+n}0!==o&&(n=o.toString(16)+n);while(n.length%t!==0)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],m=b[e];n="";var l=this.clone();l.negative=0;while(!l.isZero()){var f=l.modrn(m).toString(e);l=l.idivn(m),n=l.isZero()?f+n:d[u-f.length]+f+n}this.isZero()&&(n="0"+n);while(n.length%t!==0)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var f=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};function h(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=e.words[i]>>>r&1}return t}function g(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var m=c>>>26,l=67108863&c,d=Math.min(u,t.length-1),p=Math.max(0,u-e.length+1);p<=d;p++){var b=u-p|0;r=0|e.words[b],o=0|t.words[p],a=r*o+l,m+=a/67108864|0,l=67108863&a}n.words[u]=0|l,c=0|m}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var a=f(e,o),s="le"===t?"LE":"BE";return this["_toArrayLike"+s](a,r),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n<e.length){e[n++]=i;while(n<e.length)e[n++]=0}},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n>=0){e[n--]=i;while(n>=0)e[n--]=0}},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){while(this.length<e.length)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this._strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)t=(0|n.words[a])-(0|i.words[a])+o,o=t>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)t=(0|n.words[a])+o,o=t>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var w=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,m=0|a[0],l=8191&m,d=m>>>13,p=0|a[1],b=8191&p,f=p>>>13,h=0|a[2],g=8191&h,w=h>>>13,y=0|a[3],k=8191&y,A=y>>>13,O=0|a[4],S=8191&O,I=O>>>13,T=0|a[5],j=8191&T,v=T>>>13,C=0|a[6],M=8191&C,P=C>>>13,L=0|a[7],D=8191&L,R=L>>>13,q=0|a[8],B=8191&q,V=q>>>13,x=0|a[9],U=8191&x,E=x>>>13,_=0|s[0],W=8191&_,N=_>>>13,F=0|s[1],K=8191&F,X=F>>>13,Y=0|s[2],G=8191&Y,z=Y>>>13,H=0|s[3],Q=8191&H,Z=H>>>13,J=0|s[4],$=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,me=0|s[8],le=8191&me,de=me>>>13,pe=0|s[9],be=8191&pe,fe=pe>>>13;n.negative=e.negative^t.negative,n.length=19,i=Math.imul(l,W),r=Math.imul(l,N),r=r+Math.imul(d,W)|0,o=Math.imul(d,N);var he=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(he>>>26)|0,he&=67108863,i=Math.imul(b,W),r=Math.imul(b,N),r=r+Math.imul(f,W)|0,o=Math.imul(f,N),i=i+Math.imul(l,K)|0,r=r+Math.imul(l,X)|0,r=r+Math.imul(d,K)|0,o=o+Math.imul(d,X)|0;var ge=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(g,W),r=Math.imul(g,N),r=r+Math.imul(w,W)|0,o=Math.imul(w,N),i=i+Math.imul(b,K)|0,r=r+Math.imul(b,X)|0,r=r+Math.imul(f,K)|0,o=o+Math.imul(f,X)|0,i=i+Math.imul(l,G)|0,r=r+Math.imul(l,z)|0,r=r+Math.imul(d,G)|0,o=o+Math.imul(d,z)|0;var we=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(k,W),r=Math.imul(k,N),r=r+Math.imul(A,W)|0,o=Math.imul(A,N),i=i+Math.imul(g,K)|0,r=r+Math.imul(g,X)|0,r=r+Math.imul(w,K)|0,o=o+Math.imul(w,X)|0,i=i+Math.imul(b,G)|0,r=r+Math.imul(b,z)|0,r=r+Math.imul(f,G)|0,o=o+Math.imul(f,z)|0,i=i+Math.imul(l,Q)|0,r=r+Math.imul(l,Z)|0,r=r+Math.imul(d,Q)|0,o=o+Math.imul(d,Z)|0;var ye=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(S,W),r=Math.imul(S,N),r=r+Math.imul(I,W)|0,o=Math.imul(I,N),i=i+Math.imul(k,K)|0,r=r+Math.imul(k,X)|0,r=r+Math.imul(A,K)|0,o=o+Math.imul(A,X)|0,i=i+Math.imul(g,G)|0,r=r+Math.imul(g,z)|0,r=r+Math.imul(w,G)|0,o=o+Math.imul(w,z)|0,i=i+Math.imul(b,Q)|0,r=r+Math.imul(b,Z)|0,r=r+Math.imul(f,Q)|0,o=o+Math.imul(f,Z)|0,i=i+Math.imul(l,$)|0,r=r+Math.imul(l,ee)|0,r=r+Math.imul(d,$)|0,o=o+Math.imul(d,ee)|0;var ke=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(j,W),r=Math.imul(j,N),r=r+Math.imul(v,W)|0,o=Math.imul(v,N),i=i+Math.imul(S,K)|0,r=r+Math.imul(S,X)|0,r=r+Math.imul(I,K)|0,o=o+Math.imul(I,X)|0,i=i+Math.imul(k,G)|0,r=r+Math.imul(k,z)|0,r=r+Math.imul(A,G)|0,o=o+Math.imul(A,z)|0,i=i+Math.imul(g,Q)|0,r=r+Math.imul(g,Z)|0,r=r+Math.imul(w,Q)|0,o=o+Math.imul(w,Z)|0,i=i+Math.imul(b,$)|0,r=r+Math.imul(b,ee)|0,r=r+Math.imul(f,$)|0,o=o+Math.imul(f,ee)|0,i=i+Math.imul(l,ne)|0,r=r+Math.imul(l,ie)|0,r=r+Math.imul(d,ne)|0,o=o+Math.imul(d,ie)|0;var Ae=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(M,W),r=Math.imul(M,N),r=r+Math.imul(P,W)|0,o=Math.imul(P,N),i=i+Math.imul(j,K)|0,r=r+Math.imul(j,X)|0,r=r+Math.imul(v,K)|0,o=o+Math.imul(v,X)|0,i=i+Math.imul(S,G)|0,r=r+Math.imul(S,z)|0,r=r+Math.imul(I,G)|0,o=o+Math.imul(I,z)|0,i=i+Math.imul(k,Q)|0,r=r+Math.imul(k,Z)|0,r=r+Math.imul(A,Q)|0,o=o+Math.imul(A,Z)|0,i=i+Math.imul(g,$)|0,r=r+Math.imul(g,ee)|0,r=r+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,i=i+Math.imul(b,ne)|0,r=r+Math.imul(b,ie)|0,r=r+Math.imul(f,ne)|0,o=o+Math.imul(f,ie)|0,i=i+Math.imul(l,oe)|0,r=r+Math.imul(l,ae)|0,r=r+Math.imul(d,oe)|0,o=o+Math.imul(d,ae)|0;var Oe=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(D,W),r=Math.imul(D,N),r=r+Math.imul(R,W)|0,o=Math.imul(R,N),i=i+Math.imul(M,K)|0,r=r+Math.imul(M,X)|0,r=r+Math.imul(P,K)|0,o=o+Math.imul(P,X)|0,i=i+Math.imul(j,G)|0,r=r+Math.imul(j,z)|0,r=r+Math.imul(v,G)|0,o=o+Math.imul(v,z)|0,i=i+Math.imul(S,Q)|0,r=r+Math.imul(S,Z)|0,r=r+Math.imul(I,Q)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(k,$)|0,r=r+Math.imul(k,ee)|0,r=r+Math.imul(A,$)|0,o=o+Math.imul(A,ee)|0,i=i+Math.imul(g,ne)|0,r=r+Math.imul(g,ie)|0,r=r+Math.imul(w,ne)|0,o=o+Math.imul(w,ie)|0,i=i+Math.imul(b,oe)|0,r=r+Math.imul(b,ae)|0,r=r+Math.imul(f,oe)|0,o=o+Math.imul(f,ae)|0,i=i+Math.imul(l,ce)|0,r=r+Math.imul(l,ue)|0,r=r+Math.imul(d,ce)|0,o=o+Math.imul(d,ue)|0;var Se=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(B,W),r=Math.imul(B,N),r=r+Math.imul(V,W)|0,o=Math.imul(V,N),i=i+Math.imul(D,K)|0,r=r+Math.imul(D,X)|0,r=r+Math.imul(R,K)|0,o=o+Math.imul(R,X)|0,i=i+Math.imul(M,G)|0,r=r+Math.imul(M,z)|0,r=r+Math.imul(P,G)|0,o=o+Math.imul(P,z)|0,i=i+Math.imul(j,Q)|0,r=r+Math.imul(j,Z)|0,r=r+Math.imul(v,Q)|0,o=o+Math.imul(v,Z)|0,i=i+Math.imul(S,$)|0,r=r+Math.imul(S,ee)|0,r=r+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,i=i+Math.imul(k,ne)|0,r=r+Math.imul(k,ie)|0,r=r+Math.imul(A,ne)|0,o=o+Math.imul(A,ie)|0,i=i+Math.imul(g,oe)|0,r=r+Math.imul(g,ae)|0,r=r+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,i=i+Math.imul(b,ce)|0,r=r+Math.imul(b,ue)|0,r=r+Math.imul(f,ce)|0,o=o+Math.imul(f,ue)|0,i=i+Math.imul(l,le)|0,r=r+Math.imul(l,de)|0,r=r+Math.imul(d,le)|0,o=o+Math.imul(d,de)|0;var Ie=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(U,W),r=Math.imul(U,N),r=r+Math.imul(E,W)|0,o=Math.imul(E,N),i=i+Math.imul(B,K)|0,r=r+Math.imul(B,X)|0,r=r+Math.imul(V,K)|0,o=o+Math.imul(V,X)|0,i=i+Math.imul(D,G)|0,r=r+Math.imul(D,z)|0,r=r+Math.imul(R,G)|0,o=o+Math.imul(R,z)|0,i=i+Math.imul(M,Q)|0,r=r+Math.imul(M,Z)|0,r=r+Math.imul(P,Q)|0,o=o+Math.imul(P,Z)|0,i=i+Math.imul(j,$)|0,r=r+Math.imul(j,ee)|0,r=r+Math.imul(v,$)|0,o=o+Math.imul(v,ee)|0,i=i+Math.imul(S,ne)|0,r=r+Math.imul(S,ie)|0,r=r+Math.imul(I,ne)|0,o=o+Math.imul(I,ie)|0,i=i+Math.imul(k,oe)|0,r=r+Math.imul(k,ae)|0,r=r+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,i=i+Math.imul(g,ce)|0,r=r+Math.imul(g,ue)|0,r=r+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,i=i+Math.imul(b,le)|0,r=r+Math.imul(b,de)|0,r=r+Math.imul(f,le)|0,o=o+Math.imul(f,de)|0,i=i+Math.imul(l,be)|0,r=r+Math.imul(l,fe)|0,r=r+Math.imul(d,be)|0,o=o+Math.imul(d,fe)|0;var Te=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(U,K),r=Math.imul(U,X),r=r+Math.imul(E,K)|0,o=Math.imul(E,X),i=i+Math.imul(B,G)|0,r=r+Math.imul(B,z)|0,r=r+Math.imul(V,G)|0,o=o+Math.imul(V,z)|0,i=i+Math.imul(D,Q)|0,r=r+Math.imul(D,Z)|0,r=r+Math.imul(R,Q)|0,o=o+Math.imul(R,Z)|0,i=i+Math.imul(M,$)|0,r=r+Math.imul(M,ee)|0,r=r+Math.imul(P,$)|0,o=o+Math.imul(P,ee)|0,i=i+Math.imul(j,ne)|0,r=r+Math.imul(j,ie)|0,r=r+Math.imul(v,ne)|0,o=o+Math.imul(v,ie)|0,i=i+Math.imul(S,oe)|0,r=r+Math.imul(S,ae)|0,r=r+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,i=i+Math.imul(k,ce)|0,r=r+Math.imul(k,ue)|0,r=r+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,i=i+Math.imul(g,le)|0,r=r+Math.imul(g,de)|0,r=r+Math.imul(w,le)|0,o=o+Math.imul(w,de)|0,i=i+Math.imul(b,be)|0,r=r+Math.imul(b,fe)|0,r=r+Math.imul(f,be)|0,o=o+Math.imul(f,fe)|0;var je=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(U,G),r=Math.imul(U,z),r=r+Math.imul(E,G)|0,o=Math.imul(E,z),i=i+Math.imul(B,Q)|0,r=r+Math.imul(B,Z)|0,r=r+Math.imul(V,Q)|0,o=o+Math.imul(V,Z)|0,i=i+Math.imul(D,$)|0,r=r+Math.imul(D,ee)|0,r=r+Math.imul(R,$)|0,o=o+Math.imul(R,ee)|0,i=i+Math.imul(M,ne)|0,r=r+Math.imul(M,ie)|0,r=r+Math.imul(P,ne)|0,o=o+Math.imul(P,ie)|0,i=i+Math.imul(j,oe)|0,r=r+Math.imul(j,ae)|0,r=r+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0,i=i+Math.imul(S,ce)|0,r=r+Math.imul(S,ue)|0,r=r+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,i=i+Math.imul(k,le)|0,r=r+Math.imul(k,de)|0,r=r+Math.imul(A,le)|0,o=o+Math.imul(A,de)|0,i=i+Math.imul(g,be)|0,r=r+Math.imul(g,fe)|0,r=r+Math.imul(w,be)|0,o=o+Math.imul(w,fe)|0;var ve=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(U,Q),r=Math.imul(U,Z),r=r+Math.imul(E,Q)|0,o=Math.imul(E,Z),i=i+Math.imul(B,$)|0,r=r+Math.imul(B,ee)|0,r=r+Math.imul(V,$)|0,o=o+Math.imul(V,ee)|0,i=i+Math.imul(D,ne)|0,r=r+Math.imul(D,ie)|0,r=r+Math.imul(R,ne)|0,o=o+Math.imul(R,ie)|0,i=i+Math.imul(M,oe)|0,r=r+Math.imul(M,ae)|0,r=r+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,i=i+Math.imul(j,ce)|0,r=r+Math.imul(j,ue)|0,r=r+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,i=i+Math.imul(S,le)|0,r=r+Math.imul(S,de)|0,r=r+Math.imul(I,le)|0,o=o+Math.imul(I,de)|0,i=i+Math.imul(k,be)|0,r=r+Math.imul(k,fe)|0,r=r+Math.imul(A,be)|0,o=o+Math.imul(A,fe)|0;var Ce=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(U,$),r=Math.imul(U,ee),r=r+Math.imul(E,$)|0,o=Math.imul(E,ee),i=i+Math.imul(B,ne)|0,r=r+Math.imul(B,ie)|0,r=r+Math.imul(V,ne)|0,o=o+Math.imul(V,ie)|0,i=i+Math.imul(D,oe)|0,r=r+Math.imul(D,ae)|0,r=r+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,i=i+Math.imul(M,ce)|0,r=r+Math.imul(M,ue)|0,r=r+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,i=i+Math.imul(j,le)|0,r=r+Math.imul(j,de)|0,r=r+Math.imul(v,le)|0,o=o+Math.imul(v,de)|0,i=i+Math.imul(S,be)|0,r=r+Math.imul(S,fe)|0,r=r+Math.imul(I,be)|0,o=o+Math.imul(I,fe)|0;var Me=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(U,ne),r=Math.imul(U,ie),r=r+Math.imul(E,ne)|0,o=Math.imul(E,ie),i=i+Math.imul(B,oe)|0,r=r+Math.imul(B,ae)|0,r=r+Math.imul(V,oe)|0,o=o+Math.imul(V,ae)|0,i=i+Math.imul(D,ce)|0,r=r+Math.imul(D,ue)|0,r=r+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,i=i+Math.imul(M,le)|0,r=r+Math.imul(M,de)|0,r=r+Math.imul(P,le)|0,o=o+Math.imul(P,de)|0,i=i+Math.imul(j,be)|0,r=r+Math.imul(j,fe)|0,r=r+Math.imul(v,be)|0,o=o+Math.imul(v,fe)|0;var Pe=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(U,oe),r=Math.imul(U,ae),r=r+Math.imul(E,oe)|0,o=Math.imul(E,ae),i=i+Math.imul(B,ce)|0,r=r+Math.imul(B,ue)|0,r=r+Math.imul(V,ce)|0,o=o+Math.imul(V,ue)|0,i=i+Math.imul(D,le)|0,r=r+Math.imul(D,de)|0,r=r+Math.imul(R,le)|0,o=o+Math.imul(R,de)|0,i=i+Math.imul(M,be)|0,r=r+Math.imul(M,fe)|0,r=r+Math.imul(P,be)|0,o=o+Math.imul(P,fe)|0;var Le=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Le>>>26)|0,Le&=67108863,i=Math.imul(U,ce),r=Math.imul(U,ue),r=r+Math.imul(E,ce)|0,o=Math.imul(E,ue),i=i+Math.imul(B,le)|0,r=r+Math.imul(B,de)|0,r=r+Math.imul(V,le)|0,o=o+Math.imul(V,de)|0,i=i+Math.imul(D,be)|0,r=r+Math.imul(D,fe)|0,r=r+Math.imul(R,be)|0,o=o+Math.imul(R,fe)|0;var De=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(U,le),r=Math.imul(U,de),r=r+Math.imul(E,le)|0,o=Math.imul(E,de),i=i+Math.imul(B,be)|0,r=r+Math.imul(B,fe)|0,r=r+Math.imul(V,be)|0,o=o+Math.imul(V,fe)|0;var Re=(u+i|0)+((8191&r)<<13)|0;u=(o+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(U,be),r=Math.imul(U,fe),r=r+Math.imul(E,be)|0,o=Math.imul(E,fe);var qe=(u+i|0)+((8191&r)<<13)|0;return u=(o+(r>>>13)|0)+(qe>>>26)|0,qe&=67108863,c[0]=he,c[1]=ge,c[2]=we,c[3]=ye,c[4]=ke,c[5]=Ae,c[6]=Oe,c[7]=Se,c[8]=Ie,c[9]=Te,c[10]=je,c[11]=ve,c[12]=Ce,c[13]=Me,c[14]=Pe,c[15]=Le,c[16]=De,c[17]=Re,c[18]=qe,0!==u&&(c[19]=u,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var m=o-u,l=0|e.words[m],d=0|t.words[u],p=l*d,b=67108863&p;a=a+(p/67108864|0)|0,b=b+s|0,s=67108863&b,a=a+(b>>>26)|0,r+=a>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n._strip()}function k(e,t,n){return y(e,t,n)}function A(e,t){this.x=e,this.y=t}Math.imul||(w=g),o.prototype.mulTo=function(e,t){var n,i=this.length+e.length;return n=10===this.length&&10===e.length?w(this,e,t):i<63?g(this,e,t):i<1024?y(this,e,t):k(this,e,t),n},A.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},A.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},A.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},A.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),m=0;m<r;m+=s)for(var l=c,d=u,p=0;p<a;p++){var b=n[m+p],f=i[m+p],h=n[m+p+a],g=i[m+p+a],w=l*h-d*g;g=l*g+d*h,h=w,n[m+p]=b+h,i[m+p]=f+g,n[m+p+a]=b-h,i[m+p+a]=f-g,p!==s&&(w=c*l-u*d,d=c*d+u*l,l=w)}},A.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},A.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},A.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},A.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0===(-8192&o))},A.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},A.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),m=new Array(i),l=new Array(i),d=n.words;d.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,m,l,i,r);for(var p=0;p<i;p++){var b=s[p]*m[p]-c[p]*l[p];c[p]=s[p]*l[p]+c[p]*m[p],s[p]=b}return this.conjugate(s,c,i),this.transform(s,c,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),k(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"===typeof e),i(e<67108864);for(var n=0,r=0;r<this.length;r++){var o=(0|this.words[r])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[r]=67108863&a}return 0!==n&&(this.words[r]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=h(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length;i++,n=n.sqr())if(0!==t[i])break;if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this._strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"===typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var m=0;for(u=this.length-1;u>=0&&(0!==m||u>=r);u--){var l=0|this.words[u];this.words[u]=m<<26-o|l>>>o,m=l&s}return c&&0!==m&&(c.words[c.length++]=m),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return!1;var o=this.words[n];return!!(o&r)},o.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;o-=67108863&c,s=(o>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)o=(0|this.words[r+n])+s,s=o>>26,this.words[r+n]=67108863&o;if(0===s)return this._strip();for(i(-1===s),s=0,r=0;r<this.length;r++)o=-(0|this.words[r])+s,s=o>>26,this.words[r]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=this.length-e.length,i=this.clone(),r=e,a=0|r.words[r.length-1],s=this._countBits(a);n=26-s,0!==n&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var c,u=i.length-r.length;if("mod"!==t){c=new o(null),c.length=u+1,c.words=new Array(c.length);for(var m=0;m<c.length;m++)c.words[m]=0}var l=i.clone()._ishlnsubmul(r,1,u);0===l.negative&&(i=l,c&&(c.words[u]=1));for(var d=u-1;d>=0;d--){var p=67108864*(0|i.words[r.length+d])+(0|i.words[r.length+d-1]);p=Math.min(p/a|0,67108863),i._ishlnsubmul(r,p,d);while(0!==i.negative)p--,i.negative=0,i._ishlnsubmul(r,1,d),i.isZero()||(i.negative^=1);c&&(c.words[d]=p)}return c&&c._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:c||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var n=(1<<26)%e,r=0,o=this.length-1;o>=0;o--)r=(n*r+(0|this.words[o]))%e;return t?-r:r},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*n;this.words[r]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;while(t.isEven()&&n.isEven())t.iushrn(1),n.iushrn(1),++u;var m=n.clone(),l=t.clone();while(!t.isZero()){for(var d=0,p=1;0===(t.words[0]&p)&&d<26;++d,p<<=1);if(d>0){t.iushrn(d);while(d-- >0)(r.isOdd()||a.isOdd())&&(r.iadd(m),a.isub(l)),r.iushrn(1),a.iushrn(1)}for(var b=0,f=1;0===(n.words[0]&f)&&b<26;++b,f<<=1);if(b>0){n.iushrn(b);while(b-- >0)(s.isOdd()||c.isOdd())&&(s.iadd(m),c.isub(l)),s.iushrn(1),c.iushrn(1)}t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();var r,a=new o(1),s=new o(0),c=n.clone();while(t.cmpn(1)>0&&n.cmpn(1)>0){for(var u=0,m=1;0===(t.words[0]&m)&&u<26;++u,m<<=1);if(u>0){t.iushrn(u);while(u-- >0)a.isOdd()&&a.iadd(c),a.iushrn(1)}for(var l=0,d=1;0===(n.words[0]&d)&&l<26;++l,d<<=1);if(l>0){n.iushrn(l);while(l-- >0)s.isOdd()&&s.iadd(c),s.iushrn(1)}t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return r=0===t.cmpn(1)?a:s,r.cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);do{while(t.isEven())t.iushrn(1);while(n.isEven())n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}while(1);return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new C(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var O={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function T(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function j(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),t=n.bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},r(I,S),I.prototype.split=function(e,t){for(var n=4194303,i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[r-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(T,S),r(j,S),r(v,S),v.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(O[e])return O[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new T;else if("p192"===e)t=new j;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return O[e]=t,t},C.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(m(e,e.umod(this.m)._forceRed(this)),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},C.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}var r=this.m.subn(1),a=0;while(!r.isZero()&&0===r.andln(1))a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),m=this.m.bitLength();m=new o(2*m*m).toRed(this);while(0!==this.pow(m,u).cmp(c))m.redIAdd(c);var l=this.pow(m,r),d=this.pow(e,r.addn(1).iushrn(1)),p=this.pow(e,r),b=a;while(0!==p.cmp(s)){for(var f=p,h=0;0!==f.cmp(s);h++)f=f.redSqr();i(h<b);var g=this.pow(l,new o(1).iushln(b-h-1));d=d.redMul(g),l=g.redSqr(),p=p.redMul(l),b=h}return d},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=4,i=new Array(1<<n);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var a=i[0],s=0,c=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var m=t.words[r],l=u-1;l>=0;l--){var d=m>>l&1;a!==i[0]&&(a=this.sqr(a)),0!==d||0!==s?(s<<=1,s|=d,c++,(c===n||0===r&&0===l)&&(a=this.mul(a,i[s]),c=0,s=0)):c=0}u=26}return a},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},r(M,C),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}(e,this)}).call(this,n("62e4")(e))},"60f0":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("14d9");var i=n("64b9"),r=n("832d");function o(e){const t=[],n=[];return e.microLamports&&(t.push(i["b"].setComputeUnitPrice({microLamports:e.microLamports})),n.push(r["c"].setComputeUnitPrice)),e.units&&(t.push(i["b"].setComputeUnitLimit({units:e.units})),n.push(r["c"].setComputeUnitLimit)),{address:{},innerTransaction:{instructions:t,signers:[],instructionTypes:n}}}},"63d5":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var i=n("64b9"),r=n("fe55");function o(t,n,i,o,s=r["c"],c=r["a"]){return a(t,n,i,o,e.alloc(0),s,c)}function a(e,t,n,o,a,s=r["c"],c=r["a"]){const u=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i["h"].programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new i["j"]({keys:u,programId:c,data:a})}}).call(this,n("1c35").Buffer)},"67ac":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return w}));n("d9e2"),n("14d9"),n("0643"),n("2382"),n("fffc"),n("a573");var i=n("64b9"),r=n("5c23"),o=n.n(r),a=n("832d"),s=n("d677"),c=n("22be"),u=n("7734"),m=n("8143"),l=n("4d2f"),d=n("eba2"),p=n("95f1"),b=n("e04b"),f=n("6aea");const h=c["e"].from("Farm"),g={"Standard SPL":0,"Option tokens":1};class w extends a["b"]{static getStateLayout(e){const t=b["g"][e];return h.assertArgument(!!t,"invalid version","version",e),t}static getLedgerLayout(e){const t=b["f"][e];return h.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e),ledger:this.getLedgerLayout(e)}}static getAssociatedAuthority({programId:e,poolId:t}){return Object(c["m"])([t.toBuffer()],e)}static getAssociatedLedgerAccount({programId:t,poolId:n,owner:i,version:r}){const{publicKey:o}=Object(c["m"])([n.toBuffer(),i.toBuffer(),e.from(6===r?"farmer_info_associated_seed":"staker_info_v2_associated_seed","utf-8")],t);return o}static getAssociatedLedgerPoolAccount({programId:t,poolId:n,mint:i,type:r}){const{publicKey:o}=Object(c["m"])([n.toBuffer(),i.toBuffer(),e.from("lpVault"===r?"lp_vault_associated_seed":"rewardVault"===r?"reward_vault_associated_seed":"","utf-8")],t);return o}static makeDepositInstruction(e){const{poolKeys:t}=e,{version:n}=t;return 3===n?this.makeDepositInstructionV3(e):5===n?this.makeDepositInstructionV5(e):6===n?this.makeDepositInstructionV6(e):h.throwArgumentError("invalid version","poolKeys.version",n)}static makeDepositInstructionV3({poolKeys:t,userKeys:n,amount:r}){h.assertArgument(1===t.rewardInfos.length,"lengths not equal 1","poolKeys.rewardInfos",t.rewardInfos),h.assertArgument(1===n.rewardTokenAccounts.length,"lengths not equal 1","userKeys.rewardTokenAccounts",n.rewardTokenAccounts);const o=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("amount")]),s=e.alloc(o.span);o.encode({instruction:10,amount:Object(u["l"])(r)},s);const l=[Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["b"])(n.lpTokenAccount,!1),Object(c["b"])(t.lpVault,!1),Object(c["b"])(n.rewardTokenAccounts[0],!1),Object(c["b"])(t.rewardInfos[0].rewardVault,!1),Object(c["c"])(c["j"],!1),Object(c["c"])(c["l"],!1)];if(n.auxiliaryLedgers)for(const e of n.auxiliaryLedgers)l.push(Object(c["b"])(e,!1));return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:l,data:s})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV3Deposit]}}}static makeDepositInstructionV5({poolKeys:t,userKeys:n,amount:r}){h.assertArgument(n.rewardTokenAccounts.length===t.rewardInfos.length,"lengths not equal with poolKeys.rewardInfos","userKeys.rewardTokenAccounts",n.rewardTokenAccounts);const o=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("amount")]),s=e.alloc(o.span);o.encode({instruction:11,amount:Object(u["l"])(r)},s);const l=[Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["b"])(n.lpTokenAccount,!1),Object(c["b"])(t.lpVault,!1),Object(c["b"])(n.rewardTokenAccounts[0],!1),Object(c["b"])(t.rewardInfos[0].rewardVault,!1),Object(c["c"])(c["j"],!1),Object(c["c"])(c["l"],!1)];for(let e=1;e<t.rewardInfos.length;e++)l.push(Object(c["b"])(n.rewardTokenAccounts[e],!1)),l.push(Object(c["b"])(t.rewardInfos[e].rewardVault,!1));if(n.auxiliaryLedgers)for(const e of n.auxiliaryLedgers)l.push(Object(c["b"])(e,!1));return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:l,data:s})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV5Deposit]}}}static makeDepositInstructionV6({poolKeys:t,userKeys:n,amount:r}){h.assertArgument(0!==n.rewardTokenAccounts.length,"lengths equal zero","userKeys.rewardTokenAccounts",n.rewardTokenAccounts),h.assertArgument(n.rewardTokenAccounts.length===t.rewardInfos.length,"lengths not equal with poolKeys.rewardInfos","userKeys.rewardTokenAccounts",n.rewardTokenAccounts);const o=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("amount")]),s=e.alloc(o.span);o.encode({instruction:1,amount:Object(u["l"])(r)},s);const l=[Object(c["c"])(c["l"],!1),Object(c["c"])(c["i"],!1),Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["b"])(t.lpVault,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["b"])(n.lpTokenAccount,!1)];for(let e=0;e<t.rewardInfos.length;e++)l.push(Object(c["b"])(t.rewardInfos[e].rewardVault,!1)),l.push(Object(c["b"])(n.rewardTokenAccounts[e],!1));return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:l,data:s})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV6Deposit]}}}static makeWithdrawInstruction(e){const{poolKeys:t}=e,{version:n}=t;return 3===n?this.makeWithdrawInstructionV3(e):5===n?this.makeWithdrawInstructionV5(e):6===n?this.makeWithdrawInstructionV6(e):h.throwArgumentError("invalid version","poolKeys.version",n)}static makeWithdrawInstructionV3({poolKeys:t,userKeys:n,amount:r}){h.assertArgument(1===t.rewardInfos.length,"lengths not equal 1","poolKeys.rewardInfos",t.rewardInfos),h.assertArgument(1===n.rewardTokenAccounts.length,"lengths not equal 1","userKeys.rewardTokenAccounts",n.rewardTokenAccounts);const o=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("amount")]),s=e.alloc(o.span);o.encode({instruction:11,amount:Object(u["l"])(r)},s);const l=[Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["b"])(n.lpTokenAccount,!1),Object(c["b"])(t.lpVault,!1),Object(c["b"])(n.rewardTokenAccounts[0],!1),Object(c["b"])(t.rewardInfos[0].rewardVault,!1),Object(c["c"])(c["j"],!1),Object(c["c"])(c["l"],!1)];if(n.auxiliaryLedgers)for(const e of n.auxiliaryLedgers)l.push(Object(c["b"])(e,!1));return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:l,data:s})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV5Deposit]}}}static makeWithdrawInstructionV5({poolKeys:t,userKeys:n,amount:r}){h.assertArgument(n.rewardTokenAccounts.length===t.rewardInfos.length,"lengths not equal with params.poolKeys.rewardInfos","userKeys.rewardTokenAccounts",n.rewardTokenAccounts);const o=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("amount")]),s=e.alloc(o.span);o.encode({instruction:12,amount:Object(u["l"])(r)},s);const l=[Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["b"])(n.lpTokenAccount,!1),Object(c["b"])(t.lpVault,!1),Object(c["b"])(n.rewardTokenAccounts[0],!1),Object(c["b"])(t.rewardInfos[0].rewardVault,!1),Object(c["c"])(c["j"],!1),Object(c["c"])(c["l"],!1)];for(let e=1;e<t.rewardInfos.length;e++)l.push(Object(c["b"])(n.rewardTokenAccounts[e],!1)),l.push(Object(c["b"])(t.rewardInfos[e].rewardVault,!1));if(n.auxiliaryLedgers)for(const e of n.auxiliaryLedgers)l.push(Object(c["b"])(e,!1));return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:l,data:s})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV5Withdraw]}}}static makeWithdrawInstructionV6({poolKeys:t,userKeys:n,amount:r}){h.assertArgument(0!==n.rewardTokenAccounts.length,"lengths equal zero","userKeys.rewardTokenAccounts",n.rewardTokenAccounts),h.assertArgument(n.rewardTokenAccounts.length===t.rewardInfos.length,"lengths not equal with params.poolKeys.rewardInfos","userKeys.rewardTokenAccounts",n.rewardTokenAccounts);const o=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("amount")]),s=e.alloc(o.span);o.encode({instruction:2,amount:Object(u["l"])(r)},s);const l=[Object(c["c"])(c["l"],!1),Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["b"])(t.lpVault,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["b"])(n.lpTokenAccount,!1)];for(let e=0;e<t.rewardInfos.length;e++)l.push(Object(c["b"])(t.rewardInfos[e].rewardVault,!1)),l.push(Object(c["b"])(n.rewardTokenAccounts[e],!1));return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:l,data:s})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV6Withdraw]}}}static makeCreateAssociatedLedgerAccountInstruction(e){const{poolKeys:t}=e,{version:n}=t;return 3===n?this.makeCreateAssociatedLedgerAccountInstructionV3(e):5===n?this.makeCreateAssociatedLedgerAccountInstructionV5(e):h.throwArgumentError("invalid version","poolKeys.version",n)}static makeCreateAssociatedLedgerAccountInstructionV3({poolKeys:t,userKeys:n}){const r=Object(m["j"])([Object(m["o"])("instruction")]),o=e.alloc(r.span);r.encode({instruction:9},o);const s=[Object(c["b"])(t.id,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["c"])(c["i"],!1),Object(c["c"])(c["k"],!1)];return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:s,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV3CreateLedger]}}}static makeCreateAssociatedLedgerAccountInstructionV5({poolKeys:t,userKeys:n}){const r=Object(m["j"])([Object(m["o"])("instruction")]),o=e.alloc(r.span);r.encode({instruction:10},o);const s=[Object(c["b"])(t.id,!1),Object(c["b"])(n.ledger,!1),Object(c["c"])(n.owner,!0),Object(c["c"])(c["i"],!1),Object(c["c"])(c["k"],!1)];return{address:{},innerTransaction:{instructions:[new i["j"]({programId:t.programId,keys:s,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV5CreateLedger]}}}static makeCreateFarmInstruction({connection:e,userKeys:t,poolInfo:n}){const{version:i}=n;return 6===i?this.makeCreateFarmInstructionV6({connection:e,userKeys:t,poolInfo:n}):h.throwArgumentError("invalid version","version",i)}static async makeCreateFarmInstructionV6({connection:t,userKeys:n,poolInfo:r}){var s;const d=null!==(s=n.payer)&&void 0!==s?s:n.owner,p=Object(a["h"])({fromPublicKey:d,programId:r.programId}),f=await t.getMinimumBalanceForRentExemption(b["e"].span),y=[],k=[],A=[],O=[],S=[];y.push(i["h"].createAccountWithSeed({fromPubkey:d,basePubkey:d,seed:p.seed,newAccountPubkey:p.publicKey,lamports:f,space:b["e"].span,programId:r.programId}));const{publicKey:I,nonce:T}=w.getAssociatedAuthority({programId:r.programId,poolId:p.publicKey}),j=w.getAssociatedLedgerPoolAccount({programId:r.programId,poolId:p.publicKey,mint:r.lpMint,type:"lpVault"}),v=[],C=[];for(const e of r.rewardInfos){let a;var M,P;if(h.assertArgument(e.rewardOpenTime<e.rewardEndTime,"start time error","rewardInfo.rewardOpenTime",e.rewardOpenTime),h.assertArgument(void 0!==g[e.rewardType],"reward type error","rewardInfo.rewardType",e.rewardType),h.assertArgument(Object(u["l"])(e.rewardPerSecond).gt(u["j"]),"rewardPerSecond error","rewardInfo.rewardPerSecond",e.rewardPerSecond),v.push({isSet:new o.a(1),rewardPerSecond:Object(u["l"])(e.rewardPerSecond),rewardOpenTime:Object(u["l"])(e.rewardOpenTime),rewardEndTime:Object(u["l"])(e.rewardEndTime),rewardType:Object(u["l"])(g[e.rewardType])}),e.rewardMint.equals(i["e"].default))a=await l["c"].insertCreateWrappedNativeAccount({connection:t,owner:n.owner,payer:null!==(M=n.payer)&&void 0!==M?M:n.owner,instructions:y,signers:S,amount:Object(u["l"])(e.rewardEndTime).sub(Object(u["l"])(e.rewardOpenTime)).mul(Object(u["l"])(e.rewardPerSecond)),instructionsType:A}),k.push(l["c"].makeCloseAccountInstruction({programId:c["l"],tokenAccount:a,owner:n.owner,payer:null!==(P=n.payer)&&void 0!==P?P:n.owner,instructionsType:O}));else a=this._selectTokenAccount({programId:c["l"],tokenAccounts:n.tokenAccounts,mint:e.rewardMint,owner:n.owner,config:{associatedOnly:!1}});h.assertArgument(null!==a,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);const s=e.rewardMint.equals(i["e"].default)?u["h"].WSOL.mint:e.rewardMint;C.push({rewardMint:s,rewardVault:w.getAssociatedLedgerPoolAccount({programId:r.programId,poolId:p.publicKey,mint:s,type:"rewardVault"}),userRewardToken:a})}const L=this._selectTokenAccount({programId:c["l"],tokenAccounts:n.tokenAccounts,mint:r.lockInfo.lockMint,owner:n.owner,config:{associatedOnly:!1}});h.assertArgument(null!==L,"cannot found lock vault","tokenAccounts",n.tokenAccounts);const D=Object(m["j"])([Object(m["n"])("isSet"),Object(m["n"])("rewardPerSecond"),Object(m["n"])("rewardOpenTime"),Object(m["n"])("rewardEndTime"),Object(m["n"])("rewardType")]),R=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("nonce"),Object(m["i"])(D,5,"rewardTimeInfo")]),q=e.alloc(R.span);R.encode({instruction:0,nonce:new o.a(T),rewardTimeInfo:v},q);const B=[Object(c["c"])(c["l"],!1),Object(c["c"])(c["i"],!1),Object(c["c"])(c["k"],!1),Object(c["b"])(p.publicKey,!1),Object(c["c"])(I,!1),Object(c["b"])(j,!1),Object(c["c"])(r.lpMint,!1),Object(c["b"])(r.lockInfo.lockVault,!1),Object(c["c"])(r.lockInfo.lockMint,!1),Object(c["b"])(null!==L&&void 0!==L?L:i["e"].default,!1),Object(c["c"])(n.owner,!0)];for(const e of C)B.push({pubkey:e.rewardMint,isSigner:!1,isWritable:!1},{pubkey:e.rewardVault,isSigner:!1,isWritable:!0},{pubkey:e.userRewardToken,isSigner:!1,isWritable:!0});const V=new i["j"]({programId:r.programId,keys:B,data:q});return{address:{farmId:p.publicKey},innerTransaction:{instructions:[...y,V,...k],signers:S,lookupTableAddress:[],instructionTypes:[...A,a["c"].farmV6Create,...O]}}}static makeCreatorWithdrawFarmRewardInstruction(e){const{poolKeys:t}=e,{version:n}=t;return 6===n?this.makeCreatorWithdrawFarmRewardInstructionV6(e):h.throwArgumentError("invalid version","version",n)}static makeCreatorWithdrawFarmRewardInstructionV6({poolKeys:t,userKeys:n,withdrawMint:r}){var o;const s=t.rewardInfos.find(e=>e.rewardMint.equals(r.equals(i["e"].default)?u["h"].WSOL.mint:r));h.assertArgument(void 0!==s,"withdraw mint error","poolKeys.rewardInfos",t.rewardInfos);const l=null!==(o=null===s||void 0===s?void 0:s.rewardVault)&&void 0!==o?o:i["e"].default,d=Object(m["j"])([Object(m["o"])("instruction")]),p=e.alloc(d.span);d.encode({instruction:5},p);const b=[Object(c["c"])(c["l"],!1),Object(c["b"])(t.id,!1),Object(c["c"])(t.authority,!1),Object(c["c"])(t.lpVault,!1),Object(c["b"])(l,!1),Object(c["b"])(n.userRewardToken,!1),Object(c["c"])(n.owner,!0)],f=new i["j"]({programId:t.programId,keys:b,data:p});return{address:{},innerTransaction:{instructions:[f],signers:[],lookupTableAddress:[],instructionTypes:[a["c"].farmV6CreatorWithdraw]}}}static async fetchMultipleInfoAndUpdate({connection:e,pools:t,owner:n,config:i,chainTime:r}){let a=!1,s=!1;const m=[],d={};for(const o of t)d[o.id.toString()]=o,6===o.version?s=!0:a=!0,m.push({pubkey:o.id,version:o.version,key:"state",poolId:o.id}),m.push({pubkey:o.lpVault,version:o.version,key:"lpVault",poolId:o.id}),n&&m.push({pubkey:this.getAssociatedLedgerAccount({programId:o.programId,poolId:o.id,owner:n,version:o.version}),version:o.version,key:"ledger",poolId:o.id});const p={},b=await Object(c["o"])(e,m,i);for(const{pubkey:o,version:c,key:u,poolId:g,accountInfo:w}of b){const e=g.toBase58();if("state"===u){const t=this.getStateLayout(c);if(!w||!w.data||w.data.length!==t.span)return h.throwArgumentError("invalid farm state account info","pools.id",o);p[e]={...p[e],apiPoolInfo:d[e],state:t.decode(w.data)}}else if("lpVault"===u){if(!w||!w.data||w.data.length!==l["a"].span)return h.throwArgumentError("invalid farm lp vault account info","pools.lpVault",o);p[e]={...p[e],lpVault:l["a"].decode(w.data)}}else if("ledger"===u){const t=this.getLedgerLayout(c);w&&w.data&&(h.assertArgument(w.data.length===t.span,"invalid farm ledger account info","ledger",o),p[e]={...p[e],ledger:t.decode(w.data)})}}const f=s||a?await e.getSlot():0;for(const o of Object.keys(p))void 0!==p[o]&&(p[o].state=w.updatePoolInfo(p[o].state,p[o].lpVault,f,r));for(const[c,{state:l,ledger:h}]of Object.entries(p))if(h){let e;e=6===l.version?l.rewardMultiplier:1===l.rewardInfos.length?u["g"].pow(new o.a(9)):u["g"].pow(new o.a(15));const t=l.rewardInfos.map((t,n)=>{const i=h.rewardDebts[n],r=h.deposited.mul(6===l.version?t.accRewardPerShare:t.perShareReward).div(e).sub(i);return r});p[c].wrapped={...p[c].wrapped,pendingRewards:t}}return p}static updatePoolInfo(e,t,n,i){if(3===e.version||5===e.version){if(e.lastSlot.gte(new o.a(n)))return e;const i=new o.a(n).sub(e.lastSlot);e.lastSlot=new o.a(n);for(const n of e.rewardInfos){if(t.amount.eq(new o.a(0)))continue;const r=n.perSlotReward.mul(i);n.perShareReward=n.perShareReward.add(r.mul(new o.a(10).pow(new o.a(3===e.version?9:15))).div(t.amount)),n.totalReward=n.totalReward.add(r)}}else if(6===e.version)for(const r of e.rewardInfos){if(r.rewardState.eq(new o.a(0)))continue;const n=o.a.min(new o.a(i),r.rewardEndTime);if(r.rewardOpenTime.gte(n))continue;const a=n.sub(r.rewardLastUpdateTime);let s=a.mul(r.rewardPerSecond);const c=r.totalReward.sub(r.totalRewardEmissioned);c.lt(s)?(s=c,r.rewardLastUpdateTime=r.rewardLastUpdateTime.add(c.div(r.rewardPerSecond))):r.rewardLastUpdateTime=n,t.amount.eq(new o.a(0))||(r.accRewardPerShare=r.accRewardPerShare.add(s.mul(e.rewardMultiplier).div(t.amount)),r.totalRewardEmissioned=r.totalRewardEmissioned.add(s))}return e}static makeCreatorWithdrawFarmRewardInstructionSimple(e){const{poolKeys:t}=e,{version:n}=t;return 6===n?this.makeCreatorWithdrawFarmRewardInstructionV6Simple(e):h.throwArgumentError("invalid version","version",n)}static async makeCreatorWithdrawFarmRewardInstructionV6Simple({connection:e,poolKeys:t,userKeys:n,withdrawMint:r,makeTxVersion:o,lookupTableCache:a,computeBudgetConfig:u}){var m;const d=[],p=[],b=[],f=[],h=[];let g;if(r.equals(i["e"].default)){var w,y;g=await l["c"].insertCreateWrappedNativeAccount({connection:e,owner:n.owner,payer:null!==(w=n.payer)&&void 0!==w?w:n.owner,instructions:d,signers:h,amount:0,instructionsType:b}),p.push(l["c"].makeCloseAccountInstruction({programId:c["l"],tokenAccount:g,owner:n.owner,payer:null!==(y=n.payer)&&void 0!==y?y:n.owner,instructionsType:f}))}else{const e=this._selectTokenAccount({programId:c["l"],tokenAccounts:n.tokenAccounts,mint:r,owner:n.owner});var k;if(null===e)g=Object(s["a"])(n.owner,r,c["l"]).publicKey,d.push(l["c"].makeCreateAssociatedTokenAccountInstruction({programId:c["l"],mint:r,associatedAccount:g,owner:n.owner,payer:null!==(k=n.payer)&&void 0!==k?k:n.owner,instructionsType:b}));else g=e}const A=this.makeCreatorWithdrawFarmRewardInstructionV6({poolKeys:t,userKeys:{userRewardToken:g,owner:n.owner,payer:n.payer},withdrawMint:r});return{address:{},innerTransactions:await Object(c["u"])({connection:e,makeTxVersion:o,computeBudgetConfig:u,payer:null!==(m=n.payer)&&void 0!==m?m:n.owner,innerTransaction:[{instructionTypes:b,instructions:d,signers:h},A.innerTransaction,{instructionTypes:f,instructions:p,signers:[]}],lookupTableCache:a})}}static makeCreateFarmInstructionSimple(e){const{version:t}=e.poolInfo;return 6===t?this.makeCreateFarmInstructionV6Simple(e):h.throwArgumentError("invalid version","version",t)}static async makeCreateFarmInstructionV6Simple({connection:t,userKeys:n,poolInfo:r,makeTxVersion:s,lookupTableCache:d,computeBudgetConfig:p}){var f,y;const k=null!==(f=n.payer)&&void 0!==f?f:n.owner,A=Object(a["h"])({fromPublicKey:k,programId:r.programId}),O=await t.getMinimumBalanceForRentExemption(b["e"].span),S=[],I=[],T=[],j=[],v=[];S.push(i["h"].createAccountWithSeed({fromPubkey:k,basePubkey:k,seed:A.seed,newAccountPubkey:A.publicKey,lamports:O,space:b["e"].span,programId:r.programId}));const{publicKey:C,nonce:M}=w.getAssociatedAuthority({programId:r.programId,poolId:A.publicKey}),P=w.getAssociatedLedgerPoolAccount({programId:r.programId,poolId:A.publicKey,mint:r.lpMint,type:"lpVault"}),L=[],D=[];for(const e of r.rewardInfos){let a;var R,q;if(h.assertArgument(e.rewardOpenTime<e.rewardEndTime,"start time error","rewardInfo.rewardOpenTime",e.rewardOpenTime),h.assertArgument(void 0!==g[e.rewardType],"reward type error","rewardInfo.rewardType",e.rewardType),h.assertArgument(Object(u["l"])(e.rewardPerSecond).gt(u["j"]),"rewardPerSecond error","rewardInfo.rewardPerSecond",e.rewardPerSecond),L.push({isSet:new o.a(1),rewardPerSecond:Object(u["l"])(e.rewardPerSecond),rewardOpenTime:Object(u["l"])(e.rewardOpenTime),rewardEndTime:Object(u["l"])(e.rewardEndTime),rewardType:Object(u["l"])(g[e.rewardType])}),e.rewardMint.equals(i["e"].default))a=await l["c"].insertCreateWrappedNativeAccount({connection:t,owner:n.owner,payer:null!==(R=n.payer)&&void 0!==R?R:n.owner,instructions:S,signers:v,amount:Object(u["l"])(e.rewardEndTime).sub(Object(u["l"])(e.rewardOpenTime)).mul(Object(u["l"])(e.rewardPerSecond)),instructionsType:T}),I.push(l["c"].makeCloseAccountInstruction({programId:c["l"],tokenAccount:a,owner:n.owner,payer:null!==(q=n.payer)&&void 0!==q?q:n.owner,instructionsType:j}));else a=this._selectTokenAccount({programId:c["l"],tokenAccounts:n.tokenAccounts,mint:e.rewardMint,owner:n.owner,config:{associatedOnly:!1}});if(h.assertArgument(null!==a,"cannot found target token accounts","tokenAccounts",n.tokenAccounts),null===a)throw Error("cannot found target token accounts");const s=e.rewardMint.equals(i["e"].default)?u["h"].WSOL.mint:e.rewardMint;D.push({rewardMint:s,rewardVault:w.getAssociatedLedgerPoolAccount({programId:r.programId,poolId:A.publicKey,mint:s,type:"rewardVault"}),userRewardToken:a})}const B=this._selectTokenAccount({programId:c["l"],tokenAccounts:n.tokenAccounts,mint:r.lockInfo.lockMint,owner:n.owner,config:{associatedOnly:!1}});h.assertArgument(null!==B,"cannot found lock vault","tokenAccounts",n.tokenAccounts);const V=Object(m["j"])([Object(m["n"])("isSet"),Object(m["n"])("rewardPerSecond"),Object(m["n"])("rewardOpenTime"),Object(m["n"])("rewardEndTime"),Object(m["n"])("rewardType")]),x=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("nonce"),Object(m["i"])(V,5,"rewardTimeInfo")]),U=e.alloc(x.span);x.encode({instruction:0,nonce:new o.a(M),rewardTimeInfo:L},U);const E=[Object(c["c"])(c["l"],!1),Object(c["c"])(c["i"],!1),Object(c["c"])(c["k"],!1),Object(c["b"])(A.publicKey,!1),Object(c["c"])(C,!1),Object(c["b"])(P,!1),Object(c["c"])(r.lpMint,!1),Object(c["b"])(r.lockInfo.lockVault,!1),Object(c["c"])(r.lockInfo.lockMint,!1),Object(c["b"])(null!==B&&void 0!==B?B:i["e"].default,!1),Object(c["c"])(n.owner,!0)];for(const e of D)E.push({pubkey:e.rewardMint,isSigner:!1,isWritable:!1},{pubkey:e.rewardVault,isSigner:!1,isWritable:!0},{pubkey:e.userRewardToken,isSigner:!1,isWritable:!0});const _=new i["j"]({programId:r.programId,keys:E,data:U});return{address:{farmId:A.publicKey},innerTransactions:await Object(c["u"])({connection:t,makeTxVersion:s,computeBudgetConfig:p,payer:null!==(y=n.payer)&&void 0!==y?y:n.owner,innerTransaction:[{instructionTypes:T,instructions:S,signers:v},{instructionTypes:[a["c"].farmV6Create],instructions:[_],signers:[]},{instructionTypes:j,instructions:I,signers:[]}],lookupTableCache:d})}}static makeRestartFarmInstructionSimple(e){const{poolKeys:t}=e,{version:n}=t;return 6===n?this.makeRestartFarmInstructionV6Simple(e):h.throwArgumentError("invalid version","version",n)}static async makeRestartFarmInstructionV6Simple({connection:t,poolKeys:n,userKeys:r,newRewardInfo:o,makeTxVersion:s,lookupTableCache:d,computeBudgetConfig:p}){var b,f;h.assertArgument(o.rewardOpenTime<o.rewardEndTime,"start time error","newRewardInfo",o);const g=o.rewardMint.equals(i["e"].default)?u["h"].WSOL.mint:o.rewardMint,w=n.rewardInfos.find(e=>e.rewardMint.equals(g));h.assertArgument(w,"configuration does not exist","rewardInfo",w);const y=null!==(b=null===w||void 0===w?void 0:w.rewardVault)&&void 0!==b?b:i["e"].default,k=[],A=[],O=[],S=[],I=[];let T;var j,v;o.rewardMint.equals(i["e"].default)?(T=await l["c"].insertCreateWrappedNativeAccount({connection:t,owner:r.owner,payer:null!==(j=r.payer)&&void 0!==j?j:r.owner,instructions:k,signers:I,amount:Object(u["l"])(o.rewardEndTime).sub(Object(u["l"])(o.rewardOpenTime)).mul(Object(u["l"])(o.rewardPerSecond)),instructionsType:O}),A.push(l["c"].makeCloseAccountInstruction({programId:c["l"],tokenAccount:T,owner:r.owner,payer:null!==(v=r.payer)&&void 0!==v?v:r.owner,instructionsType:S}))):T=this._selectTokenAccount({programId:c["l"],tokenAccounts:r.tokenAccounts,mint:o.rewardMint,owner:r.owner,config:{associatedOnly:!1}});if(h.assertArgument(null!==T,"cannot found target token accounts","tokenAccounts",r.tokenAccounts),null===T)throw Error("cannot found target token accounts");const C=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("rewardReopenTime"),Object(m["n"])("rewardEndTime"),Object(m["n"])("rewardPerSecond")]),M=e.alloc(C.span);C.encode({instruction:3,rewardReopenTime:Object(u["l"])(o.rewardOpenTime),rewardEndTime:Object(u["l"])(o.rewardEndTime),rewardPerSecond:Object(u["l"])(o.rewardPerSecond)},M);const P=[Object(c["c"])(c["l"],!1),Object(c["b"])(n.id,!1),Object(c["c"])(n.lpVault,!1),Object(c["b"])(y,!1),Object(c["b"])(T,!1),Object(c["c"])(r.owner,!0)],L=new i["j"]({programId:n.programId,keys:P,data:M});return{address:{},innerTransactions:await Object(c["u"])({connection:t,makeTxVersion:s,computeBudgetConfig:p,payer:null!==(f=r.payer)&&void 0!==f?f:r.owner,innerTransaction:[{instructionTypes:O,instructions:k,signers:I},{instructionTypes:[a["c"].farmV6Restart],instructions:[L],signers:[]},{instructionTypes:S,instructions:A,signers:[]}],lookupTableCache:d})}}static makeFarmCreatorAddRewardTokenInstructionSimple(e){const{poolKeys:t}=e,{version:n}=t;return 6===n?this.makeFarmCreatorAddRewardTokenInstructionV6Simple(e):h.throwArgumentError("invalid version","version",n)}static async makeFarmCreatorAddRewardTokenInstructionV6Simple({connection:t,poolKeys:n,userKeys:r,newRewardInfo:s,makeTxVersion:d,lookupTableCache:p,computeBudgetConfig:b}){var f;const y=w.getAssociatedLedgerPoolAccount({programId:n.programId,poolId:n.id,mint:s.rewardMint.equals(i["e"].default)?u["h"].WSOL.mint:s.rewardMint,type:"rewardVault"}),k=[],A=[],O=[],S=[],I=[];let T;var j,v;s.rewardMint.equals(i["e"].default)?(T=await l["c"].insertCreateWrappedNativeAccount({connection:t,owner:r.owner,payer:null!==(j=r.payer)&&void 0!==j?j:r.owner,instructions:k,signers:I,amount:Object(u["l"])(s.rewardEndTime).sub(Object(u["l"])(s.rewardOpenTime)).mul(Object(u["l"])(s.rewardPerSecond)),instructionsType:O}),A.push(l["c"].makeCloseAccountInstruction({programId:c["l"],tokenAccount:T,owner:r.owner,payer:null!==(v=r.payer)&&void 0!==v?v:r.owner,instructionsType:S}))):T=this._selectTokenAccount({programId:c["l"],tokenAccounts:r.tokenAccounts,mint:s.rewardMint,owner:r.owner,config:{associatedOnly:!1}});if(h.assertArgument(null!==T,"cannot found target token accounts","tokenAccounts",r.tokenAccounts),null===T)throw Error("cannot found target token accounts");const C=s.rewardMint.equals(i["e"].default)?u["h"].WSOL.mint:s.rewardMint,M=Object(m["j"])([Object(m["o"])("instruction"),Object(m["n"])("isSet"),Object(m["n"])("rewardPerSecond"),Object(m["n"])("rewardOpenTime"),Object(m["n"])("rewardEndTime"),Object(m["n"])("rewardType")]),P=e.alloc(M.span);M.encode({instruction:4,isSet:new o.a(1),rewardPerSecond:Object(u["l"])(s.rewardPerSecond),rewardOpenTime:Object(u["l"])(s.rewardOpenTime),rewardEndTime:Object(u["l"])(s.rewardEndTime),rewardType:Object(u["l"])(g[s.rewardType])},P);const L=[Object(c["c"])(c["l"],!1),Object(c["c"])(c["i"],!1),Object(c["c"])(c["k"],!1),Object(c["b"])(n.id,!1),Object(c["c"])(n.authority,!1),Object(c["c"])(C,!1),Object(c["b"])(y,!1),Object(c["b"])(T,!1),Object(c["c"])(r.owner,!0)],D=new i["j"]({programId:n.programId,keys:L,data:P});return{address:{},innerTransactions:await Object(c["u"])({connection:t,makeTxVersion:d,computeBudgetConfig:b,payer:null!==(f=r.payer)&&void 0!==f?f:r.owner,innerTransaction:[{instructionTypes:O,instructions:k,signers:I},{instructionTypes:[a["c"].farmV6CreatorAddReward],instructions:[D],signers:[]},{instructionTypes:S,instructions:A,signers:[]}],lookupTableCache:p})}}static async makeDepositInstructionSimple({connection:e,poolKeys:t,fetchPoolInfo:n,ownerInfo:r,amount:o,associatedOnly:a=!0,checkCreateATAOwner:m=!1,makeTxVersion:l,lookupTableCache:d,computeBudgetConfig:p}){const b={};for(const i of r.tokenAccounts)if(a){const e=Object(s["a"])(r.wallet,i.accountInfo.mint,i.programId).publicKey;e.equals(i.pubkey)&&(b[i.accountInfo.mint.toString()]=i.pubkey)}else b[i.accountInfo.mint.toString()]=i.pubkey;const f=[],g=[],y=[],k=[],A=[],{lpVault:O,apiPoolInfo:S,ledger:I}=n,T=O.mint,j=b[T.toString()];h.assertArgument(j,"you don't have any lp","lp zero",b);const v=[];for(const i of S.rewardInfos){var C;const t=r.useSOLBalance&&i.rewardMint.equals(u["h"].WSOL.mint),n=null!==(C=b[i.rewardMint.toString()])&&void 0!==C?C:await this._selectOrCreateTokenAccount({programId:c["l"],mint:i.rewardMint,tokenAccounts:t?[]:r.tokenAccounts,owner:r.wallet,createInfo:{connection:e,payer:r.feePayer,amount:0,frontInstructions:f,frontInstructionsType:y,endInstructions:t?g:[],endInstructionsType:t?k:[],signers:A},associatedOnly:!t&&a,checkCreateATAOwner:m});b[i.rewardMint.toString()]=n,v.push(n)}const M=await w.getAssociatedLedgerAccount({programId:new i["e"](S.programId),poolId:new i["e"](S.id),owner:r.wallet,version:S.version});if(S.version<6&&!I){const e=w.makeCreateAssociatedLedgerAccountInstruction({poolKeys:t,userKeys:{owner:r.wallet,ledger:M}});f.push(...e.innerTransaction.instructions),y.push(...e.innerTransaction.instructionTypes)}const P=w.makeDepositInstruction({poolKeys:t,userKeys:{ledger:M,lpTokenAccount:j,owner:r.wallet,rewardTokenAccounts:v},amount:o});return{address:P.address,innerTransactions:await Object(c["u"])({connection:e,makeTxVersion:l,computeBudgetConfig:p,payer:r.feePayer,innerTransaction:[{instructionTypes:y,instructions:f,signers:A},P.innerTransaction,{instructionTypes:k,instructions:g,signers:[]}],lookupTableCache:d})}}static async makeWithdrawInstructionSimple({connection:e,fetchPoolInfo:t,ownerInfo:n,amount:i,associatedOnly:r=!0,checkCreateATAOwner:o=!1,makeTxVersion:a,lookupTableCache:m,computeBudgetConfig:l}){var d;const p={};for(const c of n.tokenAccounts)if(r){const e=Object(s["a"])(n.wallet,c.accountInfo.mint,c.programId).publicKey;e.equals(c.pubkey)&&(p[c.accountInfo.mint.toString()]=c.pubkey)}else p[c.accountInfo.mint.toString()]=c.pubkey;const b=[],f=[],h=[],g=[],w=[],y=[],k=[],{lpVault:A,wrapped:O,apiPoolInfo:S}=t;if(void 0===O)throw Error("no lp");const I=A.mint,T=n.useSOLBalance&&I.equals(u["h"].WSOL.mint),j=null!==(d=p[I.toString()])&&void 0!==d?d:await this._selectOrCreateTokenAccount({programId:c["l"],mint:I,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:b,frontInstructionsType:h,signers:k},associatedOnly:!T&&r,checkCreateATAOwner:o});p[I.toString()]=j;const v=[];for(const s of S.rewardInfos){var C;const t=n.useSOLBalance&&s.rewardMint.equals(u["h"].WSOL.mint),i=null!==(C=p[s.rewardMint.toString()])&&void 0!==C?C:await this._selectOrCreateTokenAccount({programId:c["l"],mint:s.rewardMint,tokenAccounts:t?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:b,frontInstructionsType:h,endInstructions:t?f:[],endInstructionsType:t?g:[],signers:k},associatedOnly:!t&&r,checkCreateATAOwner:o});p[s.rewardMint.toString()]=i,v.push(i)}const M=this.makeWithdrawInstruction({poolKeys:S,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:S.programId,poolId:S.id,owner:n.wallet,version:S.version}),lpTokenAccount:j,rewardTokenAccounts:v,owner:n.wallet},amount:i});return w.push(...M.innerTransaction.instructions),y.push(...M.innerTransaction.instructionTypes),{address:{},innerTransactions:await Object(c["u"])({connection:e,makeTxVersion:a,computeBudgetConfig:l,payer:n.feePayer,innerTransaction:[{instructionTypes:h,instructions:b,signers:k},{instructionTypes:y,instructions:w,signers:[]},{instructionTypes:g,instructions:f,signers:[]}],lookupTableCache:m})}}static async makeHarvestAllRewardInstructionSimple({connection:e,fetchPoolInfos:t,ownerInfo:n,associatedOnly:i=!0,checkCreateATAOwner:r=!1,makeTxVersion:o,lookupTableCache:a,computeBudgetConfig:m}){const l={};for(const c of n.tokenAccounts)if(i){const e=Object(s["a"])(n.wallet,c.accountInfo.mint,c.programId).publicKey;e.equals(c.pubkey)&&(l[c.accountInfo.mint.toString()]=c.pubkey)}else l[c.accountInfo.mint.toString()]=c.pubkey;const d=[],p=[],b=[],f=[],h=[],g=[];for(const{lpVault:s,wrapped:k,apiPoolInfo:A,ledger:O}of Object.values(t)){var w;if(void 0===k||void 0===O||void 0===k.pendingRewards.find(e=>e.gt(u["j"]))&&!O.deposited.isZero())continue;const t=s.mint,o=n.useSOLBalance&&t.equals(u["h"].WSOL.mint),a=null!==(w=l[t.toString()])&&void 0!==w?w:await this._selectOrCreateTokenAccount({programId:c["l"],mint:t,tokenAccounts:o?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:d,frontInstructionsType:b,signers:g},associatedOnly:!o&&i,checkCreateATAOwner:r});l[t.toString()]=a;const m=[];for(const s of A.rewardInfos){var y;const t=n.useSOLBalance&&s.rewardMint.equals(u["h"].WSOL.mint),o=null!==(y=l[s.rewardMint.toString()])&&void 0!==y?y:await this._selectOrCreateTokenAccount({programId:c["l"],mint:s.rewardMint,tokenAccounts:t?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:d,frontInstructionsType:b,endInstructions:t?p:[],endInstructionsType:t?f:[],signers:g},associatedOnly:!t&&i,checkCreateATAOwner:r});l[s.rewardMint.toString()]=o,m.push(o)}const S=this.makeWithdrawInstruction({poolKeys:A,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:A.programId,poolId:A.id,owner:n.wallet,version:A.version}),lpTokenAccount:a,rewardTokenAccounts:m,owner:n.wallet},amount:0});h.push(S.innerTransaction)}return{address:{},innerTransactions:await Object(c["u"])({connection:e,makeTxVersion:o,computeBudgetConfig:m,payer:n.feePayer,innerTransaction:[{instructionTypes:b,instructions:d,signers:g},...h,{instructionTypes:f,instructions:p,signers:[]}],lookupTableCache:a})}}static async makeV1InfoToV2PdaAndHarvestSimple({connection:e,wallet:t,tokenAccounts:n,programIdV3:r,programIdV5:o,makeTxVersion:a,lookupTableCache:u,computeBudgetConfig:m}){const p={};for(const i of n){const e=i.accountInfo.mint,n=Object(s["a"])(t,e,i.programId).publicKey;n.equals(i.pubkey)&&(p[e.toString()]=n),void 0===p[e.toString()]&&(p[e.toString()]=i.pubkey)}const f=await e.getProgramAccounts(r,{filters:[{memcmp:{offset:40,bytes:t.toString()}}]}),h=await e.getProgramAccounts(o,{filters:[{memcmp:{offset:40,bytes:t.toString()}}]}),g={},w={};for(const i of f){const e=i.account.data.length===b["a"].span?b["a"]:b["b"],n=e.decode(i.account.data),o=n.id.toString(),a=this.getAssociatedLedgerAccount({programId:r,poolId:n.id,owner:t,version:3});void 0===g[o]&&(g[o]={pda:void 0,other:[]}),a.equals(i.pubkey)?g[o].pda=i.pubkey:g[o].other.push(i.pubkey)}for(const i of h){const e=i.account.data.length===b["c"].span?b["c"]:b["d"],n=e.decode(i.account.data),r=n.id.toString(),a=this.getAssociatedLedgerAccount({programId:o,poolId:n.id,owner:t,version:5});void 0===w[r]&&(w[r]={pda:void 0,other:[]}),a.equals(i.pubkey)?w[r].pda=i.pubkey:w[r].other.push(i.pubkey)}const y=[...Object.entries(g).filter(e=>e[1].other.length>0).map(e=>e[0]),...Object.entries(w).filter(e=>e[1].other.length>0).map(e=>e[0])],k=await e.getMultipleAccountsInfo(y.map(e=>new i["e"](e))),A={};for(let i=0;i<y.length;i++){const e=y[i],t=k[i];null!==t&&(A[e]=t.data)}const O=[],S=[],I=[],T=[],j=[];for(const[s,c]of Object.entries(g)){if(0===c.other.length)continue;if(void 0===A[s])continue;const n=b["h"].decode(A[s]),[o,a]=await e.getMultipleAccountsInfo([n.lpVault,n.rewardVault]);if(null===o||null===a)throw Error("get lp and reward info error");const u=l["a"].decode(o.data),m=l["a"].decode(a.data);let f=p[u.mint.toString()];void 0===f&&(f=await this._selectOrCreateTokenAccount({programId:o.owner,mint:u.mint,tokenAccounts:[],owner:t,createInfo:{connection:e,payer:t,amount:0,frontInstructions:O,frontInstructionsType:S,endInstructions:[],endInstructionsType:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),p[u.mint.toString()]=f);let h=p[m.mint.toString()];if(void 0===h&&(h=await this._selectOrCreateTokenAccount({programId:a.owner,mint:m.mint,tokenAccounts:[],owner:t,createInfo:{connection:e,payer:t,amount:0,frontInstructions:O,frontInstructionsType:S,endInstructions:m.mint.toString()===d["d"].mint?T:[],endInstructionsType:m.mint.toString()===d["d"].mint?j:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),p[m.mint.toString()]=h),void 0===c.pda){const e=this.makeCreateAssociatedLedgerAccountInstructionV3({poolKeys:{programId:r,id:new i["e"](s)},userKeys:{ledger:this.getAssociatedLedgerAccount({programId:r,poolId:new i["e"](s),owner:t,version:3}),owner:t}});I.push(e.innerTransaction)}const g=this.makeDepositInstructionV3({amount:0,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:r,poolId:new i["e"](s),owner:t,version:3}),owner:t,lpTokenAccount:f,rewardTokenAccounts:[h],auxiliaryLedgers:c.other},poolKeys:{programId:r,id:new i["e"](s),authority:this.getAssociatedAuthority({programId:r,poolId:new i["e"](s)}).publicKey,lpVault:n.lpVault,rewardInfos:[{rewardVault:n.rewardVault}]}});I.push(g.innerTransaction)}for(const[s,c]of Object.entries(w)){if(0===c.other.length)continue;if(void 0===A[s])continue;const n=b["i"].decode(A[s]),[r,a,u]=await e.getMultipleAccountsInfo([n.lpVault,n.rewardVaultA,n.rewardVaultB]);if(null===r||null===a||null===u)throw Error("get lp and reward A / B info error");const m=l["a"].decode(r.data),f=l["a"].decode(a.data),h=l["a"].decode(u.data);let g=p[m.mint.toString()];void 0===g&&(g=await this._selectOrCreateTokenAccount({programId:r.owner,mint:m.mint,tokenAccounts:[],owner:t,createInfo:{connection:e,payer:t,amount:0,frontInstructions:O,frontInstructionsType:S,endInstructions:[],endInstructionsType:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),p[m.mint.toString()]=g);let w=p[f.mint.toString()];void 0===w&&(w=await this._selectOrCreateTokenAccount({programId:a.owner,mint:f.mint,tokenAccounts:[],owner:t,createInfo:{connection:e,payer:t,amount:0,frontInstructions:O,frontInstructionsType:S,endInstructions:f.mint.toString()===d["d"].mint?T:[],endInstructionsType:f.mint.toString()===d["d"].mint?j:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),p[f.mint.toString()]=w);let y=p[h.mint.toString()];if(void 0===y&&(y=await this._selectOrCreateTokenAccount({programId:u.owner,mint:h.mint,tokenAccounts:[],owner:t,createInfo:{connection:e,payer:t,amount:0,frontInstructions:O,frontInstructionsType:S,endInstructions:h.mint.toString()===d["d"].mint?T:[],endInstructionsType:h.mint.toString()===d["d"].mint?j:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),p[h.mint.toString()]=y),void 0===c.pda){const e=this.makeCreateAssociatedLedgerAccountInstructionV5({poolKeys:{programId:o,id:new i["e"](s)},userKeys:{ledger:this.getAssociatedLedgerAccount({programId:o,poolId:new i["e"](s),owner:t,version:5}),owner:t}});I.push(e.innerTransaction)}const k=this.makeDepositInstructionV5({amount:0,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:o,poolId:new i["e"](s),owner:t,version:5}),owner:t,lpTokenAccount:g,rewardTokenAccounts:[w,y],auxiliaryLedgers:c.other},poolKeys:{programId:o,id:new i["e"](s),authority:this.getAssociatedAuthority({programId:o,poolId:new i["e"](s)}).publicKey,lpVault:n.lpVault,rewardInfos:[{rewardVault:n.rewardVaultA},{rewardVault:n.rewardVaultB}]}});I.push(k.innerTransaction)}return{address:{},innerTransactions:await Object(c["u"])({connection:e,makeTxVersion:a,computeBudgetConfig:m,payer:t,innerTransaction:[{instructionTypes:S.slice(0,10),instructions:O.slice(0,10),signers:[]},...O.length>10?[{instructionTypes:S.slice(10),instructions:O.slice(10),signers:[]}]:[],...I,{instructionTypes:j,instructions:T,signers:[]}],lookupTableCache:u})}}static async makeDepositTokenInstruction({connection:e,programId:t,governanceProgramId:n,voteWeightAddinProgramId:i,realm:r,communityTokenMint:o,owner:m,poolId:d}){const h=Object(f["a"])(i,r,o).publicKey,g=this.getAssociatedLedgerAccount({programId:t,poolId:d,owner:m,version:3}),w=await e.getAccountInfo(g);if(null===w)throw Error("user is not staker");const k=b["b"].decode(w.data),A=k.deposited.sub(k.voteLockedBalance);if(A.eq(u["j"]))throw Error("user do not has new stake amount");const O=Object(f["f"])(t,d).publicKey,S=Object(f["e"])(t,d).publicKey,{publicKey:I,nonce:T}=Object(f["c"])(i,h,m),j=Object(s["a"])(I,O,c["l"]).publicKey,{publicKey:v,nonce:C}=Object(f["d"])(i,h,m),M=Object(f["b"])(n,r,o,m).publicKey,P=[],L=Object(s["a"])(m,O,c["l"]).publicKey,D=await e.getAccountInfo(L);null===D&&P.push(l["c"].makeCreateAssociatedTokenAccountInstruction({programId:c["l"],mint:O,associatedAccount:L,owner:m,payer:m,instructionsType:[]}));const R=await e.getAccountInfo(I);if(null===R){const e=Object(p["a"])(n,r,m,o,m,M);P.push(e,Object(p["c"])(i,h,I,v,m,m,T,C))}const{index:q,isInit:B}=await y(e,h,I,O);return B||P.push(Object(p["b"])(i,h,I,j,m,m,O,q,0,void 0,0,!1)),P.push(Object(p["d"])(i,h,I,j,L,m,g,d,O,S,t,q,A),Object(p["e"])(i,h,I,v)),{address:{},innerTransaction:{instructions:P,signers:[],lookupTableAddress:[],instructionTypes:Array(P.length).fill(a["c"].test)}}}static async makeWithdrawTokenInstruction({connection:e,programId:t,governanceProgramId:n,voteWeightAddinProgramId:i,realm:r,communityTokenMint:o,owner:m,poolId:l}){const d=Object(f["a"])(i,r,o).publicKey,h=this.getAssociatedLedgerAccount({programId:t,poolId:l,owner:m,version:3}),g=await e.getAccountInfo(h);if(null===g)throw Error("user is not staker");const w=b["b"].decode(g.data);if(w.voteLockedBalance.eq(u["j"]))throw Error("user has vote locked balance = 0");const k=Object(f["f"])(t,l).publicKey,A=Object(f["e"])(t,l).publicKey,{publicKey:O}=Object(f["c"])(i,d,m),S=Object(s["a"])(O,k,c["l"]).publicKey,{publicKey:I}=Object(f["d"])(i,d,m),T=Object(f["b"])(n,r,o,m).publicKey,j=[],{index:v,isInit:C}=await y(e,d,O,k);if(!C)throw Error("deposit entry index check error");return j.push(Object(p["f"])(i,d,O,m,T,I,S,Object(s["a"])(m,k,c["l"]).publicKey,h,l,k,A,t,v,w.voteLockedBalance)),{address:{},innerTransaction:{instructions:j,signers:[],lookupTableAddress:[],instructionTypes:Array(j.length).fill(a["c"].test)}}}}async function y(e,t,n,i){const r=await e.getAccountInfo(t);if(null===r)throw Error("registrar info check error");const o=b["k"].decode(r.data),a=o.votingMints.findIndex(e=>e.mint.equals(i));if(-1===a)throw Error("find voter mint error");const s=await e.getAccountInfo(n);if(null===s)return{index:a,isInit:!1};const c=b["j"].decode(s.data),u=c.deposits.findIndex(e=>e.isUsed&&e.votingMintConfigIdx===a);return-1===u?{index:a,isInit:!1}:{index:u,isInit:!0}}}).call(this,n("1c35").Buffer)},"6aea":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n("22be");function r(t,n,r){return Object(i["m"])([n.toBuffer(),e.from("registrar","utf8"),r.toBuffer()],t)}function o(t,n){return Object(i["m"])([n.toBuffer(),e.from("voting_mint_seed","utf8")],t)}function a(e,t){return Object(i["m"])([t.toBuffer()],e)}function s(t,n,r){return Object(i["m"])([n.toBuffer(),e.from("voter","utf8"),r.toBuffer()],t)}function c(t,n,r){return Object(i["m"])([n.toBuffer(),e.from("voter-weight-record","utf8"),r.toBuffer()],t)}function u(t,n,r,o){return Object(i["m"])([e.from("governance","utf8"),n.toBuffer(),r.toBuffer(),o.toBuffer()],t)}}).call(this,n("1c35").Buffer)},7152:function(e,t,n){"use strict";n.d(t,"a",(function(){return i["a"]})),n.d(t,"b",(function(){return r["a"]}));n("3606");var i=n("bcd1"),r=n("f66b")},"721c":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var i=n("8df2"),r=n("633a"),o=n("64b9"),a=n("fe55"),s=(n("4bf9"),n("d32f"));const c=Object(i["struct"])([Object(i["u8"])("instruction"),Object(i["u8"])("decimals"),Object(r["b"])("mintAuthority"),Object(i["u8"])("freezeAuthorityOption"),Object(r["b"])("freezeAuthority")]);function u(t,n,i,r,u=a["c"]){const m=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o["g"],isSigner:!1,isWritable:!1}],l=e.alloc(c.span);return c.encode({instruction:s["a"].InitializeMint,decimals:n,mintAuthority:i,freezeAuthorityOption:r?1:0,freezeAuthority:r||new o["e"](0)},l),new o["j"]({keys:m,programId:u,data:l})}}).call(this,n("1c35").Buffer)},7734:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"i",(function(){return U})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return y})),n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return R})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return N}));var i,r=n("23b7"),o=n.n(r),a=n("5c23"),s=n.n(a),c=n("22be");(function(e){e[e["ROUND_DOWN"]=0]="ROUND_DOWN",e[e["ROUND_HALF_UP"]=1]="ROUND_HALF_UP",e[e["ROUND_UP"]=2]="ROUND_UP"})(i||(i={}));const u=new s.a(0),m=new s.a(1),l=(new s.a(2),new s.a(3),new s.a(5),new s.a(10)),d=new s.a(100),p=(new s.a(1e3),new s.a(1e4),c["e"].from("entity/bignumber")),b=9007199254740991;function f(e){return e instanceof s.a?e:"string"===typeof e?e.match(/^-?[0-9]+$/)?new s.a(e):p.throwArgumentError("invalid BigNumberish string","value",e):"number"===typeof e?e%1?p.throwArgumentError("BigNumberish number underflow","value",e):e>=b||e<=-b?p.throwArgumentError("BigNumberish number overflow","value",e):new s.a(String(e)):"bigint"===typeof e?new s.a(e.toString()):p.throwArgumentError("invalid BigNumberish value","value",e)}function h(e){return l.pow(f(e))}function g(e,t){const n=e.divmod(t);return n.mod.isZero()?n.div:n.div.isNeg()?n.div.isubn(1):n.div.iaddn(1)}var w=n("eba2");class y{constructor(e,t="UNKNOWN",n="UNKNOWN"){this.decimals=e,this.symbol=t,this.name=n}}y.SOL=new y(w["c"].decimals,w["c"].symbol,w["c"].name);class k extends y{constructor(e,t,n,i="UNKNOWN",r="UNKNOWN"){super(n,i,r),this.programId=Object(c["v"])(e),this.mint=Object(c["v"])(t)}equals(e){return this===e||this.mint.equals(e.mint)}}function A(e,t){return e instanceof k&&t instanceof k?e.equals(t):!(e instanceof k||t instanceof k)&&e===t}k.WSOL=new k(c["l"],w["d"].mint,w["d"].decimals,w["c"].symbol,w["c"].name);var O=n("85a5"),S=n.n(O),I=n("3c6b"),T=n.n(I);const j=T.a;var v=j;const C=c["e"].from("entity/fraction"),M=v(o.a),P=v(S.a),L={[i.ROUND_DOWN]:P.ROUND_DOWN,[i.ROUND_HALF_UP]:P.ROUND_HALF_UP,[i.ROUND_UP]:P.ROUND_UP},D={[i.ROUND_DOWN]:M.roundDown,[i.ROUND_HALF_UP]:M.roundHalfUp,[i.ROUND_UP]:M.roundUp};class R{constructor(e,t=m){this.numerator=f(e),this.denominator=f(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new R(this.denominator,this.numerator)}add(e){const t=e instanceof R?e:new R(f(e));return this.denominator.eq(t.denominator)?new R(this.numerator.add(t.numerator),this.denominator):new R(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){const t=e instanceof R?e:new R(f(e));return this.denominator.eq(t.denominator)?new R(this.numerator.sub(t.numerator),this.denominator):new R(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){const t=e instanceof R?e:new R(f(e));return new R(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){const t=e instanceof R?e:new R(f(e));return new R(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},n=i.ROUND_HALF_UP){C.assert(Number.isInteger(e),e+" is not an integer."),C.assert(e>0,e+" is not positive."),P.set({precision:e+1,rounding:L[n]});const r=new P(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},n=i.ROUND_HALF_UP){return C.assert(Number.isInteger(e),e+" is not an integer."),C.assert(e>=0,e+" is negative."),M.DP=e,M.RM=D[n],new M(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}}const q=c["e"].from("entity/amount"),B=v(o.a);function V(e,t){let n="0",i="0";if(e.includes(".")){const r=e.split(".");if(2!==r.length)return q.throwArgumentError("invalid number string","num",e);[n,i]=r,i=i.padEnd(t,"0")}else n=e;return[n,i.slice(0,t)||i]}class x extends R{constructor(e,t,n=!0){let i=new s.a(0);const r=l.pow(new s.a(e.decimals));if(n)i=f(t);else{let n=new s.a(0),o=new s.a(0);if("string"===typeof t||"number"===typeof t||"bigint"===typeof t){const[i,r]=V(t.toString(),e.decimals);n=f(i),o=f(r)}n=n.mul(r),i=n.add(o)}super(i,r),this.currency=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return q.assert(A(this.currency,e.currency),"gt currency not equals"),this.raw.gt(e.raw)}lt(e){return q.assert(A(this.currency,e.currency),"lt currency not equals"),this.raw.lt(e.raw)}add(e){return q.assert(A(this.currency,e.currency),"add currency not equals"),new x(this.currency,this.raw.add(e.raw))}sub(e){return q.assert(A(this.currency,e.currency),"sub currency not equals"),new x(this.currency,this.raw.sub(e.raw))}toSignificant(e=this.currency.decimals,t,n=i.ROUND_DOWN){return super.toSignificant(e,t,n)}toFixed(e=this.currency.decimals,t,n=i.ROUND_DOWN){return q.assert(e<=this.currency.decimals,"decimals overflow"),super.toFixed(e,t,n)}toExact(e={groupSeparator:""}){return B.DP=this.currency.decimals,new B(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}}class U extends x{constructor(e,t,n=!0){super(e,t,n),this.token=e}add(e){return q.assert(A(this.token,e.token),"add token not equals"),new U(this.token,this.raw.add(e.raw))}subtract(e){return q.assert(A(this.token,e.token),"sub token not equals"),new U(this.token,this.raw.sub(e.raw))}}const E=new R(d);class _ extends R{toSignificant(e=5,t,n){return this.mul(E).toSignificant(e,t,n)}toFixed(e=2,t,n){return this.mul(E).toFixed(e,t,n)}}const W=c["e"].from("entity/price");class N extends R{constructor(e,t,n,i){super(i,t),this.baseCurrency=e,this.quoteCurrency=n,this.scalar=new R(h(e.decimals),h(n.decimals))}get raw(){return new R(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new N(this.quoteCurrency,this.numerator,this.baseCurrency,this.denominator)}mul(e){W.assert(A(this.quoteCurrency,e.baseCurrency),"mul currency not equals");const t=super.mul(e);return new N(this.baseCurrency,t.denominator,e.quoteCurrency,t.numerator)}toSignificant(e=this.quoteCurrency.decimals,t,n){return this.adjusted.toSignificant(e,t,n)}toFixed(e=this.quoteCurrency.decimals,t,n){return this.adjusted.toFixed(e,t,n)}}},"7cfa":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("14d9"),n("0643"),n("76d6"),n("2382"),n("88e6"),n("70cc"),n("eb03"),n("22e5"),n("c01e"),n("fa76"),n("8306");function i(e,t=1,n=[]){const i=[...e];if(t<=0)return n;while(i.length)n.push(i.splice(0,t));return n}},8143:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"o",(function(){return u})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return w})),n.d(t,"j",(function(){return O})),n.d(t,"i",(function(){return S}));n("d9e2"),n("f8c9"),n("0643"),n("76d6"),n("4e3e"),n("a573");var i=n("64b9"),r=n("5c23"),o=n.n(r),a=n("41bb");n.d(t,"b",(function(){return a["g"]})),n.d(t,"h",(function(){return a["i"]})),n.d(t,"l",(function(){return a["k"]}));class s extends a["b"]{constructor(e,t,n){super(e,n),this.blob=Object(a["g"])(e),this.signed=t}decode(e,t=0){const n=new o.a(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,n,i=0){return"number"===typeof t&&(t=new o.a(t)),this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(e,"le",this.span),n,i)}}class c extends a["b"]{constructor(e){super(8,e),this._lower=Object(a["f"])(Object(a["l"])(),!1),this._upper=Object(a["f"])(Object(a["l"])(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){const n=this._lower.decode(e,t),i=this._upper.decode(e,t+this._lower.span);return{...n,...i}}encode(e,t,n=0){return this._lower.encode(e,t,n)+this._upper.encode(e,t,n+this._lower.span)}}function u(e){return new a["d"](1,e)}function m(e){return new a["d"](4,e)}function l(e){return new s(8,!1,e)}function d(e){return new s(16,!1,e)}function p(e){return new s(1,!0,e)}function b(e){return new s(8,!0,e)}function f(e){return new s(16,!0,e)}class h extends a["b"]{constructor(e,t,n,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function g(e){return new h(Object(a["g"])(32),e=>new i["e"](e),e=>e.toBuffer(),e)}a["b"];function w(e){return new h(Object(a["m"])(),y,k,e)}function y(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function k(e){return e?1:0}class A extends a["c"]{decode(e,t){return super.decode(e,t)}}function O(e,t,n){return new A(e,t,n)}a["e"];a["a"];function S(e,t,n){let i;const o="number"===typeof t?t:Object(r["isBN"])(t)?t.toNumber():new Proxy(t,{get(e,t){if(!i){const t=Reflect.get(e,"count");i=Object(r["isBN"])(t)?t.toNumber():t,Reflect.set(e,"count",i)}return Reflect.get(e,t)},set(e,t,n){return"count"===t&&(i=n),Reflect.set(e,t,n)}});return Object(a["j"])(e,o,n)}}).call(this,n("1c35").Buffer)},"832d":function(e,t,n){"use strict";n.d(t,"b",(function(){return i["a"]})),n.d(t,"h",(function(){return i["b"]})),n.d(t,"d",(function(){return r["a"]})),n.d(t,"e",(function(){return o["b"]})),n.d(t,"c",(function(){return o["a"]})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return y}));var i=n("06e2"),r=n("2be8"),o=n("bc7e"),a=(n("d9e2"),n("14d9"),n("13d5"),n("0643"),n("2382"),n("a573"),n("9d4a"),n("88e6"),n("70cc"),n("eb03"),n("22e5"),n("c01e"),n("fa76"),n("8306"),n("a98b")),s=n("910f"),c=n("64b9"),u=n("5c23"),m=n.n(u),l=n("22be"),d=n("7734");n("4d2f"),n("eba2");async function p({connection:e,makeTxVersion:t,payer:n,innerTransactions:i,recentBlockhash:r,addLookupTableInfo:a}){if(t!==o["b"].V0&&t!==o["b"].LEGACY)throw Error(" make tx version args error");const s=null!==r&&void 0!==r?r:(await e.getLatestBlockhash()).blockhash,c=[];for(const o of i){var u;c.push(b({makeTxVersion:t,instructions:o.instructions,payer:n,recentBlockhash:s,signers:o.signers,lookupTableInfos:Object.values({...null!==a&&void 0!==a?a:{},...null!==(u=o.lookupTableAddress)&&void 0!==u?u:{}})}))}return c}function b({makeTxVersion:e,instructions:t,payer:n,recentBlockhash:i,signers:r,lookupTableInfos:a}){if(e===o["b"].LEGACY){const e=new c["i"];return e.add(...t),e.feePayer=n,e.recentBlockhash=i,r.length>0&&e.sign(...r),e}if(e===o["b"].V0){const e=new c["k"]({payerKey:n,recentBlockhash:i,instructions:t}),o=new c["l"](e.compileToV0Message(a));return o.sign(r),o}throw Error(" make tx version check error ")}const f=1e4;function h(e,t,n,i){if(void 0===t)return{amount:e,fee:void 0,expirationTime:void 0};const r=n.epoch<t.newerTransferFee.epoch?t.olderTransferFee:t.newerTransferFee,o=new m.a(r.maximumFee.toString()),a=n.epoch<t.newerTransferFee.epoch?400*(Number(t.newerTransferFee.epoch)*n.slotsInEpoch-n.absoluteSlot)/1e3:void 0;if(i){if(r.transferFeeBasisPoints===f){const t=new m.a(r.maximumFee.toString());return{amount:e.add(t),fee:t,expirationTime:a}}{const t=y(e.mul(new m.a(f)),new m.a(f-r.transferFeeBasisPoints)),n=new m.a(r.maximumFee.toString()),i=t.sub(e).gt(n)?e.add(n):t,s=y(i.mul(new m.a(r.transferFeeBasisPoints)),new m.a(f)),c=s.gt(o)?o:s;return{amount:i,fee:c,expirationTime:a}}}{const t=y(e.mul(new m.a(r.transferFeeBasisPoints)),new m.a(f)),n=t.gt(o)?o:t;return{amount:e,fee:n,expirationTime:a}}}function g(e,t){return void 0===e?t:void 0===t?e:Math.min(e,t)}async function w({connection:e,mints:t}){if(0===t.length)return{};const n=await Object(l["o"])(e,t.map(e=>({pubkey:e}))),i={};for(const c of n){var r,o;const e=Object(a["b"])(c.pubkey,c.accountInfo,null===(r=c.accountInfo)||void 0===r?void 0:r.owner);i[c.pubkey.toString()]={...e,feeConfig:null!==(o=Object(s["c"])(e))&&void 0!==o?o:void 0}}return i}function y(e,t){const{div:n,mod:i}=e.divmod(t);return i.gt(d["j"])?n.add(d["d"]):n}},"83dc":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var i=n("8df2"),r=n("633a"),o=n("64b9"),a=n("fe55"),s=(n("4bf9"),n("511d")),c=n("d32f");const u=Object(i["struct"])([Object(i["u8"])("instruction"),Object(r["c"])("amount")]);function m(t,n,i,r,m=[],l=a["c"]){const d=Object(s["a"])([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],i,m),p=e.alloc(u.span);return u.encode({instruction:c["a"].Transfer,amount:BigInt(r)},p),new o["j"]({keys:d,programId:l,data:p})}}).call(this,n("1c35").Buffer)},"8ebc":function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"j",(function(){return w})),n.d(t,"b",(function(){return y}));n("a573");var i=n("fe55"),r=n("64b9"),o=n("22be"),a=n("7734"),s=n("8143");const c={createPool:[233,146,209,142,207,104,64,188],initReward:[95,135,192,196,242,129,230,68],setRewardEmissions:[112,52,167,75,32,201,211,137],openPosition:[77,184,74,214,112,86,241,199],closePosition:[123,134,81,0,49,68,98,98],increaseLiquidity:[133,29,89,223,69,238,176,10],decreaseLiquidity:[58,127,188,62,79,82,196,96],swap:[43,4,237,11,26,201,30,98],collectReward:[18,237,166,197,34,16,213,144]};function u(t,n,i,a,u,m,l,d,p,b,f,h,g,w){const y=Object(s["j"])([Object(s["k"])("sqrtPriceX64"),Object(s["n"])("startTime")]),k=[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:o["i"],isSigner:!1,isWritable:!1},{pubkey:o["h"],isSigner:!1,isWritable:!1}],A=e.alloc(y.span);y.encode({sqrtPriceX64:g,startTime:w},A);const O=e.from([...c.createPool,...A]);return new r["j"]({keys:k,programId:t,data:O})}function m(t,n,a,u,m,l,d,p,b,f,h,g,w,y,k,A,O,S,I,T,j,v,C,M,P,L){const D=Object(s["j"])([Object(s["h"])("tickLowerIndex"),Object(s["h"])("tickUpperIndex"),Object(s["h"])("tickArrayLowerStartIndex"),Object(s["h"])("tickArrayUpperStartIndex"),Object(s["k"])("liquidity"),Object(s["n"])("amountMaxA"),Object(s["n"])("amountMaxB"),Object(s["c"])("withMetadata"),Object(s["o"])("optionBaseFlag"),Object(s["c"])("baseFlag")]),R=[...L?[{pubkey:L,isSigner:!1,isWritable:!0}]:[]],q=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:o["h"],isSigner:!1,isWritable:!1},{pubkey:o["i"],isSigner:!1,isWritable:!1},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:o["a"],isSigner:!1,isWritable:!1},{pubkey:o["g"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},...R],B=e.alloc(D.span);D.encode({tickLowerIndex:S,tickUpperIndex:I,tickArrayLowerStartIndex:T,tickArrayUpperStartIndex:j,liquidity:v,amountMaxA:C,amountMaxB:M,withMetadata:"create"===P,baseFlag:!1,optionBaseFlag:0},B);const V=e.from([...c.openPosition,...B]);return new r["j"]({keys:q,programId:t,data:V})}function l(t,n,u,m,l,d,p,b,f,h,g,w,y,k,A,O,S,I,T,j,v,C,M,P,L,D){const R=Object(s["j"])([Object(s["h"])("tickLowerIndex"),Object(s["h"])("tickUpperIndex"),Object(s["h"])("tickArrayLowerStartIndex"),Object(s["h"])("tickArrayUpperStartIndex"),Object(s["k"])("liquidity"),Object(s["n"])("amountMaxA"),Object(s["n"])("amountMaxB"),Object(s["c"])("withMetadata"),Object(s["o"])("optionBaseFlag"),Object(s["c"])("baseFlag")]),q=[...D?[{pubkey:D,isSigner:!1,isWritable:!0}]:[]],B=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!0,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:o["h"],isSigner:!1,isWritable:!1},{pubkey:o["i"],isSigner:!1,isWritable:!1},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:o["a"],isSigner:!1,isWritable:!1},{pubkey:o["g"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},...q],V=e.alloc(R.span);R.encode({tickLowerIndex:I,tickUpperIndex:T,tickArrayLowerStartIndex:j,tickArrayUpperStartIndex:v,liquidity:a["j"],amountMaxA:"MintA"===M?P:L,amountMaxB:"MintA"===M?L:P,withMetadata:"create"===C,baseFlag:"MintA"===M,optionBaseFlag:1},V);const x=e.from([...c.openPosition,...V]);return new r["j"]({keys:B,programId:t,data:x})}function d(t,n,i,a,u){const m=Object(s["j"])([]),l=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o["i"],isSigner:!1,isWritable:!1},{pubkey:o["l"],isSigner:!1,isWritable:!1}],d=e.alloc(m.span);m.encode({},d);const p=e.from([...c.closePosition,...d]);return new r["j"]({keys:l,programId:t,data:p})}function p(t,n,a,u,m,l,d,p,b,f,h,g,w,y,k,A,O,S){const I=Object(s["j"])([Object(s["k"])("liquidity"),Object(s["n"])("amountMaxA"),Object(s["n"])("amountMaxB"),Object(s["o"])("optionBaseFlag"),Object(s["c"])("baseFlag")]),T=[...S?[{pubkey:S,isSigner:!1,isWritable:!0}]:[]],j=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},...T],v=e.alloc(I.span);I.encode({liquidity:k,amountMaxA:A,amountMaxB:O,optionBaseFlag:0,baseFlag:!1},v);const C=e.from([...c.increaseLiquidity,...v]);return new r["j"]({keys:j,programId:t,data:C})}function b(t,n,u,m,l,d,p,b,f,h,g,w,y,k,A,O,S,I){const T=Object(s["j"])([Object(s["k"])("liquidity"),Object(s["n"])("amountMaxA"),Object(s["n"])("amountMaxB"),Object(s["o"])("optionBaseFlag"),Object(s["c"])("baseFlag")]),j=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],v=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},...j],C=e.alloc(T.span);T.encode({liquidity:a["j"],amountMaxA:"MintA"===A?O:S,amountMaxB:"MintA"===A?S:O,baseFlag:"MintA"===A,optionBaseFlag:1},C);const M=e.from([...c.increaseLiquidity,...C]);return new r["j"]({keys:v,programId:t,data:M})}function f(t,n,a,u,m,l,d,p,b,f,h,g,w,y,k,A,O,S,I){const T=Object(s["j"])([Object(s["k"])("liquidity"),Object(s["n"])("amountMinA"),Object(s["n"])("amountMinB")]),j=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[],...k.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],v=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:o["f"],isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},...j],C=e.alloc(T.span);T.encode({liquidity:A,amountMinA:O,amountMinB:S},C);const M=e.from([...c.decreaseLiquidity,...C]);return new r["j"]({keys:v,programId:t,data:M})}function h(t,n,a,u,m,l,d,p,b,f,h,g,w,y,k,A,O){const S=Object(s["j"])([Object(s["n"])("amount"),Object(s["n"])("otherAmountThreshold"),Object(s["k"])("sqrtPriceLimitX64"),Object(s["c"])("isBaseInput")]),I=[...O?[{pubkey:O,isSigner:!1,isWritable:!0}]:[],...h.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],T=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:o["f"],isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...I],j=e.alloc(S.span);S.encode({amount:w,otherAmountThreshold:y,sqrtPriceLimitX64:k,isBaseInput:A},j);const v=e.from([...c.swap,...j]);return new r["j"]({keys:T,programId:t,data:v})}function g(t,n,i,u,m,l,d,p,b,f,h,g){const w=Object(s["j"])([Object(s["n"])("openTime"),Object(s["n"])("endTime"),Object(s["k"])("emissionsPerSecondX64")]),y=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:o["i"],isSigner:!1,isWritable:!1},{pubkey:o["h"],isSigner:!1,isWritable:!1}],k=e.alloc(w.span);w.encode({openTime:Object(a["l"])(f),endTime:Object(a["l"])(h),emissionsPerSecondX64:g},k);const A=e.from([...c.initReward,...k]);return new r["j"]({keys:y,programId:t,data:A})}function w(t,n,u,m,l,d,p,b,f,h,g,w){const y=Object(s["j"])([Object(s["o"])("rewardIndex"),Object(s["k"])("emissionsPerSecondX64"),Object(s["n"])("openTime"),Object(s["n"])("endTime")]),k=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0}],A=e.alloc(y.span);y.encode({rewardIndex:f,emissionsPerSecondX64:w,openTime:Object(a["l"])(h),endTime:Object(a["l"])(g)},A);const O=e.from([...c.setRewardEmissions,...A]);return new r["j"]({keys:k,programId:t,data:O})}function y(t,n,a,u,m,l,d){const p=Object(s["j"])([Object(s["o"])("rewardIndex")]),b=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:o["l"],isSigner:!1,isWritable:!1},{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:o["f"],isSigner:!1,isWritable:!1}],f=e.alloc(p.span);p.encode({rewardIndex:d},f);const h=e.from([...c.collectReward,...f]);return new r["j"]({keys:b,programId:t,data:h})}}).call(this,n("1c35").Buffer)},"8fa2":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));n("a573");var i,r=n("8df2"),o=n("633a");n("fe55"),n("4bf9"),n("e52f"),n("f8b6"),n("9fcd");(function(e){e[e["Uninitialized"]=0]="Uninitialized",e[e["Initialized"]=1]="Initialized",e[e["Frozen"]=2]="Frozen"})(i||(i={}));const a=Object(r["struct"])([Object(o["b"])("mint"),Object(o["b"])("owner"),Object(o["c"])("amount"),Object(r["u32"])("delegateOption"),Object(o["b"])("delegate"),Object(r["u8"])("state"),Object(r["u32"])("isNativeOption"),Object(o["c"])("isNative"),Object(o["c"])("delegatedAmount"),Object(r["u32"])("closeAuthorityOption"),Object(o["b"])("closeAuthority")]),s=a.span}).call(this,n("1c35").Buffer)},"910f":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var i=n("8df2"),r=n("633a"),o=n("f8b6");const a=1e4;BigInt(a);function s(e){return Object(i["struct"])([Object(r["c"])("epoch"),Object(r["c"])("maximumFee"),Object(i["u16"])("transferFeeBasisPoints")],e)}const c=Object(i["struct"])([Object(r["b"])("transferFeeConfigAuthority"),Object(r["b"])("withdrawWithheldAuthority"),Object(r["c"])("withheldAmount"),s("olderTransferFee"),s("newerTransferFee")]),u=c.span;const m=Object(i["struct"])([Object(r["c"])("withheldAmount")]),l=m.span;function d(e){const t=Object(o["c"])(o["a"].TransferFeeConfig,e.tlvData);return null!==t?c.decode(t):null}},"95f1":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p}));var i=n("64b9"),r=n("22be"),o=n("7734"),a=n("8143");const s={voterStakeRegistryCreateVoter:e.from([6,24,245,52,243,255,148,25]),voterStakeRegistryCreateDepositEntry:e.from([185,131,167,186,159,125,19,67]),voterStakeRegistryDeposit:e.from([242,35,198,137,82,225,242,182]),voterStakeRegistryWithdraw:e.from([183,18,70,156,148,109,161,34]),voterStakeRegistryUpdateVoterWeightRecord:e.from([45,185,3,36,109,190,115,169])};function c(t,n,o,s,c,u){const m=Object(a["j"])([Object(a["o"])("ins")]),l=[Object(r["c"])(n,!1),Object(r["c"])(o,!1),Object(r["b"])(u,!1),Object(r["c"])(s,!1),Object(r["b"])(c,!0),Object(r["c"])(r["i"],!1)],d=e.alloc(m.span);return m.encode({ins:23},d),new i["j"]({keys:l,programId:t,data:d})}function u(t,n,o,c,u,m,l,d){const p=Object(a["j"])([Object(a["o"])("voterBump"),Object(a["o"])("voterWeightRecordBump")]),b=[Object(r["c"])(n,!1),Object(r["b"])(o,!1),Object(r["c"])(u,!0),Object(r["b"])(c,!1),Object(r["b"])(m,!0),Object(r["c"])(r["i"],!1),Object(r["c"])(r["h"],!1),Object(r["c"])(r["d"],!1)],f=e.alloc(p.span);p.encode({voterBump:l,voterWeightRecordBump:d},f);const h=e.from([...s.voterStakeRegistryCreateVoter,...f]);return new i["j"]({keys:b,programId:t,data:h})}function m(t,n,c,u,m,l,d,p,b,f,h,g){const w=Object(a["j"])([Object(a["o"])("depositEntryIndex"),Object(a["o"])("kind"),Object(a["o"])("option"),Object(a["n"])("startTs"),Object(a["m"])("periods"),Object(a["c"])("allowClawback")]),y=[Object(r["c"])(n,!1),Object(r["b"])(c,!1),Object(r["b"])(u,!1),Object(r["c"])(m,!0),Object(r["b"])(l,!0),Object(r["c"])(d,!1),Object(r["c"])(r["i"],!1),Object(r["c"])(r["l"],!1),Object(r["c"])(r["a"],!1),Object(r["c"])(r["h"],!1)],k=e.alloc(w.span);w.encode({depositEntryIndex:p,kind:b,option:void 0===f?0:1,startTs:null!==f&&void 0!==f?f:o["j"],periods:h,allowClawback:g},k);const A=e.from([...s.voterStakeRegistryCreateDepositEntry,...k]);return new i["j"]({keys:y,programId:t,data:A})}function l(t,n,o,c,u,m,l,d,p,b,f,h,g){const w=Object(a["j"])([Object(a["o"])("depositEntryIndex"),Object(a["n"])("amount")]),y=[Object(r["c"])(n,!1),Object(r["b"])(o,!1),Object(r["b"])(c,!1),Object(r["b"])(u,!1),Object(r["c"])(m,!0),Object(r["c"])(r["l"],!1),Object(r["b"])(l,!1),Object(r["c"])(d,!1),Object(r["b"])(p,!1),Object(r["c"])(b,!1),Object(r["c"])(f,!1),Object(r["c"])(r["d"],!1)],k=e.alloc(w.span);w.encode({depositEntryIndex:h,amount:g},k);const A=e.from([...s.voterStakeRegistryDeposit,...k]);return new i["j"]({keys:y,programId:t,data:A})}function d(t,n,o,c){const u=Object(a["j"])([]),m=[Object(r["c"])(n,!1),Object(r["c"])(o,!1),Object(r["b"])(c,!1),Object(r["c"])(r["i"],!1)],l=e.alloc(u.span);u.encode({},l);const d=e.from([...s.voterStakeRegistryUpdateVoterWeightRecord,...l]);return new i["j"]({keys:m,programId:t,data:d})}function p(t,n,o,c,u,m,l,d,p,b,f,h,g,w,y){const k=Object(a["j"])([Object(a["o"])("depositEntryIndex"),Object(a["n"])("amount")]),A=[Object(r["c"])(n,!1),Object(r["b"])(o,!1),Object(r["c"])(c,!0),Object(r["c"])(u,!1),Object(r["b"])(m,!1),Object(r["b"])(l,!1),Object(r["b"])(d,!1),Object(r["c"])(r["l"],!1),Object(r["b"])(p,!1),Object(r["c"])(b,!1),Object(r["b"])(f,!1),Object(r["c"])(h,!1),Object(r["c"])(g,!1),Object(r["c"])(r["d"],!1)],O=e.alloc(k.span);k.encode({depositEntryIndex:w,amount:y},O);const S=e.from([...s.voterStakeRegistryWithdraw,...O]);return new i["j"]({keys:A,programId:t,data:S})}}).call(this,n("1c35").Buffer)},"9d98":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("d9e2"),n("14d9"),n("a573");var i=n("fe55"),r=n("64b9"),o=n("1838"),a=n("22be"),s=n("8143");function c(t,n,o,a,c,m,l,d,p,b,f,h){const g=Object(s["j"])([Object(s["o"])("instruction"),Object(s["n"])("amountIn"),Object(s["n"])("amountOut")]),w=[{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i["c"],isSigner:!1,isWritable:!1}];w.push(...u(d,m,o,a,h[0])),w.push(...u(p,l,a,c,h[1]));const y=e.alloc(g.span);return g.encode({instruction:8,amountIn:b,amountOut:f},y),new r["j"]({keys:w,programId:t,data:y})}function u(e,t,n,s,c){if(4===e.version){const t=Object(a["q"])(e);return[{pubkey:t.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:t.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:t.marketAuthority,isSigner:!1,isWritable:!1},{pubkey:t.openOrders,isSigner:!1,isWritable:!0},{pubkey:t.baseVault,isSigner:!1,isWritable:!0},{pubkey:t.quoteVault,isSigner:!1,isWritable:!0},{pubkey:t.marketId,isSigner:!1,isWritable:!0},{pubkey:t.marketBids,isSigner:!1,isWritable:!0},{pubkey:t.marketAsks,isSigner:!1,isWritable:!0},{pubkey:t.marketEventQueue,isSigner:!1,isWritable:!0},..."srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"===t.marketProgramId.toString()?[{pubkey:t.marketBaseVault,isSigner:!1,isWritable:!0},{pubkey:t.marketQuoteVault,isSigner:!1,isWritable:!0}]:[{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:t.id,isSigner:!1,isWritable:!0}]]}if(5===e.version){const t=Object(a["q"])(e);return[{pubkey:t.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!1,isWritable:!1},{pubkey:t.marketProgramId,isSigner:!1,isWritable:!1},{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:new r["e"]("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),isSigner:!1,isWritable:!1},{pubkey:t.openOrders,isSigner:!1,isWritable:!0},{pubkey:t.baseVault,isSigner:!1,isWritable:!0},{pubkey:t.quoteVault,isSigner:!1,isWritable:!0},{pubkey:t.marketId,isSigner:!1,isWritable:!0},{pubkey:t.marketBids,isSigner:!1,isWritable:!0},{pubkey:t.marketAsks,isSigner:!1,isWritable:!0},{pubkey:t.marketEventQueue,isSigner:!1,isWritable:!0},{pubkey:t.id,isSigner:!1,isWritable:!0},{pubkey:t.id,isSigner:!1,isWritable:!0}]}if(6===e.version){const u=e.mintA.mint.toString()===t;return[{pubkey:new r["e"](String(e.programId)),isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:e.ammConfig.id,isSigner:!1,isWritable:!1},{pubkey:e.id,isSigner:!1,isWritable:!0},{pubkey:u?e.mintA.vault:e.mintB.vault,isSigner:!1,isWritable:!0},{pubkey:u?e.mintB.vault:e.mintA.vault,isSigner:!1,isWritable:!0},{pubkey:e.observationId,isSigner:!1,isWritable:!0},...e.mintA.programId.equals(i["b"])||e.mintB.programId.equals(i["b"])?[{pubkey:i["b"],isSigner:!1,isWritable:!1},{pubkey:a["f"],isSigner:!1,isWritable:!1},{pubkey:u?e.mintA.mint:e.mintB.mint,isSigner:!1,isWritable:!1},{pubkey:u?e.mintB.mint:e.mintA.mint,isSigner:!1,isWritable:!1}]:[],...(null!==c&&void 0!==c?c:[]).map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:Object(o["b"])(new r["e"](String(e.programId)),e.id).publicKey,isSigner:!1,isWritable:!0}]}throw Error("make swap ins error")}}).call(this,n("1c35").Buffer)},"9fcd":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("8df2"),r=n("633a");n("fe55"),n("4bf9");const o=Object(i["struct"])([Object(i["u8"])("m"),Object(i["u8"])("n"),Object(r["a"])("isInitialized"),Object(r["b"])("signer1"),Object(r["b"])("signer2"),Object(r["b"])("signer3"),Object(r["b"])("signer4"),Object(r["b"])("signer5"),Object(r["b"])("signer6"),Object(r["b"])("signer7"),Object(r["b"])("signer8"),Object(r["b"])("signer9"),Object(r["b"])("signer10"),Object(r["b"])("signer11")]),a=o.span},a8c2:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var i=n("8df2"),r=n("64b9"),o=n("fe55"),a=(n("4bf9"),n("d32f"));const s=Object(i["struct"])([Object(i["u8"])("instruction")]);function c(t,n,i,c=o["c"]){const u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r["g"],isSigner:!1,isWritable:!1}],m=e.alloc(s.span);return s.encode({instruction:a["a"].InitializeAccount},m),new r["j"]({keys:u,programId:c,data:m})}}).call(this,n("1c35").Buffer)},a98b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var i=n("8df2"),r=n("633a"),o=(n("64b9"),n("fe55")),a=n("4bf9"),s=n("e52f"),c=(n("f8b6"),n("8fa2")),u=n("9fcd");const m=Object(i["struct"])([Object(i["u32"])("mintAuthorityOption"),Object(r["b"])("mintAuthority"),Object(r["c"])("supply"),Object(i["u8"])("decimals"),Object(r["a"])("isInitialized"),Object(i["u32"])("freezeAuthorityOption"),Object(r["b"])("freezeAuthority")]),l=m.span;function d(t,n,i=o["c"]){if(!n)throw new a["a"];if(!n.owner.equals(i))throw new a["c"];if(n.data.length<l)throw new a["d"];const r=m.decode(n.data.slice(0,l));let d=e.alloc(0);if(n.data.length>l){if(n.data.length<=c["a"])throw new a["d"];if(n.data.length===u["a"])throw new a["d"];if(n.data[c["a"]]!=s["b"].Mint)throw new a["i"];d=n.data.slice(c["a"]+s["a"])}return{address:t,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:d}}}).call(this,n("1c35").Buffer)},bc7e:function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e[e["V0"]=0]="V0",e[e["LEGACY"]=1]="LEGACY"}(i||(i={})),function(e){e[e["createAccount"]=0]="createAccount",e[e["initAccount"]=1]="initAccount",e[e["createATA"]=2]="createATA",e[e["closeAccount"]=3]="closeAccount",e[e["transferAmount"]=4]="transferAmount",e[e["initMint"]=5]="initMint",e[e["mintTo"]=6]="mintTo",e[e["initMarket"]=7]="initMarket",e[e["util1216OwnerClaim"]=8]="util1216OwnerClaim",e[e["setComputeUnitPrice"]=9]="setComputeUnitPrice",e[e["setComputeUnitLimit"]=10]="setComputeUnitLimit",e[e["clmmCreatePool"]=11]="clmmCreatePool",e[e["clmmOpenPosition"]=12]="clmmOpenPosition",e[e["clmmIncreasePosition"]=13]="clmmIncreasePosition",e[e["clmmDecreasePosition"]=14]="clmmDecreasePosition",e[e["clmmClosePosition"]=15]="clmmClosePosition",e[e["clmmSwapBaseIn"]=16]="clmmSwapBaseIn",e[e["clmmSwapBaseOut"]=17]="clmmSwapBaseOut",e[e["clmmInitReward"]=18]="clmmInitReward",e[e["clmmSetReward"]=19]="clmmSetReward",e[e["clmmCollectReward"]=20]="clmmCollectReward",e[e["ammV4Swap"]=21]="ammV4Swap",e[e["ammV4AddLiquidity"]=22]="ammV4AddLiquidity",e[e["ammV4RemoveLiquidity"]=23]="ammV4RemoveLiquidity",e[e["ammV4SimulatePoolInfo"]=24]="ammV4SimulatePoolInfo",e[e["ammV4SwapBaseIn"]=25]="ammV4SwapBaseIn",e[e["ammV4SwapBaseOut"]=26]="ammV4SwapBaseOut",e[e["ammV4CreatePool"]=27]="ammV4CreatePool",e[e["ammV4InitPool"]=28]="ammV4InitPool",e[e["ammV4CreatePoolV2"]=29]="ammV4CreatePoolV2",e[e["ammV5AddLiquidity"]=30]="ammV5AddLiquidity",e[e["ammV5RemoveLiquidity"]=31]="ammV5RemoveLiquidity",e[e["ammV5SimulatePoolInfo"]=32]="ammV5SimulatePoolInfo",e[e["ammV5SwapBaseIn"]=33]="ammV5SwapBaseIn",e[e["ammV5SwapBaseOut"]=34]="ammV5SwapBaseOut",e[e["routeSwap"]=35]="routeSwap",e[e["routeSwap1"]=36]="routeSwap1",e[e["routeSwap2"]=37]="routeSwap2",e[e["farmV3Deposit"]=38]="farmV3Deposit",e[e["farmV3Withdraw"]=39]="farmV3Withdraw",e[e["farmV3CreateLedger"]=40]="farmV3CreateLedger",e[e["farmV5Deposit"]=41]="farmV5Deposit",e[e["farmV5Withdraw"]=42]="farmV5Withdraw",e[e["farmV5CreateLedger"]=43]="farmV5CreateLedger",e[e["farmV6Deposit"]=44]="farmV6Deposit",e[e["farmV6Withdraw"]=45]="farmV6Withdraw",e[e["farmV6Create"]=46]="farmV6Create",e[e["farmV6Restart"]=47]="farmV6Restart",e[e["farmV6CreatorAddReward"]=48]="farmV6CreatorAddReward",e[e["farmV6CreatorWithdraw"]=49]="farmV6CreatorWithdraw",e[e["test"]=50]="test"}(r||(r={}))},bcd1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("8143");const r=Object(i["j"])([Object(i["b"])(5),Object(i["b"])(8),Object(i["g"])("ownAddress"),Object(i["n"])("vaultSignerNonce"),Object(i["g"])("baseMint"),Object(i["g"])("quoteMint"),Object(i["g"])("baseVault"),Object(i["n"])("baseDepositsTotal"),Object(i["n"])("baseFeesAccrued"),Object(i["g"])("quoteVault"),Object(i["n"])("quoteDepositsTotal"),Object(i["n"])("quoteFeesAccrued"),Object(i["n"])("quoteDustThreshold"),Object(i["g"])("requestQueue"),Object(i["g"])("eventQueue"),Object(i["g"])("bids"),Object(i["g"])("asks"),Object(i["n"])("baseLotSize"),Object(i["n"])("quoteLotSize"),Object(i["n"])("feeRateBps"),Object(i["n"])("referrerRebatesAccrued"),Object(i["b"])(7)]),o={3:r}},be6b:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("d9e2"),n("14d9"),n("907a"),n("986a"),n("1d02"),n("3c5d"),n("6ce5"),n("2834"),n("4ea1"),n("669d"),n("109c"),n("b2c1"),n("0643"),n("4e3e");var i=n("64b9");const r="1.1.0-beta.6";let o=!1,a=!1;const s={debug:1,default:2,info:2,warning:3,error:4,off:5},c={};let u;function m(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){if(e instanceof Error)return e.message}return""}const l=m();var d,p;(function(e){e["DEBUG"]="DEBUG",e["INFO"]="INFO",e["WARNING"]="WARNING",e["ERROR"]="ERROR",e["OFF"]="OFF"})(d||(d={})),function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR",e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED",e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION",e["NETWORK_ERROR"]="NETWORK_ERROR",e["RPC_ERROR"]="RPC_ERROR",e["TIMEOUT"]="TIMEOUT",e["BUFFER_OVERRUN"]="BUFFER_OVERRUN",e["NUMERIC_FAULT"]="NUMERIC_FAULT",e["MISSING_NEW"]="MISSING_NEW",e["INVALID_ARGUMENT"]="INVALID_ARGUMENT",e["MISSING_ARGUMENT"]="MISSING_ARGUMENT",e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT",e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS"}(p||(p={}));const b="0123456789abcdef";function f(e,t=!1){let n=e;try{if(e instanceof Uint8Array){let t="";for(let n=0;n<e.length;n++)t+=b[e[n]>>4],t+=b[15&e[n]];n=`Uint8Array(0x${t})`}else if(e instanceof i["e"])n=`PublicKey(${e.toBase58()})`;else if(e instanceof Object&&!t){const t={};Object.entries(e).forEach(([e,n])=>{t[e]=f(n,!0)}),n=JSON.stringify(t)}else t||(n=JSON.stringify(e))}catch(r){n=JSON.stringify(e.toString())}return n}class h{constructor(e){this.version=r,this.moduleName=e}_log(e,t){const n=e.toLowerCase();null==s[n]&&this.throwArgumentError("invalid log level name","logLevel",e);c[this.moduleName]||s["default"];s[n]}debug(...e){this._log(h.levels.DEBUG,["[DEBUG]",...e])}info(...e){this._log(h.levels.INFO,["[INFO]",...e])}warn(...e){this._log(h.levels.WARNING,["[WARN]",...e])}makeError(e,t,n){if(a)return this.makeError("censored error",t,{});t||(t=h.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.entries(n).forEach(([e,t])=>{i.push(`${e}=${f(t)})`)}),i.push("code="+t),i.push("module="+this.moduleName),i.push("version="+this.version);const r=e;i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=r,o.code=t,Object.entries(n).forEach(([e,t])=>{o[e]=t}),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,h.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,i){e||this.throwError(t,n,i)}assertArgument(e,t,n,i){e||this.throwArgumentError(t,n,i)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),l&&this.throwError("platform missing String.prototype.normalize",h.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,h.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,h.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",h.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return u||(u=new h(r)),u}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o){if(!e)return;this.globalLogger().throwError("error censorship permanent",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}a=!!e,o=!!t}static setLogLevel(e,t){const n=s[t.toLowerCase()];null!=n?c[e]=n:h.globalLogger().warn("invalid log level - "+t)}static from(e){return new h(e)}}h.errors=p,h.levels=d},c366:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return S}));n("d9e2"),n("14d9"),n("0643"),n("2382"),n("a573");var i,r=n("64b9"),o=n("5c23"),a=n.n(o),s=n("832d"),c=n("d677"),u=n("1838"),m=n("22be"),l=n("7734"),d=n("4f1c"),p=n("8143"),b=n("7152"),f=n("f4dd"),h=n("cd9c");const g=m["e"].from("Liquidity");let w={accountType:0,status:0,multiplier:0,validDataCount:0,DataElement:[]};async function y(e){if(0===w.validDataCount&&e){const t=await e.getAccountInfo(h["a"]);t&&(w=Object(h["b"])(null===t||void 0===t?void 0:t.data))}}var k;(function(e){e[e["Uninitialized"]=0]="Uninitialized",e[e["Initialized"]=1]="Initialized",e[e["Disabled"]=2]="Disabled",e[e["RemoveLiquidityOnly"]=3]="RemoveLiquidityOnly",e[e["LiquidityOnly"]=4]="LiquidityOnly",e[e["OrderBook"]=5]="OrderBook",e[e["Swap"]=6]="Swap",e[e["WaitingForStart"]=7]="WaitingForStart"})(k||(k={}));const A=new a.a(25),O=new a.a(1e4);class S extends s["b"]{static getStateLayout(e){const t=f["b"][e];return g.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedId({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("amm_associated_seed","utf-8")],t);return i}static getAssociatedAuthority({programId:t}){return Object(m["m"])([e.from([97,109,109,32,97,117,116,104,111,114,105,116,121])],t)}static getAssociatedBaseVault({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("coin_vault_associated_seed","utf-8")],t);return i}static getAssociatedQuoteVault({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("pc_vault_associated_seed","utf-8")],t);return i}static getAssociatedLpMint({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("lp_mint_associated_seed","utf-8")],t);return i}static getAssociatedLpVault({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("temp_lp_token_associated_seed","utf-8")],t);return i}static getAssociatedTargetOrders({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("target_associated_seed","utf-8")],t);return i}static getAssociatedWithdrawQueue({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("withdraw_associated_seed","utf-8")],t);return i}static getAssociatedOpenOrders({programId:t,marketId:n}){const{publicKey:i}=Object(m["m"])([t.toBuffer(),n.toBuffer(),e.from("open_order_associated_seed","utf-8")],t);return i}static getAssociatedConfigId({programId:t}){const{publicKey:n}=Object(m["m"])([e.from("amm_config_account_seed","utf-8")],t);return n}static getAssociatedPoolKeys({version:e,marketVersion:t,marketId:n,baseMint:i,quoteMint:o,baseDecimals:a,quoteDecimals:s,programId:c,marketProgramId:u}){const m=this.getAssociatedId({programId:c,marketId:n}),l=this.getAssociatedLpMint({programId:c,marketId:n}),{publicKey:d,nonce:p}=this.getAssociatedAuthority({programId:c}),f=this.getAssociatedBaseVault({programId:c,marketId:n}),h=this.getAssociatedQuoteVault({programId:c,marketId:n}),g=this.getAssociatedLpVault({programId:c,marketId:n}),w=this.getAssociatedOpenOrders({programId:c,marketId:n}),y=this.getAssociatedTargetOrders({programId:c,marketId:n}),k=this.getAssociatedWithdrawQueue({programId:c,marketId:n}),{publicKey:A}=b["b"].getAssociatedAuthority({programId:u,marketId:n});return{id:m,baseMint:i,quoteMint:o,lpMint:l,baseDecimals:a,quoteDecimals:s,lpDecimals:a,version:e,programId:c,authority:d,nonce:p,baseVault:f,quoteVault:h,lpVault:g,openOrders:w,targetOrders:y,withdrawQueue:k,marketVersion:t,marketProgramId:u,marketId:n,marketAuthority:A,lookupTableAccount:r["e"].default,configId:this.getAssociatedConfigId({programId:c})}}static async getCreatePoolFee({connection:e,programId:t}){const n=this.getAssociatedConfigId({programId:t}),i=Object(p["j"])([Object(p["n"])("fee")]),r=await e.getAccountInfo(n,{dataSlice:{offset:536,length:8}});if(null===r)throw Error("get config account error");return i.decode(r.data).fee}static makeAddLiquidityInstruction(t){const{poolKeys:n,userKeys:i,baseAmountIn:o,quoteAmountIn:a,fixedSide:c}=t,{version:u}=n;if(4===u||5===u){const t=Object(p["j"])([Object(p["o"])("instruction"),Object(p["n"])("baseAmountIn"),Object(p["n"])("quoteAmountIn"),Object(p["n"])("fixedSide")]),d=e.alloc(t.span);t.encode({instruction:3,baseAmountIn:Object(l["l"])(o),quoteAmountIn:Object(l["l"])(a),fixedSide:Object(l["l"])("base"===c?0:1)},d);const b=[Object(m["c"])(m["l"],!1),Object(m["b"])(n.id,!1),Object(m["c"])(n.authority,!1),Object(m["c"])(n.openOrders,!1),Object(m["b"])(n.targetOrders,!1),Object(m["b"])(n.lpMint,!1),Object(m["b"])(n.baseVault,!1),Object(m["b"])(n.quoteVault,!1)];return 5===u&&b.push(Object(m["b"])(h["a"],!1)),b.push(Object(m["c"])(n.marketId,!1),Object(m["b"])(i.baseTokenAccount,!1),Object(m["b"])(i.quoteTokenAccount,!1),Object(m["b"])(i.lpTokenAccount,!1),Object(m["c"])(i.owner,!0),Object(m["c"])(n.marketEventQueue,!1)),{address:{},innerTransaction:{instructions:[new r["j"]({programId:n.programId,keys:b,data:d})],signers:[],lookupTableAddress:[n.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[4===u?s["c"].ammV4AddLiquidity:s["c"].ammV5AddLiquidity]}}}return g.throwArgumentError("invalid version","poolKeys.version",u)}static async makeAddLiquidityInstructionSimple(e){const{connection:t,poolKeys:n,userKeys:i,amountInA:r,amountInB:o,fixedSide:a,config:s,makeTxVersion:c,lookupTableCache:u,computeBudgetConfig:d}=e,{lpMint:p}=n,{tokenAccounts:b,owner:f,payer:h=f}=i;g.debug("amountInA:",r),g.debug("amountInB:",o),g.assertArgument(!r.isZero()&&!o.isZero(),"amounts must greater than zero","amountInA & amountInB",{amountInA:r.toFixed(),amountInB:o.toFixed()});const{bypassAssociatedCheck:w,checkCreateATAOwner:y}={bypassAssociatedCheck:!1,checkCreateATAOwner:!1,...s},k=r instanceof l["i"]?r.token:l["h"].WSOL,A=o instanceof l["i"]?o.token:l["h"].WSOL,O=this._selectTokenAccount({programId:m["l"],tokenAccounts:b,mint:k.mint,owner:f,config:{associatedOnly:!1}}),S=this._selectTokenAccount({programId:m["l"],tokenAccounts:b,mint:A.mint,owner:f,config:{associatedOnly:!1}});g.assertArgument(!!O||!!S,"cannot found target token accounts","tokenAccounts",b);const I=this._selectTokenAccount({programId:m["l"],tokenAccounts:b,mint:p,owner:f}),T=[k,A],j=[O,S],v=[r.raw,o.raw],[C]=this._getAmountsSide(r,o,n);let M="base";if("quote"===C)if(T.reverse(),j.reverse(),v.reverse(),"a"===a)M="quote";else{if("b"!==a)return g.throwArgumentError("invalid fixedSide","fixedSide",a);M="base"}else{if("base"!==C)return g.throwArgumentError("invalid fixedSide","fixedSide",a);if("a"===a)M="base";else{if("b"!==a)return g.throwArgumentError("invalid fixedSide","fixedSide",a);M="quote"}}const[P,L]=T,[D,R]=j,[q,B]=v,V=[],x=[],U=[],E=[],_=[],W=await this._handleTokenAccount({programId:m["l"],connection:t,side:"in",amount:q,mint:P.mint,tokenAccount:D,owner:f,payer:h,frontInstructions:V,endInstructions:x,signers:_,bypassAssociatedCheck:w,frontInstructionsType:U,endInstructionsType:E,checkCreateATAOwner:y}),N=await this._handleTokenAccount({programId:m["l"],connection:t,side:"in",amount:B,mint:L.mint,tokenAccount:R,owner:f,payer:h,frontInstructions:V,endInstructions:x,signers:_,bypassAssociatedCheck:w,frontInstructionsType:U,endInstructionsType:E,checkCreateATAOwner:y}),F=await this._handleTokenAccount({programId:m["l"],connection:t,side:"out",amount:0,mint:p,tokenAccount:I,owner:f,payer:h,frontInstructions:V,endInstructions:x,signers:_,bypassAssociatedCheck:w,frontInstructionsType:U,endInstructionsType:E,checkCreateATAOwner:y}),K=this.makeAddLiquidityInstruction({poolKeys:n,userKeys:{baseTokenAccount:W,quoteTokenAccount:N,lpTokenAccount:F,owner:f},baseAmountIn:q,quoteAmountIn:B,fixedSide:M});return{address:{lpTokenAccount:F},innerTransactions:await Object(m["u"])({connection:t,makeTxVersion:c,computeBudgetConfig:d,payer:h,innerTransaction:[{instructionTypes:U,instructions:V,signers:_},K.innerTransaction,{instructionTypes:E,instructions:x,signers:[]}],lookupTableCache:u})}}static makeRemoveLiquidityInstruction(t){const{poolKeys:n,userKeys:i,amountIn:o}=t,{version:a}=n;if(4===a||5===a){const t=Object(p["j"])([Object(p["o"])("instruction"),Object(p["n"])("amountIn")]),c=e.alloc(t.span);t.encode({instruction:4,amountIn:Object(l["l"])(o)},c);const u=[Object(m["c"])(m["l"],!1),Object(m["b"])(n.id,!1),Object(m["c"])(n.authority,!1),Object(m["b"])(n.openOrders,!1),Object(m["b"])(n.targetOrders,!1),Object(m["b"])(n.lpMint,!1),Object(m["b"])(n.baseVault,!1),Object(m["b"])(n.quoteVault,!1)];return 5===a?u.push(Object(m["b"])(h["a"],!1)):(u.push(Object(m["b"])(n.withdrawQueue,!1)),u.push(Object(m["b"])(n.lpVault,!1))),u.push(Object(m["c"])(n.marketProgramId,!1),Object(m["b"])(n.marketId,!1),Object(m["b"])(n.marketBaseVault,!1),Object(m["b"])(n.marketQuoteVault,!1),Object(m["c"])(n.marketAuthority,!1),Object(m["b"])(i.lpTokenAccount,!1),Object(m["b"])(i.baseTokenAccount,!1),Object(m["b"])(i.quoteTokenAccount,!1),Object(m["c"])(i.owner,!0),Object(m["b"])(n.marketEventQueue,!1),Object(m["b"])(n.marketBids,!1),Object(m["b"])(n.marketAsks,!1)),{address:{},innerTransaction:{instructions:[new r["j"]({programId:n.programId,keys:u,data:c})],signers:[],lookupTableAddress:[n.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[4===a?s["c"].ammV4RemoveLiquidity:s["c"].ammV5RemoveLiquidity]}}}return g.throwArgumentError("invalid version","poolKeys.version",a)}static async makeRemoveLiquidityInstructionSimple(e){const{connection:t,poolKeys:n,userKeys:i,amountIn:r,config:o,makeTxVersion:a,lookupTableCache:s,computeBudgetConfig:c}=e,{baseMint:u,quoteMint:d,lpMint:p}=n,{tokenAccounts:b,owner:f,payer:h=f}=i;g.debug("amountIn:",r),g.assertArgument(!r.isZero(),"amount must greater than zero","amountIn",r.toFixed()),g.assertArgument(r instanceof l["i"]&&r.token.mint.equals(p),"amountIn's token not match lpMint","amountIn",r);const w=this._selectTokenAccount({programId:m["l"],tokenAccounts:b,mint:p,owner:f,config:{associatedOnly:!1}});if(!w)return g.throwArgumentError("cannot found lpTokenAccount","tokenAccounts",b);const y=this._selectTokenAccount({programId:m["l"],tokenAccounts:b,mint:u,owner:f}),k=this._selectTokenAccount({programId:m["l"],tokenAccounts:b,mint:d,owner:f}),{bypassAssociatedCheck:A,checkCreateATAOwner:O}={bypassAssociatedCheck:!1,checkCreateATAOwner:!1,...o},S=[],I=[],T=[],j=[],v=[],C=w,M=await this._handleTokenAccount({programId:m["l"],connection:t,side:"out",amount:0,mint:u,tokenAccount:y,owner:f,payer:h,frontInstructions:S,endInstructions:I,signers:v,bypassAssociatedCheck:A,frontInstructionsType:T,checkCreateATAOwner:O}),P=await this._handleTokenAccount({programId:m["l"],connection:t,side:"out",amount:0,mint:d,tokenAccount:k,owner:f,payer:h,frontInstructions:S,endInstructions:I,signers:v,bypassAssociatedCheck:A,frontInstructionsType:T,checkCreateATAOwner:O}),L=this.makeRemoveLiquidityInstruction({poolKeys:n,userKeys:{lpTokenAccount:C,baseTokenAccount:M,quoteTokenAccount:P,owner:f},amountIn:r.raw});return{address:{lpTokenAccount:C},innerTransactions:await Object(m["u"])({connection:t,makeTxVersion:a,computeBudgetConfig:c,payer:h,innerTransaction:[{instructionTypes:T,instructions:S,signers:v},L.innerTransaction,{instructionTypes:j,instructions:I,signers:[]}],lookupTableCache:s})}}static makeSwapInstruction(e){const{poolKeys:t,userKeys:n,amountIn:i,amountOut:r,fixedSide:o}=e,{version:a}=t;return 4===a||5===a?"in"===o?this.makeSwapFixedInInstruction({poolKeys:t,userKeys:n,amountIn:i,minAmountOut:r},a):"out"===o?this.makeSwapFixedOutInstruction({poolKeys:t,userKeys:n,maxAmountIn:i,amountOut:r},a):g.throwArgumentError("invalid params","params",e):g.throwArgumentError("invalid version","poolKeys.version",a)}static makeSwapFixedInInstruction({poolKeys:t,userKeys:n,amountIn:i,minAmountOut:o},a){const c=Object(p["j"])([Object(p["o"])("instruction"),Object(p["n"])("amountIn"),Object(p["n"])("minAmountOut")]),u=e.alloc(c.span);c.encode({instruction:9,amountIn:Object(l["l"])(i),minAmountOut:Object(l["l"])(o)},u);const d=[Object(m["c"])(m["l"],!1),Object(m["b"])(t.id,!1),Object(m["c"])(t.authority,!1),Object(m["b"])(t.openOrders,!1)];return 4===a&&d.push(Object(m["b"])(t.targetOrders,!1)),d.push(Object(m["b"])(t.baseVault,!1),Object(m["b"])(t.quoteVault,!1)),5===a&&d.push(Object(m["b"])(h["a"],!1)),d.push(Object(m["c"])(t.marketProgramId,!1),Object(m["b"])(t.marketId,!1),Object(m["b"])(t.marketBids,!1),Object(m["b"])(t.marketAsks,!1),Object(m["b"])(t.marketEventQueue,!1),Object(m["b"])(t.marketBaseVault,!1),Object(m["b"])(t.marketQuoteVault,!1),Object(m["c"])(t.marketAuthority,!1),Object(m["b"])(n.tokenAccountIn,!1),Object(m["b"])(n.tokenAccountOut,!1),Object(m["c"])(n.owner,!0)),{address:{},innerTransaction:{instructions:[new r["j"]({programId:t.programId,keys:d,data:u})],signers:[],lookupTableAddress:[t.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[4===a?s["c"].ammV4SwapBaseIn:s["c"].ammV5SwapBaseIn]}}}static makeSwapFixedOutInstruction({poolKeys:t,userKeys:n,maxAmountIn:i,amountOut:o},a){const c=Object(p["j"])([Object(p["o"])("instruction"),Object(p["n"])("maxAmountIn"),Object(p["n"])("amountOut")]),u=e.alloc(c.span);c.encode({instruction:11,maxAmountIn:Object(l["l"])(i),amountOut:Object(l["l"])(o)},u);const d=[Object(m["c"])(m["l"],!1),Object(m["b"])(t.id,!1),Object(m["c"])(t.authority,!1),Object(m["b"])(t.openOrders,!1),Object(m["b"])(t.targetOrders,!1),Object(m["b"])(t.baseVault,!1),Object(m["b"])(t.quoteVault,!1)];return 5===a&&d.push(Object(m["b"])(h["a"],!1)),d.push(Object(m["c"])(t.marketProgramId,!1),Object(m["b"])(t.marketId,!1),Object(m["b"])(t.marketBids,!1),Object(m["b"])(t.marketAsks,!1),Object(m["b"])(t.marketEventQueue,!1),Object(m["b"])(t.marketBaseVault,!1),Object(m["b"])(t.marketQuoteVault,!1),Object(m["c"])(t.marketAuthority,!1),Object(m["b"])(n.tokenAccountIn,!1),Object(m["b"])(n.tokenAccountOut,!1),Object(m["c"])(n.owner,!0)),{address:{},innerTransaction:{instructions:[new r["j"]({programId:t.programId,keys:d,data:u})],signers:[],lookupTableAddress:[t.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[4===a?s["c"].ammV4SwapBaseOut:s["c"].ammV5SwapBaseOut]}}}static async makeSwapInstructionSimple(e){const{connection:t,poolKeys:n,userKeys:i,amountIn:r,amountOut:o,fixedSide:a,config:s,makeTxVersion:c,lookupTableCache:u,computeBudgetConfig:d}=e,{tokenAccounts:p,owner:b,payer:f=b}=i;g.debug("amountIn:",r),g.debug("amountOut:",o),g.assertArgument(!r.isZero()&&!o.isZero(),"amounts must greater than zero","currencyAmounts",{amountIn:r.toFixed(),amountOut:o.toFixed()});const{bypassAssociatedCheck:h,checkCreateATAOwner:w}={bypassAssociatedCheck:!1,checkCreateATAOwner:!1,...s},y=r instanceof l["i"]?r.token:l["h"].WSOL,k=o instanceof l["i"]?o.token:l["h"].WSOL,A=this._selectTokenAccount({programId:m["l"],tokenAccounts:p,mint:y.mint,owner:b,config:{associatedOnly:!1}}),O=this._selectTokenAccount({programId:m["l"],tokenAccounts:p,mint:k.mint,owner:b}),[S,I]=[r.raw,o.raw],T=[],j=[],v=[],C=[],M=[],P=await this._handleTokenAccount({programId:m["l"],connection:t,side:"in",amount:S,mint:y.mint,tokenAccount:A,owner:b,payer:f,frontInstructions:T,endInstructions:j,signers:M,bypassAssociatedCheck:h,frontInstructionsType:v,checkCreateATAOwner:w}),L=await this._handleTokenAccount({programId:m["l"],connection:t,side:"out",amount:0,mint:k.mint,tokenAccount:O,owner:b,payer:f,frontInstructions:T,endInstructions:j,signers:M,bypassAssociatedCheck:h,frontInstructionsType:v,checkCreateATAOwner:w}),D=this.makeSwapInstruction({poolKeys:n,userKeys:{tokenAccountIn:P,tokenAccountOut:L,owner:b},amountIn:S,amountOut:I,fixedSide:a});return{address:{},innerTransactions:await Object(m["u"])({connection:t,makeTxVersion:c,computeBudgetConfig:d,payer:f,innerTransaction:[{instructionTypes:v,instructions:T,signers:M},D.innerTransaction,{instructionTypes:C,instructions:j,signers:[]}],lookupTableCache:u})}}static makeSimulatePoolInfoInstruction({poolKeys:t}){const n=Object(p["j"])([Object(p["o"])("instruction"),Object(p["o"])("simulateType")]),i=e.alloc(n.span);n.encode({instruction:12,simulateType:0},i);const o=[Object(m["c"])(t.id,!1),Object(m["c"])(t.authority,!1),Object(m["c"])(t.openOrders,!1),Object(m["c"])(t.baseVault,!1),Object(m["c"])(t.quoteVault,!1),Object(m["c"])(t.lpMint,!1),Object(m["c"])(t.marketId,!1),Object(m["c"])(t.marketEventQueue,!1)];return{address:{},innerTransaction:{instructions:[new r["j"]({programId:t.programId,keys:o,data:i})],signers:[],lookupTableAddress:[t.lookupTableAccount].filter(e=>e&&!e.equals(r["e"].default)),instructionTypes:[4===t.version?s["c"].ammV4SimulatePoolInfo:s["c"].ammV5SimulatePoolInfo]}}}static isV4(e){return void 0!==e.withdrawQueue}static async makeCreatePoolV4InstructionV2Simple({connection:e,programId:t,marketInfo:n,baseMintInfo:r,quoteMintInfo:o,baseAmount:a,quoteAmount:s,startTime:u,ownerInfo:d,associatedOnly:p=!1,computeBudgetConfig:b,checkCreateATAOwner:f=!1,makeTxVersion:h,lookupTableCache:g,feeDestinationId:w}){const y=[],k=[],A=[],O=[],S=[],I=d.useSOLBalance&&r.mint.equals(l["h"].WSOL.mint),T=d.useSOLBalance&&o.mint.equals(l["h"].WSOL.mint),j=await this._selectOrCreateTokenAccount({programId:m["l"],mint:r.mint,tokenAccounts:I?[]:d.tokenAccounts,owner:d.wallet,createInfo:I?{connection:e,payer:d.feePayer,amount:a,frontInstructions:y,frontInstructionsType:A,endInstructions:I?k:[],endInstructionsType:I?O:[],signers:S}:void 0,associatedOnly:!I&&p,checkCreateATAOwner:f}),v=await this._selectOrCreateTokenAccount({programId:m["l"],mint:o.mint,tokenAccounts:T?[]:d.tokenAccounts,owner:d.wallet,createInfo:T?{connection:e,payer:d.feePayer,amount:s,frontInstructions:y,frontInstructionsType:A,endInstructions:T?k:[],endInstructionsType:T?O:[],signers:S}:void 0,associatedOnly:!T&&p,checkCreateATAOwner:f});if(void 0===j||void 0===v)throw Error("you don't has some token account");const C=i.getAssociatedPoolKeys({version:4,marketVersion:3,marketId:n.marketId,baseMint:r.mint,quoteMint:o.mint,baseDecimals:r.decimals,quoteDecimals:o.decimals,programId:t,marketProgramId:n.programId}),M=this.makeCreatePoolV4InstructionV2({programId:t,ammId:C.id,ammAuthority:C.authority,ammOpenOrders:C.openOrders,lpMint:C.lpMint,coinMint:C.baseMint,pcMint:C.quoteMint,coinVault:C.baseVault,pcVault:C.quoteVault,ammTargetOrders:C.targetOrders,marketProgramId:C.marketProgramId,marketId:C.marketId,userWallet:d.wallet,userCoinVault:j,userPcVault:v,userLpVault:Object(c["a"])(d.wallet,C.lpMint,m["l"]).publicKey,ammConfigId:C.configId,feeDestinationId:w,nonce:C.nonce,openTime:u,coinAmount:a,pcAmount:s}).innerTransaction;return{address:{programId:t,ammId:C.id,ammAuthority:C.authority,ammOpenOrders:C.openOrders,lpMint:C.lpMint,coinMint:C.baseMint,pcMint:C.quoteMint,coinVault:C.baseVault,pcVault:C.quoteVault,withdrawQueue:C.withdrawQueue,ammTargetOrders:C.targetOrders,poolTempLp:C.lpVault,marketProgramId:C.marketProgramId,marketId:C.marketId},innerTransactions:await Object(m["u"])({connection:e,makeTxVersion:h,computeBudgetConfig:b,payer:d.feePayer,innerTransaction:[{instructionTypes:A,instructions:y,signers:S},M,{instructionTypes:O,instructions:k,signers:[]}],lookupTableCache:g})}}static makeCreatePoolV4InstructionV2({programId:t,ammId:n,ammAuthority:i,ammOpenOrders:o,lpMint:a,coinMint:c,pcMint:u,coinVault:l,pcVault:d,ammTargetOrders:b,marketProgramId:f,marketId:h,userWallet:g,userCoinVault:w,userPcVault:y,userLpVault:k,nonce:A,openTime:O,coinAmount:S,pcAmount:I,lookupTableAddress:T,ammConfigId:j,feeDestinationId:v}){const C=Object(p["j"])([Object(p["o"])("instruction"),Object(p["o"])("nonce"),Object(p["n"])("openTime"),Object(p["n"])("pcAmount"),Object(p["n"])("coinAmount")]),M=[{pubkey:m["l"],isSigner:!1,isWritable:!1},{pubkey:m["a"],isSigner:!1,isWritable:!1},{pubkey:m["i"],isSigner:!1,isWritable:!1},{pubkey:m["h"],isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:j,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!0,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0}],P=e.alloc(C.span);C.encode({instruction:1,nonce:A,openTime:O,coinAmount:S,pcAmount:I},P);const L=new r["j"]({keys:M,programId:t,data:P});return{address:{},innerTransaction:{instructions:[L],signers:[],lookupTableAddress:T?[T]:void 0,instructionTypes:[s["c"].ammV4CreatePoolV2]}}}static async makeRemoveAllLpAndCreateClmmPosition({connection:e,poolKeys:t,removeLpAmount:n,userKeys:i,clmmPoolKeys:r,createPositionInfo:o,farmInfo:s,computeBudgetConfig:p,checkCreateATAOwner:b=!1,getEphemeralSigners:f,makeTxVersion:h,lookupTableCache:g}){var w,y,k,A,O;if(!t.baseMint.equals(r.mintA.mint)&&!t.baseMint.equals(r.mintB.mint))throw Error("mint check error");if(!t.quoteMint.equals(r.mintA.mint)&&!t.quoteMint.equals(r.mintB.mint))throw Error("mint check error");const S=[],I=[],T=[],j=[],v=[],C={};for(const a of i.tokenAccounts)(void 0===C[a.accountInfo.mint.toString()]||Object(c["a"])(i.owner,a.accountInfo.mint,m["l"]).publicKey.equals(a.pubkey))&&(C[a.accountInfo.mint.toString()]=a.pubkey);const M=C[t.lpMint.toString()];if(void 0===M)throw Error("find lp account error in trade accounts");const P=n.add(null!==(w=null===s||void 0===s?void 0:s.amount)&&void 0!==w?w:new a.a(0)),L=t.baseMint.equals(l["h"].WSOL.mint),D=t.quoteMint.equals(l["h"].WSOL.mint),R=await this._selectOrCreateTokenAccount({programId:m["l"],mint:t.baseMint,tokenAccounts:i.tokenAccounts,owner:i.owner,createInfo:{connection:e,payer:null!==(y=i.payer)&&void 0!==y?y:i.owner,frontInstructions:S,frontInstructionsType:T,endInstructions:L?I:[],endInstructionsType:L?j:[],signers:v},associatedOnly:!0,checkCreateATAOwner:b}),q=await this._selectOrCreateTokenAccount({programId:m["l"],mint:t.quoteMint,tokenAccounts:i.tokenAccounts,owner:i.owner,createInfo:{connection:e,payer:null!==(k=i.payer)&&void 0!==k?k:i.owner,amount:0,frontInstructions:S,frontInstructionsType:T,endInstructions:D?I:[],endInstructionsType:D?j:[],signers:v},associatedOnly:!0,checkCreateATAOwner:b});C[t.baseMint.toString()]=R,C[t.quoteMint.toString()]=q;const B=this.makeRemoveLiquidityInstruction({poolKeys:t,userKeys:{lpTokenAccount:M,baseTokenAccount:R,quoteTokenAccount:q,owner:i.owner},amountIn:P}),[V,x]=t.baseMint.equals(r.mintA.mint)?[R,q]:[q,R],U=await u["a"].makeOpenPositionFromLiquidityInstructions({poolInfo:r,ownerInfo:{feePayer:null!==(A=i.payer)&&void 0!==A?A:i.owner,wallet:i.owner,tokenAccountA:V,tokenAccountB:x},withMetadata:"create",...o,getEphemeralSigners:f});let E={instructions:[],signers:[],instructionTypes:[]};if(void 0!==s){const t=[];for(const n of s.poolKeys.rewardInfos){var _,W;const r=n.rewardMint.equals(l["h"].WSOL.mint);t.push(null!==(_=C[n.rewardMint.toString()])&&void 0!==_?_:await this._selectOrCreateTokenAccount({programId:m["l"],mint:n.rewardMint,tokenAccounts:i.tokenAccounts,owner:i.owner,createInfo:{connection:e,payer:null!==(W=i.payer)&&void 0!==W?W:i.owner,frontInstructions:S,frontInstructionsType:T,endInstructions:r?I:[],endInstructionsType:r?j:[],signers:v},associatedOnly:!0,checkCreateATAOwner:b}))}E=d["a"].makeWithdrawInstruction({poolKeys:s.poolKeys,amount:s.amount,userKeys:{ledger:d["a"].getAssociatedLedgerAccount({programId:s.poolKeys.programId,poolId:s.poolKeys.id,owner:i.owner,version:s.poolKeys.version}),lpTokenAccount:M,rewardTokenAccounts:t,owner:i.owner}}).innerTransaction}return{address:{...B.address,...U.address},innerTransactions:await Object(m["u"])({connection:e,makeTxVersion:h,computeBudgetConfig:p,payer:null!==(O=i.payer)&&void 0!==O?O:i.owner,innerTransaction:[{instructionTypes:T,instructions:S,signers:v},E,B.innerTransaction,U.innerTransaction,{instructionTypes:j,instructions:I,signers:[]}],lookupTableCache:g})}}static async fetchAllPoolKeys(e,t,n){const i=(await Promise.all(Object.entries(f["b"]).map(([n,i])=>{try{return e.getProgramAccounts(t[Number(n)],{filters:[{dataSize:i.span}]}).then(e=>e.map(e=>({id:e.pubkey,version:Number(n),programId:t[Number(n)],...i.decode(e.account.data)})))}catch(r){if(r instanceof Error)return g.throwError("failed to fetch pool info",m["e"].errors.RPC_ERROR,{message:r.message})}}))).flat(),o=i.map(e=>e.marketId),a={};try{const t=await Object(m["n"])(e,o,n);for(const e of t){if(null===e)continue;const t={programId:e.owner,...b["a"].decode(e.data)};a[t.ownAddress.toString()]=t}}catch(u){if(u instanceof Error)return g.throwError("failed to fetch markets",m["e"].errors.RPC_ERROR,{message:u.message})}const s={};for(const[r,m]of Object.entries(t))s[r]=this.getAssociatedAuthority({programId:m}).publicKey;const c=[];for(const m of i){if(void 0===m)continue;if(m.baseMint.equals(r["e"].default))continue;const e=a[m.marketId.toString()],t=e.programId;c.push({id:m.id,baseMint:m.baseMint,quoteMint:m.quoteMint,lpMint:m.lpMint,baseDecimals:m.baseDecimal.toNumber(),quoteDecimals:m.quoteDecimal.toNumber(),lpDecimals:"6kmMMacvoCKBkBrqssLEdFuEZu2wqtLdNQxh9VjtzfwT"===m.id.toString()?5:m.baseDecimal.toNumber(),version:m.version,programId:m.programId,authority:s[m.version],openOrders:m.openOrders,targetOrders:m.targetOrders,baseVault:m.baseVault,quoteVault:m.quoteVault,marketVersion:3,marketProgramId:t,marketId:e.ownAddress,marketAuthority:b["b"].getAssociatedAuthority({programId:t,marketId:e.ownAddress}).publicKey,marketBaseVault:e.baseVault,marketQuoteVault:e.quoteVault,marketBids:e.bids,marketAsks:e.asks,marketEventQueue:e.eventQueue,...5===m.version?{modelDataAccount:m.modelDataAccount,withdrawQueue:r["e"].default,lpVault:r["e"].default}:{withdrawQueue:m.withdrawQueue,lpVault:m.lpVault},lookupTableAccount:r["e"].default})}return c}static async fetchInfo({connection:e,poolKeys:t}){const n=await this.fetchMultipleInfo({connection:e,pools:[t]});return g.assertArgument(1===n.length,`fetchInfo failed, ${n.length} pools found`,"poolKeys.id",t.id),n[0]}static async fetchMultipleInfo({connection:e,pools:t,config:n}){await y(e);const i=t.map(e=>this.makeSimulatePoolInfoInstruction({poolKeys:e})),r=await Object(m["t"])(e,i.map(e=>e.innerTransaction.instructions).flat(),"GetPoolData"),o=r.map(e=>{const t=Object(m["r"])(e,"GetPoolData"),n=new a.a(Object(m["s"])(t,"status")),i=Number(Object(m["s"])(t,"coin_decimals")),r=Number(Object(m["s"])(t,"pc_decimals")),o=Number(Object(m["s"])(t,"lp_decimals")),s=new a.a(Object(m["s"])(t,"pool_coin_amount")),c=new a.a(Object(m["s"])(t,"pool_pc_amount")),u=new a.a(Object(m["s"])(t,"pool_lp_supply"));let l="0";try{l=Object(m["s"])(t,"pool_open_time")}catch(d){}return{status:n,baseDecimals:i,quoteDecimals:r,lpDecimals:o,baseReserve:s,quoteReserve:c,lpSupply:u,startTime:new a.a(l)}});return o}static getEnabledFeatures(e){const{status:t}=e,n=t.toNumber();if(n===k.Uninitialized)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(n===k.Initialized)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(n===k.Disabled)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(n===k.RemoveLiquidityOnly)return{swap:!1,addLiquidity:!1,removeLiquidity:!0};if(n===k.LiquidityOnly)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(n===k.OrderBook)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(n===k.Swap)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(n===k.WaitingForStart){const{startTime:t}=e;return Date.now()/1e3<t.toNumber()?{swap:!1,addLiquidity:!0,removeLiquidity:!0}:{swap:!0,addLiquidity:!0,removeLiquidity:!0}}return{swap:!1,addLiquidity:!1,removeLiquidity:!1}}static includesToken(e,t){const{baseMint:n,quoteMint:i}=t;return e.mint.equals(n)||e.mint.equals(i)}static _getTokenSide(e,t){const{baseMint:n,quoteMint:i}=t;return e.mint.equals(n)?"base":e.mint.equals(i)?"quote":g.throwArgumentError("token not match with pool","params",{token:e.mint,baseMint:n,quoteMint:i})}static _getTokensSide(e,t,n){const{baseMint:i,quoteMint:r}=n,o=this._getTokenSide(e,n),a=this._getTokenSide(t,n);return g.assertArgument(o!==a,"tokens not match with pool","params",{tokenA:e.mint,tokenB:t.mint,baseMint:i,quoteMint:r}),[o,a]}static _getAmountSide(e,t){const n=e instanceof l["i"]?e.token:l["h"].WSOL;return this._getTokenSide(n,t)}static _getAmountsSide(e,t,n){const i=e instanceof l["i"]?e.token:l["h"].WSOL,r=t instanceof l["i"]?t.token:l["h"].WSOL;return this._getTokensSide(i,r,n)}static computeAnotherAmount({poolKeys:e,poolInfo:t,amount:n,anotherCurrency:i,slippage:r}){const{baseReserve:o,quoteReserve:a}=t;g.debug("baseReserve:",o.toString()),g.debug("quoteReserve:",a.toString());const s=n instanceof l["i"]?n.token:n.currency;g.debug("currencyIn:",s),g.debug("amount:",n.toFixed()),g.debug("anotherCurrency:",i),g.debug("slippage:",r.toSignificant()+"%");const c=this._getAmountSide(n,e);g.debug("input side:",c);let u=l["j"];n.isZero()||(u="base"===c?Object(l["k"])(n.raw.mul(a),o):Object(l["k"])(n.raw.mul(o),a));const m=Object(l["k"])(n.raw.mul(t.lpSupply),"base"===c?t.baseReserve:t.quoteReserve),d=new l["e"](l["d"]).add(r),p=d.mul(u).quotient,b=i instanceof l["h"]?new l["i"](i,u):new l["b"](i,u),f=i instanceof l["h"]?new l["i"](i,p):new l["b"](i,p);return g.debug("anotheAmount:",b.toFixed()),g.debug("maxAnotheAmount:",f.toFixed()),{anotherAmount:b,maxAnotherAmount:f,liquidity:m}}static _computePriceImpact(e,t,n){const i=e.raw.mul(t),r=i.sub(n).div(i);return new l["e"](r.numerator,r.denominator)}static getRate(e){const{baseReserve:t,quoteReserve:n,baseDecimals:i,quoteDecimals:r}=e,o=new l["f"](new l["a"](i),t,new l["a"](r),n);return o}static computeAmountIn({poolKeys:e,poolInfo:t,amountOut:n,currencyIn:i,slippage:r}){const{baseReserve:o,quoteReserve:a}=t;g.debug("baseReserve:",o.toString()),g.debug("quoteReserve:",a.toString());const s=n instanceof l["i"]?n.token:n.currency;g.debug("currencyOut:",s),g.debug("amountOut:",n.toFixed()),g.debug("currencyIn:",i),g.debug("slippage:",r.toSignificant()+"%");const c=[o,a],u=this._getAmountSide(n,e);"base"===u&&c.reverse(),g.debug("output side:",u);const[m,d]=c,p=new l["f"](i,m,s,d);g.debug("currentPrice:",`1 ${i.symbol}  ${p.toFixed()} ${s.symbol}`),g.debug("currentPrice invert:",`1 ${s.symbol}  ${p.invert().toFixed()} ${i.symbol}`);let b=l["j"],f=n.raw;if(!f.isZero()){f.gt(d)&&(f=d.sub(l["d"]));const e=d.sub(f),t=m.mul(f).div(e);b=t.mul(O).div(O.sub(A))}const h=new l["e"](l["d"]).add(r),w=h.mul(b).quotient,y=i instanceof l["h"]?new l["i"](i,b):new l["b"](i,b),k=i instanceof l["h"]?new l["i"](i,w):new l["b"](i,w);g.debug("amountIn:",y.toFixed()),g.debug("maxAmountIn:",k.toFixed());let S=null;b.isZero()||f.isZero()||(S=new l["f"](i,b,s,f),g.debug("executionPrice:",`1 ${i.symbol}  ${S.toFixed()} ${s.symbol}`),g.debug("executionPrice invert:",`1 ${s.symbol}  ${S.invert().toFixed()} ${i.symbol}`));const I=this._computePriceImpact(p,b,f);return g.debug("priceImpact:",I.toSignificant()+"%"),{amountIn:y,maxAmountIn:k,currentPrice:p,executionPrice:S,priceImpact:I}}}i=S,S.computeAmountOut=({poolKeys:e,poolInfo:t,amountIn:n,currencyOut:r,slippage:o})=>{const c=n instanceof l["i"]?n.token:l["h"].WSOL,u=r instanceof l["h"]?r:l["h"].WSOL;g.assertArgument(i.includesToken(c,e)&&i.includesToken(u,e),"token not match with pool","poolKeys",{poolKeys:e,tokenIn:c,tokenOut:u});const{baseReserve:m,quoteReserve:d}=t;g.debug("baseReserve:",m.toString()),g.debug("quoteReserve:",d.toString());const p=n instanceof l["i"]?n.token:n.currency;g.debug("currencyIn:",p),g.debug("amountIn:",n.toFixed()),g.debug("currencyOut:",r),g.debug("slippage:",o.toSignificant()+"%");const b=[m,d],f=i._getAmountSide(n,e);"quote"===f&&b.reverse(),g.debug("input side:",f);const[y,k]=b;let S;if(4===e.version)S=new l["f"](p,y,r,k);else{const e=Object(h["e"])(w,m.toNumber(),d.toNumber(),!1);S="quote"===f?new l["f"](p,new a.a(1e6*e),r,new a.a(1e6)):new l["f"](p,new a.a(1e6),r,new a.a(1e6*e))}g.debug("currentPrice:",`1 ${p.symbol}  ${S.toFixed()} ${r.symbol}`),g.debug("currentPrice invert:",`1 ${r.symbol}  ${S.invert().toFixed()} ${p.symbol}`);const I=n.raw;let T=l["j"],j=l["j"];if(!I.isZero())if(4===e.version){j=Object(s["a"])(I.mul(A),O);const e=I.sub(j),t=y.add(e);T=k.mul(e).div(t)}else{j=I.mul(new a.a(2)).div(new a.a(1e4));const e=I.sub(j);T="quote"===f?new a.a(Object(h["d"])(w,d.toNumber(),m.toNumber(),e.toNumber())):new a.a(Object(h["c"])(w,d.toNumber(),m.toNumber(),e.toNumber()))}const v=new l["e"](l["d"]).add(o),C=v.invert().mul(T).quotient,M=r instanceof l["h"]?new l["i"](r,T):new l["b"](r,T),P=r instanceof l["h"]?new l["i"](r,C):new l["b"](r,C);g.debug("amountOut:",M.toFixed()),g.debug("minAmountOut:",P.toFixed());let L=new l["f"](p,I.sub(j),r,T);I.isZero()||T.isZero()||(L=new l["f"](p,I.sub(j),r,T),g.debug("executionPrice:",`1 ${p.symbol}  ${L.toFixed()} ${r.symbol}`),g.debug("executionPrice invert:",`1 ${r.symbol}  ${L.invert().toFixed()} ${p.symbol}`));const D=L.denominator.mul(S.numerator),R=L.numerator.mul(S.denominator).sub(D).abs(),q=new l["e"](R,D);g.debug("priceImpact:",q.toSignificant()+"%");const B=p instanceof l["h"]?new l["i"](p,j):new l["b"](p,j);return{amountOut:M,minAmountOut:P,currentPrice:S,executionPrice:L,priceImpact:q,fee:B}}}).call(this,n("1c35").Buffer)},cd9c:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return I}));n("a573");var i=n("64b9"),r=n("8143");const o=new i["e"]("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),a=5e4,s=Object(r["j"])([Object(r["n"])("x"),Object(r["n"])("y"),Object(r["n"])("price")]),c=Object(r["j"])([Object(r["n"])("accountType"),Object(r["n"])("status"),Object(r["n"])("multiplier"),Object(r["n"])("validDataCount"),Object(r["i"])(s,a,"DataElement")]);function u(e,t){return[0,a-2]}function m(e){return[0,a-2]}function l(e){return[0,a-2]}function d(e,t,n){const[i,r]=u(t,n);let o=i,s=r,c=0;const m=t*e.multiplier/n;while(o<=s){if(c=Math.floor((s+o)/2),0===c||c>=a-2)return[c,c,!1];const t=e.DataElement[c].x*e.multiplier/e.DataElement[c].y,n=e.DataElement[c-1].x*e.multiplier/e.DataElement[c-1].y,i=e.DataElement[c+1].x*e.multiplier/e.DataElement[c+1].y;if(m===t)return[c,c,!0];if(m===n)return[c-1,c-1,!0];if(m===i)return[c+1,c+1,!0];if(m<n)s=c-1;else{if(m>n&&m<t)return[c-1,c,!0];if(m>t&&m<i)return[c,c+1,!0];o=c+1}}return[c,c,!1]}function p(e,t,n){const[i,r,o]=d(e,t,n);if(!o)return 0;if(i===r){const n=e.DataElement[i].x,r=t*e.multiplier/n;return r}{const o=e.DataElement[i].x,a=e.DataElement[i].y,s=e.DataElement[r].x,c=e.DataElement[r].y,u=n*(s*a-o*c),m=o*u,l=(s-o)*(t*a-o*n)*c,d=m+l,p=t*e.multiplier*u/d;return p}}function b(e,t,n){return t*e.multiplier/n}function f(e,t,n){return t*n/e.multiplier}function h(e,t){const[n,i]=m(t);let r=n,o=i,s=0;const c=t;while(r<o){if(s=Math.floor((o+r)/2),s<=0||s>a-2)return[s,s,!1];const t=e.DataElement[s].x,n=e.DataElement[s-1].x,i=e.DataElement[s+1].x;if(c===t)return[s,s,!0];if(c===n)return[s-1,s-1,!0];if(c===i)return[s+1,s+1,!0];if(c<n)o=s-1;else{if(c>n&&c<t)return[s-1,s,!0];if(c>t&&c<i)return[s,s+1,!0];r=s+1}}return[s,s,!1]}function g(e,t){const[n,i]=l(t);let r=n,o=i,s=0;const c=t;while(r<=o){if(s=Math.floor((o+r)/2),s<=0||s>=a-2)return[s,s,!1];const t=e.DataElement[s].y,n=e.DataElement[s-1].y,i=e.DataElement[s+1].y;if(c===t)return[s,s,!0];if(c===n)return[s-1,s-1,!0];if(c===i)return[s+1,s+1,!0];if(c<i)r=s+1;else{if(c<n&&c>t)return[s-1,s,!0];if(c<t&&c>i)return[s,s+1,!0];o=s-1}}return[s,s,!1]}function w(e,t,n,i){const r=i?t+n:t-n,[o,a,s]=h(e,r);if(!s)return[0,0,!1,s];if(o===a)return[e.DataElement[a].price,e.DataElement[a].y,!1,s];{const n=e.DataElement[o].x,c=e.DataElement[a].x,u=e.DataElement[o].price,m=e.DataElement[a].price,l=e.DataElement[o].y,d=e.DataElement[a].y;if(t>=n&&t<=c)return i?[m,d,!0,s]:[u,l,!0,s];{let o,a;return i?(o=u+(m-u)*(t-n)/(c-n),a=l-(r-n)*e.multiplier/m):(o=u+(m-u)*(t-n)/(c-n),a=d+(c-r)*e.multiplier/u),[o,a,!1,s]}}}function y(e,t,n,i){const r=i?t-n:t+n,[o,a,s]=g(e,r);if(!s)return[0,0,!1,s];if(o===a)return[e.DataElement[a].price,e.DataElement[a].x,!1,s];{const n=e.DataElement[o].x,c=e.DataElement[a].x,u=e.DataElement[o].price,m=e.DataElement[a].price,l=e.DataElement[o].y,d=e.DataElement[a].y;if(t>=d&&t<=l)return i?[m,c,!0,s]:[u,n,!0,s];{let o,a;return i?(o=u+(m-u)*(l-t)/(l-d),a=n+m*(l-r)/e.multiplier):(o=u+(m-u)*(l-t)/(l-d),a=c-u*(r-d)/e.multiplier),[o,a,!1,s]}}}function k(e,t){const n=w(e,t,0,!1);return n[3]?n[0]:0}function A(e,t,n,i){const r=p(e,t,n),o=b(e,t,r),a=b(e,n,r),s=b(e,i,r),c=!0,[u,m,l,d]=w(e,o,s,c);if(!d)return 0;if(l){const t=i*e.multiplier/u;return t}{const t=a-m,n=f(e,t,r);return n}}function O(e,t,n,i){const r=p(e,t,n),o=b(e,t,r),a=b(e,n,r),s=b(e,i,r),c=!1,[u,m,l,d]=y(e,a,s,c);if(!d)return 0;if(l){const t=i*u/e.multiplier;return t}{const t=o-m,n=f(e,t,r);return n}}function S(e){const t=c.decode(e);return{accountType:t.accountType.toNumber(),status:t.status.toNumber(),multiplier:t.multiplier.toNumber(),validDataCount:t.validDataCount.toNumber(),DataElement:t.DataElement.map(e=>({x:e.x.toNumber(),y:e.y.toNumber(),price:e.price.toNumber()}))}}function I(e,t,n,i){const r=k(e,b(e,t,p(e,t,n)))/e.multiplier;return i?r:1/r}},d32f:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e["InitializeMint"]=0]="InitializeMint",e[e["InitializeAccount"]=1]="InitializeAccount",e[e["InitializeMultisig"]=2]="InitializeMultisig",e[e["Transfer"]=3]="Transfer",e[e["Approve"]=4]="Approve",e[e["Revoke"]=5]="Revoke",e[e["SetAuthority"]=6]="SetAuthority",e[e["MintTo"]=7]="MintTo",e[e["Burn"]=8]="Burn",e[e["CloseAccount"]=9]="CloseAccount",e[e["FreezeAccount"]=10]="FreezeAccount",e[e["ThawAccount"]=11]="ThawAccount",e[e["TransferChecked"]=12]="TransferChecked",e[e["ApproveChecked"]=13]="ApproveChecked",e[e["MintToChecked"]=14]="MintToChecked",e[e["BurnChecked"]=15]="BurnChecked",e[e["InitializeAccount2"]=16]="InitializeAccount2",e[e["SyncNative"]=17]="SyncNative",e[e["InitializeAccount3"]=18]="InitializeAccount3",e[e["InitializeMultisig2"]=19]="InitializeMultisig2",e[e["InitializeMint2"]=20]="InitializeMint2",e[e["GetAccountDataSize"]=21]="GetAccountDataSize",e[e["InitializeImmutableOwner"]=22]="InitializeImmutableOwner",e[e["AmountToUiAmount"]=23]="AmountToUiAmount",e[e["UiAmountToAmount"]=24]="UiAmountToAmount",e[e["InitializeMintCloseAuthority"]=25]="InitializeMintCloseAuthority",e[e["TransferFeeExtension"]=26]="TransferFeeExtension",e[e["ConfidentialTransferExtension"]=27]="ConfidentialTransferExtension",e[e["DefaultAccountStateExtension"]=28]="DefaultAccountStateExtension",e[e["Reallocate"]=29]="Reallocate",e[e["MemoTransferExtension"]=30]="MemoTransferExtension",e[e["CreateNativeMint"]=31]="CreateNativeMint",e[e["InitializeNonTransferableMint"]=32]="InitializeNonTransferableMint",e[e["InterestBearingMintExtension"]=33]="InterestBearingMintExtension",e[e["CpiGuardExtension"]=34]="CpiGuardExtension",e[e["InitializePermanentDelegate"]=35]="InitializePermanentDelegate",e[e["TransferHookExtension"]=36]="TransferHookExtension",e[e["MetadataPointerExtension"]=39]="MetadataPointerExtension"}(i||(i={}))},d677:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("64b9"),r=n("22be");function o(e,t,n){return Object(r["m"])([e.toBuffer(),n.toBuffer(),t.toBuffer()],new i["e"]("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}},e04b:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"j",(function(){return S}));n("f8c9"),n("0643"),n("fffc"),n("a573");var i=n("8143"),r=n("67ac");const o=Object(i["j"])([Object(i["n"])("state"),Object(i["n"])("nonce"),Object(i["g"])("lpVault"),Object(i["g"])("rewardVault"),Object(i["g"])(),Object(i["g"])(),Object(i["n"])(),Object(i["n"])(),Object(i["n"])("totalReward"),Object(i["k"])("perShareReward"),Object(i["n"])("lastSlot"),Object(i["n"])("perSlotReward")]),a=Object(i["j"])([Object(i["n"])("state"),Object(i["n"])("nonce"),Object(i["g"])("lpVault"),Object(i["g"])("rewardVaultA"),Object(i["n"])("totalRewardA"),Object(i["k"])("perShareRewardA"),Object(i["n"])("perSlotRewardA"),Object(i["o"])("option"),Object(i["g"])("rewardVaultB"),Object(i["b"])(7),Object(i["n"])("totalRewardB"),Object(i["k"])("perShareRewardB"),Object(i["n"])("perSlotRewardB"),Object(i["n"])("lastSlot"),Object(i["g"])()]),s=Object(i["j"])([Object(i["n"])("rewardState"),Object(i["n"])("rewardOpenTime"),Object(i["n"])("rewardEndTime"),Object(i["n"])("rewardLastUpdateTime"),Object(i["n"])("totalReward"),Object(i["n"])("totalRewardEmissioned"),Object(i["n"])("rewardClaimed"),Object(i["n"])("rewardPerSecond"),Object(i["k"])("accRewardPerShare"),Object(i["g"])("rewardVault"),Object(i["g"])("rewardMint"),Object(i["g"])("rewardSender"),Object(i["n"])("rewardType"),Object(i["i"])(Object(i["n"])(),15,"padding")]),c=Object(i["j"])([Object(i["n"])(),Object(i["n"])("state"),Object(i["n"])("nonce"),Object(i["n"])("validRewardTokenNum"),Object(i["k"])("rewardMultiplier"),Object(i["n"])("rewardPeriodMax"),Object(i["n"])("rewardPeriodMin"),Object(i["n"])("rewardPeriodExtend"),Object(i["g"])("lpMint"),Object(i["g"])("lpVault"),Object(i["i"])(s,5,"rewardInfos"),Object(i["g"])("creator"),Object(i["g"])(),Object(i["i"])(Object(i["n"])(),32,"padding")]),u=new Proxy(o,{get(e,t,n){return"decode"===t?(...t)=>{const n=e.decode(...t);return{...n,version:3,rewardInfos:[{rewardVault:n.rewardVault,totalReward:n.totalReward,perSlotReward:n.perSlotReward,perShareReward:n.perShareReward}]}}:Reflect.get(e,t,n)}}),m=new Proxy(a,{get(e,t,n){return"decode"===t?(...t)=>{const n=e.decode(...t);return{...n,version:5,rewardInfos:[{rewardVault:n.rewardVaultA,totalReward:n.totalRewardA,perSlotReward:n.perSlotRewardA,perShareReward:n.perShareRewardA},{rewardVault:n.rewardVaultB,totalReward:n.totalRewardB,perSlotReward:n.perSlotRewardB,perShareReward:n.perShareRewardB}]}}:Reflect.get(e,t,n)}}),l=new Proxy(c,{get(e,t,n){return"decode"===t?(...t)=>{const n=e.decode(...t);return{...n,version:6,rewardInfos:n.rewardInfos.map(e=>{var t;return{...e,rewardType:(null!==(t=Object.entries(r["b"]).find(t=>String(t[1])===e.rewardType.toString()))&&void 0!==t?t:["Standard SPL"])[0]}})}}:Reflect.get(e,t,n)}}),d=Object(i["j"])([Object(i["n"])("state"),Object(i["g"])("id"),Object(i["g"])("owner"),Object(i["n"])("deposited"),Object(i["i"])(Object(i["n"])(),1,"rewardDebts")]),p=Object(i["j"])([Object(i["n"])("state"),Object(i["g"])("id"),Object(i["g"])("owner"),Object(i["n"])("deposited"),Object(i["i"])(Object(i["k"])(),1,"rewardDebts"),Object(i["n"])(""),Object(i["n"])("voteLockedBalance"),Object(i["i"])(Object(i["n"])(),15)]),b=Object(i["j"])([Object(i["n"])("state"),Object(i["g"])("id"),Object(i["g"])("owner"),Object(i["n"])("deposited"),Object(i["i"])(Object(i["n"])(),2,"rewardDebts")]),f=Object(i["j"])([Object(i["n"])("state"),Object(i["g"])("id"),Object(i["g"])("owner"),Object(i["n"])("deposited"),Object(i["i"])(Object(i["k"])(),2,"rewardDebts"),Object(i["i"])(Object(i["n"])(),17)]),h=Object(i["j"])([Object(i["n"])(),Object(i["n"])("state"),Object(i["g"])("id"),Object(i["g"])("owner"),Object(i["n"])("deposited"),Object(i["i"])(Object(i["k"])(),5,"rewardDebts"),Object(i["i"])(Object(i["n"])(),16)]),g={3:u,5:m,6:l},w={3:p,5:f,6:h},y=Object(i["j"])([Object(i["g"])("mint"),Object(i["g"])("grantAuthority"),Object(i["n"])("baselineVoteWeightScaledFactor"),Object(i["n"])("maxExtraLockupVoteWeightScaledFactor"),Object(i["n"])("lockupSaturationSecs"),Object(i["f"])("digitShift"),Object(i["i"])(Object(i["o"])(),7,"reserved1"),Object(i["i"])(Object(i["n"])(),7,"reserved2")]),k=Object(i["j"])([Object(i["b"])(8),Object(i["g"])("governanceProgramId"),Object(i["g"])("realm"),Object(i["g"])("realmGoverningTokenMint"),Object(i["g"])("realmAuthority"),Object(i["i"])(Object(i["o"])(),32,"reserved1"),Object(i["i"])(y,4,"votingMints"),Object(i["e"])("timeOffset"),Object(i["o"])("bump"),Object(i["i"])(Object(i["o"])(),7,"reserved2"),Object(i["i"])(Object(i["n"])(),11,"reserved3")]),A=Object(i["j"])([Object(i["e"])("startTime"),Object(i["e"])("endTime"),Object(i["o"])("kind"),Object(i["i"])(Object(i["o"])(),15,"reserved")]),O=Object(i["j"])([Object(i["i"])(A,1,"lockup"),Object(i["n"])("amountDeposited_native"),Object(i["n"])("amountInitiallyLockedNative"),Object(i["c"])("isUsed"),Object(i["c"])("allowClawback"),Object(i["o"])("votingMintConfigIdx"),Object(i["i"])(Object(i["o"])(),29,"reserved")]),S=Object(i["j"])([Object(i["b"])(8),Object(i["g"])("voterAuthority"),Object(i["g"])("registrar"),Object(i["i"])(O,32,"deposits"),Object(i["o"])("voterBump"),Object(i["o"])("voterWweightRecordBump"),Object(i["i"])(Object(i["o"])(),94,"reserved")])},e52c:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));n("14d9"),n("907a"),n("986a"),n("1d02"),n("3c5d"),n("6ce5"),n("2834"),n("4ea1"),n("669d"),n("109c"),n("b2c1");var i=n("4bf9");const r=1,o=1,a=1,s=1,c=1,u=1,m=1,l=1;function d(t){if(t.length<1)throw new i["m"];const[n,...a]=t;if(a.length<n)throw new i["m"];return{data:e.from(a.slice(0,n)),packedLength:r+o+n}}function p(e,t){if(e.length<2)throw new i["m"];const[n,o]=e;if(t.length<o+n)throw new i["m"];return{data:t.subarray(n,n+o),packedLength:r+a+s}}function b(e,t){if(e.length<1)throw new i["m"];const[n]=e;if(t.length<=n)throw new i["m"];return{data:t[n].pubkey.toBuffer(),packedLength:r+c}}async function f(e,t,n){if(e.length<3)throw new i["m"];const[o,a,s]=e;if(t.length<=o)throw new i["m"];const c=await n.getAccountInfo(t[o].pubkey);if(null==c)throw new i["k"];if(c.data.length<a+s)throw new i["m"];return{data:c.data.subarray(a,a+s),packedLength:r+u+m+l}}async function h(e,t,n,r){const[o,...a]=e,s=new Uint8Array(a);switch(o){case 0:return null;case 1:return d(s);case 2:return p(s,n);case 3:return b(s,t);case 4:return f(s,t,r);default:throw new i["m"]}}async function g(e,t,n,i){const r=[];let o=0;while(o<32){const a=await h(e.slice(o),t,n,i);if(null==a)break;r.push(a.data),o+=a.packedLength}return r}}).call(this,n("1c35").Buffer)},e52f:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e[e["Uninitialized"]=0]="Uninitialized",e[e["Mint"]=1]="Mint",e[e["Account"]=2]="Account"}(i||(i={}));const r=1},eba2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r}));const i={symbol:"SOL",name:"Solana",decimals:9},r={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}},o={WSOL:{...r},BTC:{symbol:"BTC",name:"Bitcoin",mint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",decimals:6,extensions:{coingeckoId:"bitcoin"}},ETH:{symbol:"ETH",name:"Ethereum",mint:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",decimals:6,extensions:{coingeckoId:"ethereum"}},USDT:{symbol:"USDT",name:"Tether",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6,extensions:{coingeckoId:"tether"}},WUSDT:{symbol:"WUSDT",name:"Wrapped USDT",mint:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",decimals:6,extensions:{coingeckoId:"tether"}},USDC:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,extensions:{coingeckoId:"usd-coin"}},WUSDC:{symbol:"WUSDC",name:"Wrapped USDC",mint:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",decimals:6,extensions:{coingeckoId:"usd-coin"}},YFI:{symbol:"YFI",name:"YFI",mint:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",decimals:6,extensions:{coingeckoId:"yearn-finance"}},LINK:{symbol:"LINK",name:"Chainlink",mint:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",decimals:6,extensions:{coingeckoId:"chainlink"}},XRP:{symbol:"XRP",name:"XRP",mint:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",decimals:6,extensions:{coingeckoId:"ripple"}},SUSHI:{symbol:"SUSHI",name:"SUSHI",mint:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",decimals:6,extensions:{coingeckoId:"sushi"}},ALEPH:{symbol:"ALEPH",name:"ALEPH",mint:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",decimals:6,extensions:{coingeckoId:"aleph"}},SXP:{symbol:"SXP",name:"SXP",mint:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",decimals:6,extensions:{coingeckoId:"swipe"}},HGET:{symbol:"HGET",name:"HGET",mint:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",decimals:6,extensions:{coingeckoId:"hedget"}},CREAM:{symbol:"CREAM",name:"CREAM",mint:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",decimals:6,extensions:{coingeckoId:"cream-2"}},UNI:{symbol:"UNI",name:"UNI",mint:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",decimals:6,extensions:{coingeckoId:"uniswap"}},SRM:{symbol:"SRM",name:"Serum",mint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",decimals:6,extensions:{coingeckoId:"serum"}},FTT:{symbol:"FTT",name:"FTX Token",mint:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",decimals:6,extensions:{coingeckoId:"ftx-token"}},MSRM:{symbol:"MSRM",name:"MegaSerum",mint:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",decimals:0,extensions:{coingeckoId:"megaserum"}},TOMO:{symbol:"TOMO",name:"TOMO",mint:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",decimals:6,extensions:{coingeckoId:"tomochain"}},KARMA:{symbol:"KARMA",name:"KARMA",mint:"EcqExpGNFBve2i1cMJUTR4bPXj4ZoqmDD2rTkeCcaTFX",decimals:4,extensions:{coingeckoId:"karma-dao"}},LUA:{symbol:"LUA",name:"LUA",mint:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",decimals:6,extensions:{coingeckoId:"lua-token"}},MATH:{symbol:"MATH",name:"MATH",mint:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",decimals:6,extensions:{coingeckoId:"math"}},KEEP:{symbol:"KEEP",name:"KEEP",mint:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",decimals:6,extensions:{coingeckoId:"keep-network"}},SWAG:{symbol:"SWAG",name:"SWAG",mint:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",decimals:6,extensions:{coingeckoId:"swag-finance"}},FIDA:{symbol:"FIDA",name:"Bonfida",mint:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",decimals:6,extensions:{coingeckoId:"bonfida"}},KIN:{symbol:"KIN",name:"Kin",mint:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",decimals:5,extensions:{coingeckoId:"kin"}},MAPS:{symbol:"MAPS",name:"MAPS",mint:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",decimals:6,extensions:{coingeckoId:"maps"}},OXY:{symbol:"OXY",name:"Oxygen",mint:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",decimals:6,extensions:{coingeckoId:"oxygen"}},RAY:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,extensions:{coingeckoId:"raydium"}},xCOPE:{symbol:"xCOPE",name:"xCOPE",mint:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",decimals:0,extensions:{coingeckoId:"cope"}},COPE:{symbol:"COPE",name:"Cope",mint:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",decimals:6,extensions:{coingeckoId:"cope"}},STEP:{symbol:"STEP",name:"Step Finance",mint:"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",decimals:9,extensions:{coingeckoId:"step-finance"}},MEDIA:{symbol:"MEDIA",name:"Media Network",mint:"ETAtLmCmsoiEEKfNrHKJ2kYy3MoABhU6NQvpSfij5tDs",decimals:6,extensions:{coingeckoId:"media-network"}},ROPE:{symbol:"ROPE",name:"Rope Token",mint:"8PMHT4swUMtBzgHnh5U564N5sjPSiUz2cjEQzFnnP1Fo",decimals:9,extensions:{coingeckoId:"rope-token"}},MER:{symbol:"MER",name:"Mercurial",mint:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",decimals:6,extensions:{coingeckoId:"mercurial"}},TULIP:{symbol:"TULIP",name:"Tulip Protocol",mint:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",decimals:6,extensions:{coingeckoId:"solfarm"}},SNY:{symbol:"SNY",name:"SNY",mint:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",decimals:6,extensions:{coingeckoId:"synthetify-token"}},SLRS:{symbol:"SLRS",name:"SLRS",mint:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",decimals:6,extensions:{coingeckoId:"solrise-finance"}},WOO:{symbol:"WOO",name:"WOO Network",mint:"E5rk3nmgLUuKUiS94gg4bpWwWwyjCMtddsAXkTFLtHEy",decimals:6,extensions:{coingeckoId:"woo-network"}},BOP:{symbol:"BOP",name:"Boring Protocol",mint:"BLwTnYKqf7u4qjgZrrsKeNs2EzWkMLqVCu6j8iHyrNA3",decimals:8,extensions:{coingeckoId:"boring-protocol"}},SAMO:{symbol:"SAMO",name:"Samoyedcoin",mint:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",decimals:9,extensions:{coingeckoId:"samoyedcoin"}},renBTC:{symbol:"renBTC",name:"renBTC",mint:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",decimals:8,extensions:{coingeckoId:"renbtc"}},renDOGE:{symbol:"renDOGE",name:"renDOGE",mint:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",decimals:8,extensions:{coingeckoId:"rendoge"}},LIKE:{symbol:"LIKE",name:"Only1",mint:"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",decimals:9,extensions:{coingeckoId:"only1"}},DXL:{symbol:"DXL",name:"Dexlab",mint:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",decimals:6,extensions:{coingeckoId:"dexlab"}},mSOL:{symbol:"mSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9,extensions:{coingeckoId:"msol"}},PAI:{symbol:"PAI",name:"Parrot USD",mint:"Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS",decimals:6,extensions:{coingeckoId:"parrot-usd"}},PORT:{symbol:"PORT",name:"Port Finance",mint:"PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",decimals:6,extensions:{coingeckoId:"port-finance"}},MNGO:{symbol:"MNGO",name:"Mango",mint:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",decimals:6,extensions:{coingeckoId:"mango-markets"}},CRP:{symbol:"CRP",name:"CropperFinance",mint:"DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",decimals:9,extensions:{coingeckoId:"cropperfinance"}},ATLAS:{symbol:"ATLAS",name:"Star Atlas",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,extensions:{coingeckoId:"star-atlas"}},POLIS:{symbol:"POLIS",name:"Star Atlas DAO",mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,extensions:{coingeckoId:"star-atlas-dao"}},GRAPE:{symbol:"GRAPE",name:"Grape Protocol",mint:"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA",decimals:6,extensions:{coingeckoId:"grape-2"}},GENE:{symbol:"GENE",name:"Genopets",mint:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",decimals:9,extensions:{coingeckoId:"genopets"}},DFL:{symbol:"DFL",name:"DeFi Land",mint:"DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",decimals:9,extensions:{coingeckoId:"defi-land"}},CHEEMS:{symbol:"CHEEMS",name:"Cheems",mint:"3FoUAsGDbvTD6YZ4wVKJgTB76onJUKz7GPEBNiR5b8wc",decimals:4,extensions:{coingeckoId:"cheems"}},stSOL:{symbol:"stSOL",name:"Lido Staked SOL",mint:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",decimals:9,extensions:{coingeckoId:"lido-staked-sol"}},LARIX:{symbol:"LARIX",name:"Larix",mint:"Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",decimals:6,extensions:{coingeckoId:"larix"}},RIN:{symbol:"RIN",name:"Aldrin",mint:"E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",decimals:9,extensions:{coingeckoId:"aldrin"}},APEX:{symbol:"APEX",name:"ApeXit Finance",mint:"51tMb3zBKDiQhNwGqpgwbavaGH54mk8fXFzxTc1xnasg",decimals:9,extensions:{coingeckoId:"apexit-finance"}},MNDE:{symbol:"MNDE",name:"Marinade",mint:"MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",decimals:9,extensions:{coingeckoId:"marinade"}},LIQ:{symbol:"LIQ",name:"LIQ Protocol",mint:"4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",decimals:6,extensions:{coingeckoId:"liq-protocol"}},WAG:{symbol:"WAG",name:"Waggle Network",mint:"5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",decimals:9,extensions:{coingeckoId:"waggle-network"}},wLDO:{symbol:"wLDO",name:"wLDO",mint:"HZRCwxP2Vq9PCpPXooayhJ2bxTpo5xfpQrwB1svh332p",decimals:8,extensions:{}},SLIM:{symbol:"SLIM",name:"Solanium",mint:"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",decimals:6,extensions:{coingeckoId:"solanium"}},PRT:{symbol:"PRT",name:"Parrot Protocol",mint:"PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",decimals:6,extensions:{coingeckoId:"parrot-protocol"}},SBR:{symbol:"SBR",name:"SBR",mint:"Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",decimals:6,extensions:{}},FAB:{symbol:"FAB",name:"Fabric",mint:"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96",decimals:9,extensions:{coingeckoId:"fabric"}},ABR:{symbol:"ABR",name:"Allbridge",mint:"a11bdAAuV8iB2fu7X6AxAvDTo1QZ8FXB3kk5eecdasp",decimals:9,extensions:{coingeckoId:"allbridge"}},IVN:{symbol:"IVN",name:"Investin",mint:"iVNcrNE9BRZBC9Aqf753iZiZfbszeAVUoikgT9yvr2a",decimals:6,extensions:{coingeckoId:"investin"}},CYS:{symbol:"CYS",name:"Cyclos",mint:"BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",decimals:6,extensions:{coingeckoId:"cyclos"}},FRKT:{symbol:"FRKT",name:"FRAKT Token",mint:"ErGB9xa24Szxbk1M28u2Tx8rKPqzL6BroNkkzk5rG4zj",decimals:8,extensions:{coingeckoId:"frakt-token"}},AURY:{symbol:"AURY",name:"Aurory",mint:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",decimals:9,extensions:{coingeckoId:"aurory"}},SYP:{symbol:"SYP",name:"Sypool",mint:"FnKE9n6aGjQoNWRBZXy4RW6LZVao7qwBonUbiD7edUmZ",decimals:9,extensions:{coingeckoId:"sypool"}},WOOF:{symbol:"WOOF",name:"WOOF",mint:"9nEqaUcb16sQ3Tn1psbkWqyhPdLmfHWjKGymREjsAgTE",decimals:6,extensions:{coingeckoId:"woof-token"}},ORCA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6,extensions:{coingeckoId:"orca"}},SLND:{symbol:"SLND",name:"Solend",mint:"SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",decimals:6,extensions:{coingeckoId:"solend"}},weWETH:{symbol:"weWETH",name:"weWETH",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,extensions:{}},weUNI:{symbol:"weUNI",name:"weUNI",mint:"8FU95xFJhUUkyyCLU13HSzDLs7oC4QZdXQHL6SCeab36",decimals:8,extensions:{}},weSUSHI:{symbol:"weSUSHI",name:"weSUSHI",mint:"ChVzxWRmrTeSgwd3Ui3UumcN8KX7VK3WaD4KGeSKpypj",decimals:8,extensions:{}},GOFX:{symbol:"GOFX",name:"GooseFX",mint:"GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",decimals:9,extensions:{coingeckoId:"goosefx"}},IN:{symbol:"IN",name:"Invictus",mint:"inL8PMVd6iiW3RCBJnr5AsrRN6nqr4BTrcNuQWQSkvY",decimals:9,extensions:{coingeckoId:"invictus"}},weDYDX:{symbol:"weDYDX",name:"weDYDX",mint:"4Hx6Bj56eGyw8EJrrheM6LBQAvVYRikYCWsALeTrwyRU",decimals:8,extensions:{}},STARS:{symbol:"STARS",name:"StarLaunch",mint:"HCgybxq5Upy8Mccihrp7EsmwwFqYZtrHrsmsKwtGXLgW",decimals:6,extensions:{coingeckoId:"starlaunch"}},weAXS:{symbol:"weAXS",name:"weAXS",mint:"HysWcbHiYY9888pHbaqhwLYZQeZrcQMXKQWRqS7zcPK5",decimals:8,extensions:{}},weSHIB:{symbol:"weSHIB",name:"weSHIB",mint:"CiKu4eHsVrc1eueVQeHn7qhXTcVu95gSQmBpX4utjL9z",decimals:8,extensions:{}},OXS:{symbol:"OXS",name:"Oxbull Solana",mint:"4TGxgCSJQx2GQk9oHZ8dC5m3JNXTYZHjXumKAW3vLnNx",decimals:9,extensions:{coingeckoId:"oxbull-solana"}},CWAR:{symbol:"CWAR",name:"Cryowar",mint:"HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",decimals:9,extensions:{coingeckoId:"cryowar-token"}},UPS:{symbol:"UPS",name:"UPFI Network",mint:"EwJN2GqUGXXzYmoAciwuABtorHczTA5LqbukKXV1viH7",decimals:6,extensions:{coingeckoId:"upfi-network"}},weSAND:{symbol:"weSAND",name:"weSAND",mint:"49c7WuCZkQgc3M4qH8WuEUNXfgwupZf1xqWkDQ7gjRGt",decimals:8,extensions:{}},weMANA:{symbol:"weMANA",name:"weMANA",mint:"7dgHoN8wBZCc5wbnQ2C47TDnBMAxG4Q5L3KjP67z8kNi",decimals:8,extensions:{}},CAVE:{symbol:"CAVE",name:"Crypto Cavemen",mint:"4SZjjNABoqhbd4hnapbvoEPEqT8mnNkfbEoAwALf1V8t",decimals:6,extensions:{coingeckoId:"cave"}},JSOL:{symbol:"JSOL",name:"JPool",mint:"7Q2afV64in6N6SeZsAAB81TJzwDoD6zpqmHkzi9Dcavn",decimals:9,extensions:{coingeckoId:"jpool"}},APT:{symbol:"APT",name:"Apricot",mint:"APTtJyaRX5yGTsJU522N4VYWg3vCvSb65eam5GrPT5Rt",decimals:6,extensions:{coingeckoId:"apricot"}},SONAR:{symbol:"SONAR",name:"SonarWatch",mint:"sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",decimals:9,extensions:{coingeckoId:"sonarwatch"}},SHILL:{symbol:"SHILL",name:"SHILL Token",mint:"6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",decimals:6,extensions:{coingeckoId:"shill-token"}},TTT:{symbol:"TTT",name:"TabTrader",mint:"FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",decimals:6,extensions:{coingeckoId:"tabtrader"}},BOKU:{symbol:"BOKU",name:"Boryoku Dragonz",mint:"CN7qFa5iYkHz99PTctvT4xXUHnxwjQ5MHxCuTJtPN5uS",decimals:9,extensions:{coingeckoId:"boku"}},MIMO:{symbol:"MIMO",name:"Million Monke",mint:"9TE7ebz1dsFo1uQ2T4oYAKSm39Y6fWuHrd6Uk6XaiD16",decimals:9,extensions:{coingeckoId:"million-monke"}},wbWBNB:{symbol:"wbWBNB",name:"wbWBNB",mint:"9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",decimals:8,extensions:{}},wePEOPLE:{symbol:"wePEOPLE",name:"wePEOPLE",mint:"CobcsUrt3p91FwvULYKorQejgsm5HoQdv5T8RUZ6PnLA",decimals:8,extensions:{}},XTAG:{symbol:"XTAG",name:"xHashtag",mint:"5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",decimals:6,extensions:{coingeckoId:"xhashtag"}},KKO:{symbol:"KKO",name:"Kineko",mint:"kiNeKo77w1WBEzFFCXrTDRWGRWGP8yHvKC9rX6dqjQh",decimals:9,extensions:{coingeckoId:"kineko"}},VI:{symbol:"VI",name:"Vybit",mint:"7zBWymxbZt7PVHQzfi3i85frc1YRiQc23K7bh3gos8ZC",decimals:9,extensions:{coingeckoId:"vybit"}},SOLC:{symbol:"SOLC",name:"Solcubator",mint:"Bx1fDtvTN6NvE4kjdPHQXtmGSg582bZx9fGy4DQNMmAT",decimals:9,extensions:{coingeckoId:"solcubator"}},STR:{symbol:"STR",name:"Solster",mint:"9zoqdwEBKWEi9G5Ze8BSkdmppxGgVv1Kw4LuigDiNr9m",decimals:9,extensions:{coingeckoId:"solster"}},SPWN:{symbol:"SPWN",name:"Bitspawn",mint:"5U9QqCPhqXAJcEv9uyzFJd5zhN93vuPk1aNNkXnUfPnt",decimals:9,extensions:{coingeckoId:"bitspawn"}},ISOLA:{symbol:"ISOLA",name:"Intersola",mint:"333iHoRM2Awhf9uVZtSyTfU8AekdGrgQePZsKMFPgKmS",decimals:6,extensions:{coingeckoId:"intersola"}},RUN:{symbol:"RUN",name:"Run",mint:"6F9XriABHfWhit6zmMUYAQBSy6XK5VF1cHXuW5LDpRtC",decimals:9,extensions:{coingeckoId:"run"}},REAL:{symbol:"REAL",name:"Realy Metaverse",mint:"AD27ov5fVU2XzwsbvnFvb1JpCBaCB5dRXrczV9CqSVGb",decimals:9,extensions:{coingeckoId:"realy-metaverse"}},CRWNY:{symbol:"CRWNY",name:"CRWNY",mint:"CRWNYkqdgvhGGae9CKfNka58j6QQkaD5bLhKXvUYqnc1",decimals:6,extensions:{}},BLOCK:{symbol:"BLOCK",name:"Blockasset",mint:"NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",decimals:6,extensions:{coingeckoId:"blockasset"}},SOLAR:{symbol:"SOLAR",name:"Solar",mint:"2wmKXX1xsxLfrvjEPrt2UHiqj8Gbzwxvffr9qmNjsw8g",decimals:9,extensions:{coingeckoId:"solar"}},BASIS:{symbol:"BASIS",name:"basis.markets",mint:"Basis9oJw9j8cw53oMV7iqsgo6ihi9ALw4QR31rcjUJa",decimals:6,extensions:{coingeckoId:"basis-markets"}},SOLX:{symbol:"SOLX",name:"Soldex",mint:"CH74tuRLTYcxG7qNJCsV9rghfLXJCQJbsu7i52a8F1Gn",decimals:9,extensions:{coingeckoId:"soldex"}},CHICKS:{symbol:"CHICKS",name:"SolChicks Token",mint:"cxxShYRVcepDudXhe7U62QHvw8uBJoKFifmzggGKVC2",decimals:9,extensions:{coingeckoId:"solchicks-token"}},GST:{symbol:"GST",name:"GST",mint:"AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB",decimals:9,extensions:{coingeckoId:"gst"}},MBS:{symbol:"MBS",name:"MonkeyBall",mint:"Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",decimals:6,extensions:{coingeckoId:"monkeyball"}},PRISM:{symbol:"PRISM",name:"Prism",mint:"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",decimals:6,extensions:{coingeckoId:"prism"}},MEAN:{symbol:"MEAN",name:"Meanfi",mint:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",decimals:6,extensions:{coingeckoId:"meanfi"}},TINY:{symbol:"TINY",name:"Tiny Colony",mint:"HKfs24UEDQpHS5hUyKYkHd9q7GY5UQ679q2bokeL2whu",decimals:6,extensions:{coingeckoId:"tiny-colony"}},SHDW:{symbol:"SHDW",name:"GenesysGo Shadow",mint:"SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",decimals:9,extensions:{coingeckoId:"genesysgo-shadow"}},SCY:{symbol:"SCY",name:"Synchrony",mint:"SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",decimals:9,extensions:{coingeckoId:"synchrony"}},SLC:{symbol:"SLC",name:"Solice",mint:"METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",decimals:6,extensions:{coingeckoId:"solice"}}},a={FIDA_RAY_V4:{symbol:"FIDA-RAY",name:"FIDA-RAY V4 LP",mint:"DsBuznXRTmzvEdb36Dx3aVLVo1XmH7r1PRZUFugLPTFv",base:o.FIDA,quote:o.RAY,decimals:o.FIDA.decimals,version:4},OXY_RAY_V4:{symbol:"OXY-RAY",name:"OXY-RAY V4 LP",mint:"FwaX9W7iThTZH5MFeasxdLpxTVxRcM7ZHieTCnYog8Yb",base:o.OXY,quote:o.RAY,decimals:o.OXY.decimals,version:4},MAPS_RAY_V4:{symbol:"MAPS-RAY",name:"MAPS-RAY V4 LP",mint:"CcKK8srfVdTSsFGV3VLBb2YDbzF4T4NM2C3UEjC39RLP",base:o.MAPS,quote:o.RAY,decimals:o.MAPS.decimals,version:4},KIN_RAY_V4:{symbol:"KIN-RAY",name:"KIN-RAY V4 LP",mint:"CHT8sft3h3gpLYbCcZ9o27mT5s3Z6VifBVbUiDvprHPW",base:o.KIN,quote:o.RAY,decimals:6,version:4},RAY_USDT_V4:{symbol:"RAY-USDT",name:"RAY-USDT V4 LP",mint:"C3sT1R3nsw4AVdepvLTLKr5Gvszr7jufyBWUCvy4TUvT",base:o.RAY,quote:o.USDT,decimals:o.RAY.decimals,version:4},SOL_USDC_V4:{symbol:"SOL-USDC",name:"SOL-USDC V4 LP",mint:"8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu",base:o.WSOL,quote:o.USDC,decimals:o.WSOL.decimals,version:4},YFI_USDC_V4:{symbol:"YFI-USDC",name:"YFI-USDC V4 LP",mint:"865j7iMmRRycSYUXzJ33ZcvLiX9JHvaLidasCyUyKaRE",base:o.YFI,quote:o.USDC,decimals:o.YFI.decimals,version:4},SRM_USDC_V4:{symbol:"SRM-USDC",name:"SRM-USDC V4 LP",mint:"9XnZd82j34KxNLgQfz29jGbYdxsYznTWRpvZE3SRE7JG",base:o.SRM,quote:o.USDC,decimals:o.SRM.decimals,version:4},FTT_USDC_V4:{symbol:"FTT-USDC",name:"FTT-USDC V4 LP",mint:"75dCoKfUHLUuZ4qEh46ovsxfgWhB4icc3SintzWRedT9",base:o.FTT,quote:o.USDC,decimals:o.FTT.decimals,version:4},BTC_USDC_V4:{symbol:"BTC-USDC",name:"BTC-USDC V4 LP",mint:"2hMdRdVWZqetQsaHG8kQjdZinEMBz75vsoWTCob1ijXu",base:o.BTC,quote:o.USDC,decimals:o.BTC.decimals,version:4},SUSHI_USDC_V4:{symbol:"SUSHI-USDC",name:"SUSHI-USDC V4 LP",mint:"2QVjeR9d2PbSf8em8NE8zWd8RYHjFtucDUdDgdbDD2h2",base:o.SUSHI,quote:o.USDC,decimals:o.SUSHI.decimals,version:4},TOMO_USDC_V4:{symbol:"TOMO-USDC",name:"TOMO-USDC V4 LP",mint:"CHyUpQFeW456zcr5XEh4RZiibH8Dzocs6Wbgz9aWpXnQ",base:o.TOMO,quote:o.USDC,decimals:o.TOMO.decimals,version:4},LINK_USDC_V4:{symbol:"LINK-USDC",name:"LINK-USDC V4 LP",mint:"BqjoYjqKrXtfBKXeaWeAT5sYCy7wsAYf3XjgDWsHSBRs",base:o.LINK,quote:o.USDC,decimals:o.LINK.decimals,version:4},ETH_USDC_V4:{symbol:"ETH-USDC",name:"ETH-USDC V4 LP",mint:"13PoKid6cZop4sj2GfoBeujnGfthUbTERdE5tpLCDLEY",base:o.ETH,quote:o.USDC,decimals:o.ETH.decimals,version:4},xCOPE_USDC_V4:{symbol:"xCOPE-USDC",name:"xCOPE-USDC V4 LP",mint:"2Vyyeuyd15Gp8aH6uKE72c4hxc8TVSLibxDP9vzspQWG",base:o.xCOPE,quote:o.USDC,decimals:o.xCOPE.decimals,version:4},SOL_USDT_V4:{symbol:"SOL-USDT",name:"SOL-USDT V4 LP",mint:"Epm4KfTj4DMrvqn6Bwg2Tr2N8vhQuNbuK8bESFp4k33K",base:o.WSOL,quote:o.USDT,decimals:o.WSOL.decimals,version:4},YFI_USDT_V4:{symbol:"YFI-USDT",name:"YFI-USDT V4 LP",mint:"FA1i7fej1pAbQbnY8NbyYUsTrWcasTyipKreDgy1Mgku",base:o.YFI,quote:o.USDT,decimals:o.YFI.decimals,version:4},SRM_USDT_V4:{symbol:"SRM-USDT",name:"SRM-USDT V4 LP",mint:"HYSAu42BFejBS77jZAZdNAWa3iVcbSRJSzp3wtqCbWwv",base:o.SRM,quote:o.USDT,decimals:o.SRM.decimals,version:4},FTT_USDT_V4:{symbol:"FTT-USDT",name:"FTT-USDT V4 LP",mint:"2cTCiUnect5Lap2sk19xLby7aajNDYseFhC9Pigou11z",base:o.FTT,quote:o.USDT,decimals:o.FTT.decimals,version:4},BTC_USDT_V4:{symbol:"BTC-USDT",name:"BTC-USDT V4 LP",mint:"DgGuvR9GSHimopo3Gc7gfkbKamLKrdyzWkq5yqA6LqYS",base:o.BTC,quote:o.USDT,decimals:o.BTC.decimals,version:4},SUSHI_USDT_V4:{symbol:"SUSHI-USDT",name:"SUSHI-USDT V4 LP",mint:"Ba26poEYDy6P2o95AJUsewXgZ8DM9BCsmnU9hmC9i4Ki",base:o.SUSHI,quote:o.USDT,decimals:o.SUSHI.decimals,version:4},TOMO_USDT_V4:{symbol:"TOMO-USDT",name:"TOMO-USDT V4 LP",mint:"D3iGro1vn6PWJXo9QAPj3dfta6dKkHHnmiiym2EfsAmi",base:o.TOMO,quote:o.USDT,decimals:o.TOMO.decimals,version:4},LINK_USDT_V4:{symbol:"LINK-USDT",name:"LINK-USDT V4 LP",mint:"Dr12Sgt9gkY8WU5tRkgZf1TkVWJbvjYuPAhR3aDCwiiX",base:o.LINK,quote:o.USDT,decimals:o.LINK.decimals,version:4},ETH_USDT_V4:{symbol:"ETH-USDT",name:"ETH-USDT V4 LP",mint:"nPrB78ETY8661fUgohpuVusNCZnedYCgghzRJzxWnVb",base:o.ETH,quote:o.USDT,decimals:o.ETH.decimals,version:4},YFI_SRM_V4:{symbol:"YFI-SRM",name:"YFI-SRM V4 LP",mint:"EGJht91R7dKpCj8wzALkjmNdUUUcQgodqWCYweyKcRcV",base:o.YFI,quote:o.SRM,decimals:o.YFI.decimals,version:4},FTT_SRM_V4:{symbol:"FTT-SRM",name:"FTT-SRM V4 LP",mint:"AsDuPg9MgPtt3jfoyctUCUgsvwqAN6RZPftqoeiPDefM",base:o.FTT,quote:o.SRM,decimals:o.FTT.decimals,version:4},BTC_SRM_V4:{symbol:"BTC-SRM",name:"BTC-SRM V4 LP",mint:"AGHQxXb3GSzeiLTcLtXMS2D5GGDZxsB2fZYZxSB5weqB",base:o.BTC,quote:o.SRM,decimals:o.BTC.decimals,version:4},SUSHI_SRM_V4:{symbol:"SUSHI-SRM",name:"SUSHI-SRM V4 LP",mint:"3HYhUnUdV67j1vn8fu7ExuVGy5dJozHEyWvqEstDbWwE",base:o.SUSHI,quote:o.SRM,decimals:o.SUSHI.decimals,version:4},TOMO_SRM_V4:{symbol:"TOMO-SRM",name:"TOMO-SRM V4 LP",mint:"GgH9RnKrQpaMQeqmdbMvs5oo1A24hERQ9wuY2pSkeG7x",base:o.TOMO,quote:o.SRM,decimals:o.TOMO.decimals,version:4},LINK_SRM_V4:{symbol:"LINK-SRM",name:"LINK-SRM V4 LP",mint:"GXN6yJv12o18skTmJXaeFXZVY1iqR18CHsmCT8VVCmDD",base:o.LINK,quote:o.SRM,decimals:o.LINK.decimals,version:4},ETH_SRM_V4:{symbol:"ETH-SRM",name:"ETH-SRM V4 LP",mint:"9VoY3VERETuc2FoadMSYYizF26mJinY514ZpEzkHMtwG",base:o.ETH,quote:o.SRM,decimals:o.ETH.decimals,version:4},SRM_SOL_V4:{symbol:"SRM-SOL",name:"SRM-SOL V4 LP",mint:"AKJHspCwDhABucCxNLXUSfEzb7Ny62RqFtC9uNjJi4fq",base:o.SRM,quote:o.WSOL,decimals:o.SRM.decimals,version:4},STEP_USDC_V4:{symbol:"STEP-USDC",name:"STEP-USDC V4 LP",mint:"3k8BDobgihmk72jVmXYLE168bxxQUhqqyESW4dQVktqC",base:o.STEP,quote:o.USDC,decimals:o.STEP.decimals,version:4},MEDIA_USDC_V4:{symbol:"MEDIA-USDC",name:"MEDIA-USDC V4 LP",mint:"A5zanvgtioZGiJMdEyaKN4XQmJsp1p7uVxaq2696REvQ",base:o.MEDIA,quote:o.USDC,decimals:o.MEDIA.decimals,version:4},ROPE_USDC_V4:{symbol:"ROPE-USDC",name:"ROPE-USDC V4 LP",mint:"Cq4HyW5xia37tKejPF2XfZeXQoPYW6KfbPvxvw5eRoUE",base:o.ROPE,quote:o.USDC,decimals:o.ROPE.decimals,version:4},MER_USDC_V4:{symbol:"MER-USDC",name:"MER-USDC V4 LP",mint:"3H9NxvaZoxMZZDZcbBDdWMKbrfNj7PCF5sbRwDr7SdDW",base:o.MER,quote:o.USDC,decimals:o.MER.decimals,version:4},COPE_USDC_V4:{symbol:"COPE-USDC",name:"COPE-USDC V4 LP",mint:"Cz1kUvHw98imKkrqqu95GQB9h1frY8RikxPojMwWKGXf",base:o.COPE,quote:o.USDC,decimals:o.COPE.decimals,version:4},ALEPH_USDC_V4:{symbol:"ALEPH-USDC",name:"ALEPH-USDC V4 LP",mint:"iUDasAP2nXm5wvTukAHEKSdSXn8vQkRtaiShs9ceGB7",base:o.ALEPH,quote:o.USDC,decimals:o.ALEPH.decimals,version:4},TULIP_USDC_V4:{symbol:"TULIP-USDC",name:"TULIP-USDC V4 LP",mint:"2doeZGLJyACtaG9DCUyqMLtswesfje1hjNA11hMdj6YU",base:o.TULIP,quote:o.USDC,decimals:o.TULIP.decimals,version:4},WOO_USDC_V4:{symbol:"WOO-USDC",name:"WOO-USDC V4 LP",mint:"7cu42ao8Jgrd5A3y3bNQsCxq5poyGZNmTydkGfJYQfzh",base:o.WOO,quote:o.USDC,decimals:o.WOO.decimals,version:4},SNY_USDC_V4:{symbol:"SNY-USDC",name:"SNY-USDC V4 LP",mint:"G8qcfeFqxwbCqpxv5LpLWxUCd1PyMB5nWb5e5YyxLMKg",base:o.SNY,quote:o.USDC,decimals:o.SNY.decimals,version:4},BOP_RAY_V4:{symbol:"BOP-RAY",name:"BOP-RAY V4 LP",mint:"9nQPYJvysyfnXhQ6nkK5V7sZG26hmDgusfdNQijRk5LD",base:o.BOP,quote:o.RAY,decimals:o.BOP.decimals,version:4},SLRS_USDC_V4:{symbol:"SLRS-USDC",name:"SLRS-USDC V4 LP",mint:"2Xxbm1hdv5wPeen5ponDSMT3VqhGMTQ7mH9stNXm9shU",base:o.SLRS,quote:o.USDC,decimals:o.SLRS.decimals,version:4},SAMO_RAY_V4:{symbol:"SAMO-RAY",name:"SAMO-RAY V4 LP",mint:"HwzkXyX8B45LsaHXwY8su92NoRBS5GQC32HzjQRDqPnr",base:o.SAMO,quote:o.RAY,decimals:o.SAMO.decimals,version:4},renBTC_USDC_V4:{symbol:"renBTC-USDC",name:"renBTC-USDC V4 LP",mint:"CTEpsih91ZLo5gunvryLpJ3pzMjmt5jbS6AnSQrzYw7V",base:o.renBTC,quote:o.USDC,decimals:o.renBTC.decimals,version:4},renDOGE_USDC_V4:{symbol:"renDOGE-USDC",name:"renDOGE-USDC V4 LP",mint:"Hb8KnZNKvRxu7pgMRWJgoMSMcepfvNiBFFDDrdf9o3wA",base:o.renDOGE,quote:o.USDC,decimals:o.renDOGE.decimals,version:4},RAY_USDC_V4:{symbol:"RAY-USDC",name:"RAY-USDC V4 LP",mint:"FbC6K13MzHvN42bXrtGaWsvZY9fxrackRSZcBGfjPc7m",base:o.RAY,quote:o.USDC,decimals:o.RAY.decimals,version:4},RAY_SRM_V4:{symbol:"RAY-SRM",name:"RAY-SRM V4 LP",mint:"7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe",base:o.RAY,quote:o.SRM,decimals:o.RAY.decimals,version:4},RAY_ETH_V4:{symbol:"RAY-ETH",name:"RAY-ETH V4 LP",mint:"mjQH33MqZv5aKAbKHi8dG3g3qXeRQqq1GFcXceZkNSr",base:o.RAY,quote:o.ETH,decimals:o.RAY.decimals,version:4},RAY_SOL_V4:{symbol:"RAY-SOL",name:"RAY-SOL V4 LP",mint:"89ZKE4aoyfLBe2RuV6jM3JGNhaV18Nxh8eNtjRcndBip",base:o.RAY,quote:o.WSOL,decimals:o.RAY.decimals,version:4},DXL_USDC_V4:{symbol:"DXL-USDC",name:"DXL-USDC V4 LP",mint:"4HFaSvfgskipvrzT1exoVKsUZ174JyExEsA8bDfsAdY5",base:o.DXL,quote:o.USDC,decimals:o.DXL.decimals,version:4},LIKE_USDC_V4:{symbol:"LIKE-USDC",name:"LIKE-USDC V4 LP",mint:"cjZmbt8sJgaoyWYUttomAu5LJYU44ZrcKTbzTSEPDVw",base:o.LIKE,quote:o.USDC,decimals:o.LIKE.decimals,version:4},mSOL_USDC_V4:{symbol:"mSOL-USDC",name:"mSOL-USDC V4 LP",mint:"4xTpJ4p76bAeggXoYywpCCNKfJspbuRzZ79R7pRhbqSf",base:o.mSOL,quote:o.USDC,decimals:o.mSOL.decimals,version:4},mSOL_SOL_V4:{symbol:"mSOL-SOL",name:"mSOL-SOL V4 LP",mint:"5ijRoAHVgd5T5CNtK5KDRUBZ7Bffb69nktMj5n6ks6m4",base:o.mSOL,quote:o.WSOL,decimals:o.mSOL.decimals,version:4},MER_PAI_V4:{symbol:"MER-PAI",name:"MER-PAI V4 LP",mint:"DU5RT2D9EviaSmX6Ta8MZwMm85HwSEqGMRdqUiuCGfmD",base:o.MER,quote:o.PAI,decimals:o.MER.decimals,version:4},PORT_USDC_V4:{symbol:"PORT-USDC",name:"PORT-USDC V4 LP",mint:"9tmNtbUCrLS15qC4tEfr5NNeqcqpZ4uiGgi2vS5CLQBS",base:o.PORT,quote:o.USDC,decimals:o.PORT.decimals,version:4},MNGO_USDC_V4:{symbol:"MNGO-USDC",name:"MNGO-USDC V4 LP",mint:"DkiqCQ792n743xjWQVCbBUaVtkdiuvQeYndM53ReWnCC",base:o.MNGO,quote:o.USDC,decimals:o.MNGO.decimals,version:4},ATLAS_USDC_V4:{symbol:"ATLAS-USDC",name:"ATLAS-USDC V4 LP",mint:"9shGU9f1EsxAbiR567MYZ78WUiS6ZNCYbHe53WUULQ7n",base:o.ATLAS,quote:o.USDC,decimals:o.ATLAS.decimals,version:4},POLIS_USDC_V4:{symbol:"POLIS-USDC",name:"POLIS-USDC V4 LP",mint:"8MbKSBpyXs8fVneKgt71jfHrn5SWtX8n4wMLpiVfF9So",base:o.POLIS,quote:o.USDC,decimals:o.POLIS.decimals,version:4},ATLAS_RAY_V4:{symbol:"ATLAS-RAY",name:"ATLAS-RAY V4 LP",mint:"418MFhkaYQtbn529wmjLLqL6uKxDz7j4eZBaV1cobkyd",base:o.ATLAS,quote:o.RAY,decimals:o.ATLAS.decimals,version:4},POLIS_RAY_V4:{symbol:"POLIS-RAY",name:"POLIS-RAY V4 LP",mint:"9ysGKUH6WqzjQEUT4dxqYCUaFNVK9QFEa24pGzjFq8xg",base:o.POLIS,quote:o.RAY,decimals:o.POLIS.decimals,version:4},ALEPH_RAY_V4:{symbol:"ALEPH-RAY",name:"ALEPH-RAY V4 LP",mint:"n76skjqv4LirhdLok2zJELXNLdRpYDgVJQuQFbamscy",base:o.ALEPH,quote:o.RAY,decimals:o.ALEPH.decimals,version:4},TULIP_RAY_V4:{symbol:"TULIP-RAY",name:"TULIP-RAY V4 LP",mint:"3AZTviji5qduMG2s4FfWGR3SSQmNUCyx8ao6UKCPg3oJ",base:o.TULIP,quote:o.RAY,decimals:o.TULIP.decimals,version:4},SLRS_RAY_V4:{symbol:"SLRS-RAY",name:"SLRS-RAY V4 LP",mint:"2pk78vsKT3jfJAcN2zbpMUnrR57SZrxHqaZYyFgp92mM",base:o.SLRS,quote:o.RAY,decimals:o.SLRS.decimals,version:4},MER_RAY_V4:{symbol:"MER-RAY",name:"MER-RAY V4 LP",mint:"214hxy3AbKoaEKgqcg2aC1cP5R67cGGAyDEg5GDwC7Ub",base:o.MER,quote:o.RAY,decimals:o.MER.decimals,version:4},MEDIA_RAY_V4:{symbol:"MEDIA-RAY",name:"MEDIA-RAY V4 LP",mint:"9Aseg5A1JD1yCiFFdDaNNxCiJ7XzrpZFmcEmLjXFdPaH",base:o.MEDIA,quote:o.RAY,decimals:o.MEDIA.decimals,version:4},SNY_RAY_V4:{symbol:"SNY-RAY",name:"SNY-RAY V4 LP",mint:"2k4quTuuLUxrSEhFH99qcoZzvgvVEc3b5sz3xz3qstfS",base:o.SNY,quote:o.RAY,decimals:o.SNY.decimals,version:4},LIKE_RAY_V4:{symbol:"LIKE-RAY",name:"LIKE-RAY V4 LP",mint:"7xqDycbFSCpUpzkYapFeyPJWPwEpV7zdWbYf2MVHTNjv",base:o.LIKE,quote:o.RAY,decimals:o.LIKE.decimals,version:4},COPE_RAY_V4:{symbol:"COPE-RAY",name:"COPE-RAY V4 LP",mint:"A7GCVHA8NSsbdFscHdoNU41tL1TRKNmCH4K94CgcLK9F",base:o.COPE,quote:o.RAY,decimals:o.COPE.decimals,version:4},ETH_SOL_V4:{symbol:"ETH-SOL",name:"ETH-SOL V4 LP",mint:"GKfgC86iJoMjwAtcyiLu6nWnjggqUXsDQihXkP14fDez",base:o.ETH,quote:o.WSOL,decimals:o.ETH.decimals,version:4},stSOL_USDC_V4:{symbol:"stSOL-USDC",name:"stSOL-USDC V4 LP",mint:"HDUJMwYZkjUZre63xUeDhdCi8c6LgUDiBqxmP3QC3VPX",base:o.stSOL,quote:o.USDC,decimals:o.stSOL.decimals,version:4},GRAPE_USDC_V4:{symbol:"GRAPE-USDC",name:"GRAPE-USDC V4 LP",mint:"A8ZYmnZ1vwxUa4wpJVUaJgegsuTEz5TKy5CiJXffvmpt",base:o.GRAPE,quote:o.USDC,decimals:o.GRAPE.decimals,version:4},LARIX_USDC_V4:{symbol:"LARIX-USDC",name:"LARIX-USDC V4 LP",mint:"7yieit4YsNsZ9CAK8H5ZEMvvk35kPEHHeXwp6naoWU9V",base:o.LARIX,quote:o.USDC,decimals:o.LARIX.decimals,version:4},RIN_USDC_V4:{symbol:"RIN-USDC",name:"RIN-USDC V4 LP",mint:"GfCWfrZez7BDmCSEeMERVDVUaaM2TEreyYUgb2cpuS3w",base:o.RIN,quote:o.USDC,decimals:o.RIN.decimals,version:4},APEX_USDC_V4:{symbol:"APEX-USDC",name:"APEX-USDC V4 LP",mint:"444cVqYyDxJNo6FqiMb9qQWFUd7tYzFRdDuJRFrSAGnU",base:o.APEX,quote:o.USDC,decimals:o.APEX.decimals,version:4},mSOL_RAY_V4:{symbol:"mSOL-RAY",name:"mSOL-RAY V4 LP",mint:"De2EHBAdkgfc72DpShqDGG42cV3iDWh8wvvZdPsiEcqP",base:o.mSOL,quote:o.RAY,decimals:o.mSOL.decimals,version:4},MNDE_mSOL_V4:{symbol:"MNDE-mSOL",name:"MNDE-mSOL V4 LP",mint:"4bh8XCzTHSbqbWN8o1Jn4ueBdz1LvJFoEasN6K6CQ8Ny",base:o.MNDE,quote:o.mSOL,decimals:o.MNDE.decimals,version:4},LARIX_RAY_V4:{symbol:"LARIX-RAY",name:"LARIX-RAY V4 LP",mint:"ZRDfSLgWGeaYSmhdPvFNKQQhDcYdZQaue2N8YDmHX4q",base:o.LARIX,quote:o.RAY,decimals:o.LARIX.decimals,version:4},LIQ_USDC_V4:{symbol:"LIQ-USDC",name:"LIQ-USDC V4 LP",mint:"GWpD3eTfhJB5KDCcnE85dBQrjAk2CsrgDF9b52R9CrjV",base:o.LIQ,quote:o.USDC,decimals:o.LIQ.decimals,version:4},WAG_USDC_V4:{symbol:"WAG-USDC",name:"WAG-USDC V4 LP",mint:"4yykyPugitUVRewNPXXCviRvxGfsfsRMoP32z3b6FmUC",base:o.WAG,quote:o.USDC,decimals:o.WAG.decimals,version:4},ETH_mSOL_V4:{symbol:"ETH-mSOL",name:"ETH-mSOL V4 LP",mint:"HYv3grQfi8QbV7nG7EFgNK1aJSrsJ7HynXJKJVPLL2Uh",base:o.ETH,quote:o.mSOL,decimals:o.ETH.decimals,version:4},mSOL_USDT_V4:{symbol:"mSOL-USDT",name:"mSOL-USDT V4 LP",mint:"69NCmEW9mGpiWLjAcAWHq51k4ionJZmzgRfRT3wQaCCf",base:o.mSOL,quote:o.USDT,decimals:o.mSOL.decimals,version:4},BTC_mSOL_V4:{symbol:"BTC-mSOL",name:"BTC-mSOL V4 LP",mint:"92bcERNtUmuaJ6mwLSxYHZYSph37jdKxRdoYNxpcYNPp",base:o.BTC,quote:o.mSOL,decimals:o.BTC.decimals,version:4},SLIM_SOL_V4:{symbol:"SLIM-SOL",name:"SLIM-SOL V4 LP",mint:"9X4EK8E59VAVi6ChnNvvd39m6Yg9RtkBbAPq1mDVJT57",base:o.SLIM,quote:o.WSOL,decimals:o.SLIM.decimals,version:4},AURY_USDC_V4:{symbol:"AURY-USDC",name:"AURY-USDC V4 LP",mint:"Gub5dvTy4nzP82qpmpNkBxmRqjtqRddBTBqHSdNcf2oS",base:o.AURY,quote:o.USDC,decimals:o.AURY.decimals,version:4},PRT_SOL_V4:{symbol:"PRT-SOL",name:"PRT-SOL V4 LP",mint:"EcJ8Wgwt1AzSPiDpVr6aaSur8TKAsNTPmmzRACeqT68Z",base:o.PRT,quote:o.WSOL,decimals:o.PRT.decimals,version:4},LIQ_RAY_V4:{symbol:"LIQ-RAY",name:"LIQ-RAY V4 LP",mint:"49YUsDrThJosHSagCn1F59Uc9NRxbr9thVrZikUnQDXy",base:o.LIQ,quote:o.RAY,decimals:o.LIQ.decimals,version:4},SYP_SOL_V4:{symbol:"SYP-SOL",name:"SYP-SOL V4 LP",mint:"KHV6dfj2bDntzJ9z1S26cDfqWfUZdJRFmteLR6LxHwW",base:o.SYP,quote:o.WSOL,decimals:o.SYP.decimals,version:4},SYP_RAY_V4:{symbol:"SYP-RAY",name:"SYP-RAY V4 LP",mint:"FT2KZqxxM8F2h9pZtTF4PyjK88bM4YbuBzd7ZPwQ5wMB",base:o.SYP,quote:o.RAY,decimals:o.SYP.decimals,version:4},SYP_USDC_V4:{symbol:"SYP-USDC",name:"SYP-USDC V4 LP",mint:"2xJGuLAivAR1WkARRA6zP1v4jaA9jV2Qis8JfMNvrVyZ",base:o.SYP,quote:o.USDC,decimals:o.SYP.decimals,version:4},FAB_USDC_V4:{symbol:"FAB-USDC",name:"FAB-USDC V4 LP",mint:"5rTCvZq6BcApsC3VV1EEUuTJfaVd8uYhcGjwTy1By6P8",base:o.FAB,quote:o.USDC,decimals:o.FAB.decimals,version:4},WOOF_RAY_V4:{symbol:"WOOF-RAY",name:"WOOF-RAY V4 LP",mint:"H2FAnazDaGFutcmnrwDxhmdncR1Bd7GG4mhPCSUiamDX",base:o.WOOF,quote:o.RAY,decimals:o.WOOF.decimals,version:4},WOOF_USDC_V4:{symbol:"WOOF-USDC",name:"WOOF-USDC V4 LP",mint:"EFSu5TMc1ijRevaYCxUkS7uGvbhsymDHEaTK3UVdNE3q",base:o.WOOF,quote:o.USDC,decimals:o.WOOF.decimals,version:4},SLND_USDC_V4:{symbol:"SLND-USDC",name:"SLND-USDC V4 LP",mint:"EunE9uDh2cGsyJcsGuGKc6wte7kBn8iye2gzC4w2ePHn",base:o.SLND,quote:o.USDC,decimals:o.SLND.decimals,version:4},FRKT_SOL_V4:{symbol:"FRKT-SOL",name:"FRKT-SOL V4 LP",mint:"HYUKXgpjaxMXHttyrFYtv3z2rdhZ1U9QDH8zEc8BooQC",base:o.FRKT,quote:o.WSOL,decimals:o.FRKT.decimals,version:4},weWETH_SOL_V4:{symbol:"weWETH-SOL",name:"weWETH-SOL V4 LP",mint:"3hbozt2Por7bcrGod8N7kEeJNMocFFjCJrQR16TQGBrE",base:o.weWETH,quote:o.WSOL,decimals:o.weWETH.decimals,version:4},weWETH_USDC_V4:{symbol:"weWETH-USDC",name:"weWETH-USDC V4 LP",mint:"3529SBnMCDW3S3xQ52aABbRHo7PcHvpQA4no8J12L5eK",base:o.weWETH,quote:o.USDC,decimals:o.weWETH.decimals,version:4},weUNI_USDC_V4:{symbol:"weUNI-USDC",name:"weUNI-USDC V4 LP",mint:"EEC4QnT41py39QaYnzQnoYQEtDUDNa6Se8SBDgfPSN2a",base:o.weUNI,quote:o.USDC,decimals:o.weUNI.decimals,version:4},weSUSHI_USDC_V4:{symbol:"weSUSHI-USDC",name:"weSUSHI-USDC V4 LP",mint:"3wVrtQZsiDNp5yTPyfEzQHPU6iuJoMmpnWg6CTt4V8sR",base:o.weSUSHI,quote:o.USDC,decimals:o.weSUSHI.decimals,version:4},CYS_USDC_V4:{symbol:"CYS-USDC",name:"CYS-USDC V4 LP",mint:"GfV3QDzzdVUwCNSdfn6PjhmyJvjw18tn51RingWZYwk3",base:o.CYS,quote:o.USDC,decimals:o.CYS.decimals,version:4},SAMO_USDC_V4:{symbol:"SAMO-USDC",name:"SAMO-USDC V4 LP",mint:"B2PjGEP3vPf1999fUD14pYdxvSDRVBk43hxB2rgthwEY",base:o.SAMO,quote:o.USDC,decimals:o.SAMO.decimals,version:4},ABR_USDC_V4:{symbol:"ABR-USDC",name:"ABR-USDC V4 LP",mint:"ECHfxkf5zjjZFTX95QfFahNyzG7feyEKcfTdjsdrMSGU",base:o.ABR,quote:o.USDC,decimals:o.ABR.decimals,version:4},IN_USDC_V4:{symbol:"IN-USDC",name:"IN-USDC V4 LP",mint:"GbmJtVgg9fRmmmjKUYGMZeSt8wZ47cDDXasg5Y3iF4kz",base:o.IN,quote:o.USDC,decimals:o.IN.decimals,version:4},weDYDX_USDC_V4:{symbol:"weDYDX-USDC",name:"weDYDX-USDC V4 LP",mint:"BjkkMZnnzmgLqzGErzDbkk15ozv48iVKQuunpeM2Hqnk",base:o.weDYDX,quote:o.USDC,decimals:o.weDYDX.decimals,version:4},STARS_USDC_V4:{symbol:"STARS-USDC",name:"STARS-USDC V4 LP",mint:"FJ68q7NChhETcGVdinMbM2FF1Cy79dpmUi6HC83K55Hv",base:o.STARS,quote:o.USDC,decimals:o.STARS.decimals,version:4},weAXS_USDC_V4:{symbol:"weAXS-USDC",name:"weAXS-USDC V4 LP",mint:"6PSoJQ7myQ1BJtbQC6oiWR8HSecQGyoWsPYTZRJo2ci3",base:o.weAXS,quote:o.USDC,decimals:o.weAXS.decimals,version:4},weSHIB_USDC_V4:{symbol:"weSHIB-USDC",name:"weSHIB-USDC V4 LP",mint:"AcjX5pmTMGSgxkdxc3r82r6WMKBvS6eQXXFz5ck5KKUa",base:o.weSHIB,quote:o.USDC,decimals:o.weSHIB.decimals,version:4},SBR_USDC_V4:{symbol:"SBR-USDC",name:"SBR-USDC V4 LP",mint:"9FC8xTFRbgTpuZZYAYnZLxgnQ8r7FwfSBM1SWvGwgF7s",base:o.SBR,quote:o.USDC,decimals:o.SBR.decimals,version:4},OXS_USDC_V4:{symbol:"OXS-USDC",name:"OXS-USDC V4 LP",mint:"et9pdjWm97rbmsJoN183GkFV5qzTGru79GE1Zhe7NTU",base:o.OXS,quote:o.USDC,decimals:o.OXS.decimals,version:4},CWAR_USDC_V4:{symbol:"CWAR-USDC",name:"CWAR-USDC V4 LP",mint:"HjR23bxn2gtRDB2P1Tm3DLepAPPZgazsWJpLG9wqjnYR",base:o.CWAR,quote:o.USDC,decimals:o.CWAR.decimals,version:4},UPS_USDC_V4:{symbol:"UPS-USDC",name:"UPS-USDC V4 LP",mint:"9hSUZdREEsbaYaKY4FouvXr7xyAqtpdHRDoYCb6Mb28a",base:o.UPS,quote:o.USDC,decimals:o.UPS.decimals,version:4},weSAND_USDC_V4:{symbol:"weSAND-USDC",name:"weSAND-USDC V4 LP",mint:"3dADrQa7utyiCsaFeVk9r7oebW1WheowhKo5soBYKBVT",base:o.weSAND,quote:o.USDC,decimals:o.weSAND.decimals,version:4},weMANA_USDC_V4:{symbol:"weMANA-USDC",name:"weMANA-USDC V4 LP",mint:"HpUkVAPRJ5zNRuJ1ZwMXEhbMHL3gSuPb2QuSER9YUd3a",base:o.weMANA,quote:o.USDC,decimals:o.weMANA.decimals,version:4},CAVE_USDC_V4:{symbol:"CAVE-USDC",name:"CAVE-USDC V4 LP",mint:"5Gba1k3fU7Vh7UtAiBmie9vhQNNq1JfEwgn1DPGZ7NKQ",base:o.CAVE,quote:o.USDC,decimals:o.CAVE.decimals,version:4},GENE_USDC_V4:{symbol:"GENE-USDC",name:"GENE-USDC V4 LP",mint:"7GKvfHEXenNiWYbJBKae89mdaMPr5gGMYwZmyC8gBNVG",base:o.GENE,quote:o.USDC,decimals:o.GENE.decimals,version:4},GENE_RAY_V4:{symbol:"GENE-RAY",name:"GENE-RAY V4 LP",mint:"3HzXnc1qZ8mGqun18Ck3KA616XnZNqF1RWbgYE2nGRMA",base:o.GENE,quote:o.RAY,decimals:o.GENE.decimals,version:4},APT_USDC_V4:{symbol:"APT-USDC",name:"APT-USDC V4 LP",mint:"Hk8mDAJFq4E9kF3DtNgPFwzbo5kbeiusNFJgWmo3LoQ5",base:o.APT,quote:o.USDC,decimals:o.APT.decimals,version:4},GOFX_USDC_V4:{symbol:"GOFX-USDC",name:"GOFX-USDC V4 LP",mint:"4svqAwrLPGRDCQuuieYTmtLXF75wiahjeK2rEN9tY1YL",base:o.GOFX,quote:o.USDC,decimals:o.GOFX.decimals,version:4},SONAR_USDC_V4:{symbol:"SONAR-USDC",name:"SONAR-USDC V4 LP",mint:"2tAcfqJ1YYjpGLqwh76kyNt9VaNFDd4fJySfH6SmWfKt",base:o.SONAR,quote:o.USDC,decimals:o.SONAR.decimals,version:4},JSOL_SOL_V4:{symbol:"JSOL-SOL",name:"JSOL-SOL V4 LP",mint:"61z37rpHsU6d3Fq5sUjJ85K6tXGzkoYKDAG3kPJQNDRo",base:o.JSOL,quote:o.WSOL,decimals:o.JSOL.decimals,version:4},JSOL_USDC_V4:{symbol:"JSOL-USDC",name:"JSOL-USDC V4 LP",mint:"3JZqf2VPNxj1kDZQsfzC7myM6spsGQbGuFv1gVfdYosN",base:o.JSOL,quote:o.USDC,decimals:o.JSOL.decimals,version:4},SHILL_USDC_V4:{symbol:"SHILL-USDC",name:"SHILL-USDC V4 LP",mint:"CnUhYBtQEbSBZ76bgxAouVCTCb8rofZzwerVF5z5LREJ",base:o.SHILL,quote:o.USDC,decimals:o.SHILL.decimals,version:4},DFL_USDC_V4:{symbol:"DFL-USDC",name:"DFL-USDC V4 LP",mint:"Fffijd6UVJdQeLVXhenS8YcsnMUdWJqpbBeH42LFkXgS",base:o.DFL,quote:o.USDC,decimals:o.DFL.decimals,version:4},BOKU_USDC_V4:{symbol:"BOKU-USDC",name:"BOKU-USDC V4 LP",mint:"8jjQn5Yagb6Nm2WGAxPW1bcGqrTWpg5adf6QukXEarcP",base:o.BOKU,quote:o.USDC,decimals:o.BOKU.decimals,version:4},MIMO_SOL_V4:{symbol:"MIMO-SOL",name:"MIMO-SOL V4 LP",mint:"HUJ1opSk8AiPfDT47r7n4hTiK2EXgrR3Msy7T8q1BywS",base:o.MIMO,quote:o.WSOL,decimals:o.MIMO.decimals,version:4},wbWBNB_USDC_V4:{symbol:"wbWBNB-USDC",name:"wbWBNB-USDC V4 LP",mint:"FEsEfEJJSfiMQcshUgZ5UigfytfGRQ3z5puyF6DXDp9C",base:o.wbWBNB,quote:o.USDC,decimals:o.wbWBNB.decimals,version:4},wePEOPLE_USDC_V4:{symbol:"wePEOPLE-USDC",name:"wePEOPLE-USDC V4 LP",mint:"3e5ZCKi4etorpV4pv1fSckP5iJD67xcUkx3RtFCZhbzD",base:o.wePEOPLE,quote:o.USDC,decimals:o.wePEOPLE.decimals,version:4},ISOLA_USDT_V4:{symbol:"ISOLA-USDT",name:"ISOLA-USDT V4 LP",mint:"H8s1wQsZpRK61pyLF3XwyQc6E8vNUnwRDhy3TBDCDENQ",base:o.ISOLA,quote:o.USDT,decimals:o.ISOLA.decimals,version:4},SPWN_USDC_V4:{symbol:"SPWN-USDC",name:"SPWN-USDC V4 LP",mint:"B5uyCAQcX6nAjZypLgiivbEKabSptgUb8JK9tkaSnqdW",base:o.SPWN,quote:o.USDC,decimals:o.SPWN.decimals,version:4},STR_USDC_V4:{symbol:"STR-USDC",name:"STR-USDC V4 LP",mint:"8uDVKmVwNmbXHDB7rNKqtpcT9VAsFHTJ5pPYxjyoBbNg",base:o.STR,quote:o.USDC,decimals:o.STR.decimals,version:4},SOLC_USDT_V4:{symbol:"SOLC-USDT",name:"SOLC-USDT V4 LP",mint:"2g9JzTWycLzK4KEBBHsponAtZRee2ii63bRrJ8tefEyt",base:o.SOLC,quote:o.USDT,decimals:o.SOLC.decimals,version:4},VI_USDC_V4:{symbol:"VI-USDC",name:"VI-USDC V4 LP",mint:"3MwHyHCRfVqtH3ABFtdKXdY9dwemr9GGxQFaBkeq6NjY",base:o.VI,quote:o.USDC,decimals:o.VI.decimals,version:4},KKO_USDC_V4:{symbol:"KKO-USDC",name:"KKO-USDC V4 LP",mint:"7xr1Doc1NiMWbUg99YVFqQSLfYXNzo6YvacXUsSgBMNW",base:o.KKO,quote:o.USDC,decimals:o.KKO.decimals,version:4},XTAG_USDC_V4:{symbol:"XTAG-USDC",name:"XTAG-USDC V4 LP",mint:"GCEQbLg4ik5YJ4CMcbtuVqEc4sjLdSGy34rFk1CtGjdg",base:o.XTAG,quote:o.USDC,decimals:o.XTAG.decimals,version:4},TTT_USDC_V4:{symbol:"TTT-USDC",name:"TTT-USDC V4 LP",mint:"84fmrerHGohoRf4iLPDQ1KG4CjSjCRksYWGzjWfCRM8a",base:o.TTT,quote:o.USDC,decimals:o.TTT.decimals,version:4},RUN_USDC_V4:{symbol:"RUN-USDC",name:"RUN-USDC V4 LP",mint:"CjTLvvKSQdEujcSzeZRYgk4w1DpuXBbMppLHaxZyz11Y",base:o.RUN,quote:o.USDC,decimals:o.RUN.decimals,version:4},CRWNY_USDC_V4:{symbol:"CRWNY-USDC",name:"CRWNY-USDC V4 LP",mint:"H3D9Gyi4frRLW6bS9vBthDVDJyzyRJ6XhhpP6PJGWaDC",base:o.CRWNY,quote:o.USDC,decimals:o.CRWNY.decimals,version:4},CRWNY_RAY_V4:{symbol:"CRWNY-RAY",name:"CRWNY-RAY V4 LP",mint:"5Cz9wGStNjiUg81q8t6sJJeckuT2C14CYSfyQbtYirSX",base:o.CRWNY,quote:o.RAY,decimals:o.CRWNY.decimals,version:4},BLOCK_USDC_V4:{symbol:"BLOCK-USDC",name:"BLOCK-USDC V4 LP",mint:"8i44Y23GkkwDYZ5iSkVEqmrXUfwNmwo9grguTDWKM8wg",base:o.BLOCK,quote:o.USDC,decimals:o.BLOCK.decimals,version:4},REAL_USDC_V4:{symbol:"REAL-USDC",name:"REAL-USDC V4 LP",mint:"EN43tp8xdkcM8RYSJ4msFHMPTJRXKhUteVYBDJLwTvr3",base:o.REAL,quote:o.USDC,decimals:o.REAL.decimals,version:4},FRKT_USDC_V4:{symbol:"FRKT-USDC",name:"FRKT-USDC V4 LP",mint:"7MgzqVTGeA4wENme81QPTrPy45NJMKVL9XGwxmNT87cG",base:o.FRKT,quote:o.USDC,decimals:o.FRKT.decimals,version:4},MBS_USDC_V4:{symbol:"MBS-USDC",name:"MBS-USDC V4 LP",mint:"BAgSWaPZpsQKyZJdvB5KyvmCNj6hzczzentt5FhDCVHb",base:o.MBS,quote:o.USDC,decimals:o.MBS.decimals,version:4},PRISM_USDC_V4:{symbol:"PRISM-USDC",name:"PRISM-USDC V4 LP",mint:"3baYkTcudvSFMe25UpZcBfdp4FA5kL2E4pfaeJ8AiYJB",base:o.PRISM,quote:o.USDC,decimals:o.PRISM.decimals,version:4},CHICKS_USDC_V4:{symbol:"CHICKS-USDC",name:"CHICKS-USDC V4 LP",mint:"CPzmcw81a6PDasSXhVLfDRKuTJXZPUqocS9VFf5zCFhs",base:o.CHICKS,quote:o.USDC,decimals:o.CHICKS.decimals,version:4},MEAN_RAY_V4:{symbol:"MEAN-RAY",name:"MEAN-RAY V4 LP",mint:"H9wUyrxpAErmdNVPitpHSXgwoomoh91ggJKPWtQQoCn1",base:o.MEAN,quote:o.RAY,decimals:o.MEAN.decimals,version:4},TINY_USDC_V4:{symbol:"TINY-USDC",name:"TINY-USDC V4 LP",mint:"Hho6ZzRDj49L4z6zog8nQZFaxMSz6FX6wNzVpMeAMen",base:o.TINY,quote:o.USDC,decimals:o.TINY.decimals,version:4},SCY_USDC_V4:{symbol:"SCY-USDC",name:"SCY-USDC V4 LP",mint:"EcYk7t6Vw59HDnY2u6H1KDPkk8juMeA1NpGpHiGk1LDf",base:o.SCY,quote:o.USDC,decimals:o.SCY.decimals,version:4}};n("0643"),n("2382");var s=n("22be");s["e"].from("token/util")},f036:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));n("14d9");var i=n("63d5"),r=n("721c"),o=n("06554"),a=n("a8c2"),s=n("83dc"),c=n("2566"),u=n("64b9"),m=n("5c23"),l=n.n(m),d=n("832d"),p=n("d677"),b=n("22be"),f=n("7734"),h=n("8143"),g=n("eba2"),w=n("50e8");class y{static getAssociatedTokenAccount({mint:e,owner:t,programId:n}){return Object(p["a"])(t,e,n).publicKey}static makeCreateAssociatedTokenAccountInstruction({programId:e,mint:t,associatedAccount:n,owner:r,payer:o,instructionsType:a}){return a.push(d["c"].createATA),Object(i["a"])(o,n,r,t,e)}static async makeCreateWrappedNativeAccountInstructions({connection:e,owner:t,payer:n,amount:i,commitment:r}){const o=[],a=[],s=await e.getMinimumBalanceForRentExemption(w["a"].span,r),c=Object(f["l"])(i).add(new l.a(s)),m=Object(d["h"])({fromPublicKey:n,programId:b["l"]});return o.push(u["h"].createAccountWithSeed({fromPubkey:n,basePubkey:n,seed:m.seed,newAccountPubkey:m.publicKey,lamports:c.toNumber(),space:w["a"].span,programId:b["l"]})),a.push(d["c"].createAccount),o.push(this.makeInitAccountInstruction({programId:b["l"],mint:Object(b["v"])(g["d"].mint),tokenAccount:m.publicKey,owner:t,instructionTypes:a})),{address:{newAccount:m.publicKey},innerTransaction:{instructions:o,signers:[],lookupTableAddress:[],instructionTypes:a}}}static async insertCreateWrappedNativeAccount({connection:e,owner:t,payer:n,amount:i,instructions:r,instructionsType:o,signers:a,commitment:s}){const c=await this.makeCreateWrappedNativeAccountInstructions({connection:e,owner:t,payer:n,amount:i,commitment:s});return r.push(...c.innerTransaction.instructions),a.push(...c.innerTransaction.signers),o.push(...c.innerTransaction.instructionTypes),c.address.newAccount}static makeInitMintInstruction({programId:e,mint:t,decimals:n,mintAuthority:i,freezeAuthority:o=null,instructionTypes:a}){return a.push(d["c"].initMint),Object(r["a"])(t,n,i,o,e)}static makeMintToInstruction({programId:e,mint:t,dest:n,authority:i,amount:r,multiSigners:a=[],instructionTypes:s}){return s.push(d["c"].mintTo),Object(o["a"])(t,n,i,BigInt(String(r)),a,e)}static makeInitAccountInstruction({programId:e,mint:t,tokenAccount:n,owner:i,instructionTypes:r}){return r.push(d["c"].initAccount),Object(a["a"])(n,t,i,e)}static makeTransferInstruction({programId:e,source:t,destination:n,owner:i,amount:r,multiSigners:o=[],instructionsType:a}){return a.push(d["c"].transferAmount),Object(s["a"])(t,n,i,BigInt(String(r)),o,e)}static makeCloseAccountInstruction({programId:e,tokenAccount:t,owner:n,payer:i,multiSigners:r=[],instructionsType:o}){return o.push(d["c"].closeAccount),Object(c["a"])(t,i,n,r,e)}static createInitAccountInstruction(t,n,i,r){const o=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:b["k"],isSigner:!1,isWritable:!1}],a=Object(h["o"])("instruction"),s=e.alloc(a.span);return a.encode(1,s),new u["j"]({keys:o,programId:t,data:s})}}}).call(this,n("1c35").Buffer)},f325:function(e,t,n){"use strict";n.d(t,"f",(function(){return i["d"]})),n.d(t,"s",(function(){return i["e"]})),n.d(t,"t",(function(){return i["f"]})),n.d(t,"u",(function(){return i["g"]})),n.d(t,"w",(function(){return r["q"]})),n.d(t,"o",(function(){return r["l"]})),n.d(t,"v",(function(){return r["m"]})),n.d(t,"c",(function(){return o["b"]})),n.d(t,"q",(function(){return o["i"]})),n.d(t,"b",(function(){return o["a"]})),n.d(t,"p",(function(){return o["h"]})),n.d(t,"k",(function(){return o["e"]})),n.d(t,"e",(function(){return a["a"]})),n.d(t,"g",(function(){return s["a"]})),n.d(t,"d",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return d["a"]})),n.d(t,"i",(function(){return p["a"]})),n.d(t,"j",(function(){return p["b"]})),n.d(t,"n",(function(){return b["b"]})),n.d(t,"m",(function(){return b["a"]})),n.d(t,"r",(function(){return O}));var i=n("832d"),r=n("22be"),o=n("7734"),a=(n("4f1c"),n("f4dd")),s=n("c366");n("cd9c"),n("8143");const c="https://api.raydium.io",u={time:"/v2/main/chain/time",info:"/v2/main/info",pairs:"/v2/main/pairs",price:"/v2/main/price",rpcs:"/v2/main/rpcs",version:"/v2/main/version",farmApr:"/v2/main/farm/info",farmAprLine:"/v2/main/farm-apr-tv",tokenInfo:"/v2/sdk/token/raydium.mainnet.json",poolInfo:"/v2/sdk/liquidity/mainnet.json",dailyPoolInfo:"/v2/sdk/liquidity/date",uiPoolInfo:"/v2/sdk/liquidity/mainnet.ui.json",searchPool:"/v2/sdk/liquidity/mint/",farmInfo:"/v2/sdk/farm-v2/mainnet.json",idoInfo:"/v2/main/ido/pools",idoProjectInfo:"/v2/main/ido/project/<id>",clmmPools:"/v2/ammV3/ammPools",clmmConfigs:"/v2/ammV3/ammConfigs",clmmPositionLine:"/v2/ammV3/positionLine/<poolId>"};var m=n("64b9");const l={SERUM_MARKET:new m["e"]("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),OPENBOOK_MARKET:new m["e"]("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),UTIL1216:new m["e"]("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),FarmV3:new m["e"]("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),FarmV5:new m["e"]("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),FarmV6:new m["e"]("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),AmmV4:new m["e"]("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),AmmStable:new m["e"]("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),CLMM:new m["e"]("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Router:new m["e"]("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS")};m["e"].default,new m["e"]("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),m["e"].default,new m["e"]("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),new m["e"]("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),new m["e"]("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),new m["e"]("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),new m["e"]("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),new m["e"]("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),new m["e"]("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU");var d=n("1838"),p=n("7152"),b=n("4d2f"),f=n("eba2"),h=(n("d9e2"),n("14d9"),n("0643"),n("2382"),n("fffc"),n("a573"),n("88e6"),n("70cc"),n("eb03"),n("22e5"),n("c01e"),n("fa76"),n("8306"),n("fe55")),g=n("83dc"),w=n("5c23"),y=n.n(w),k=n("0bd8"),A=n("9d98");class O extends i["b"]{static getAllRoute({inputMint:e,outputMint:t,apiPoolList:n,clmmList:i,allowedRouteToken2022:r=!1}){e=e.toString()===m["e"].default.toString()?new m["e"](f["d"].mint):e,t=t.toString()===m["e"].default.toString()?new m["e"](f["d"].mint):t;const o={},a={},s=new Set,c=[],u={};for(const m of null!==i&&void 0!==i?i:[]){if((m.mintA.mint.equals(e)&&m.mintB.mint.equals(t)||m.mintA.mint.equals(t)&&m.mintB.mint.equals(e))&&(c.push(m),a[m.id.toString()]=m),m.mintA.mint.equals(e)&&(m.mintB.programId.equals(h["c"])||r)){const e=m.mintB.mint.toString();void 0===u[e]&&(u[e]={mintProgram:m.mintB.programId,in:[],out:[],mDecimals:m.mintB.decimals}),u[e].in.push(m)}if(m.mintB.mint.equals(e)&&(m.mintA.programId.equals(h["c"])||r)){const e=m.mintA.mint.toString();void 0===u[e]&&(u[e]={mintProgram:m.mintA.programId,in:[],out:[],mDecimals:m.mintA.decimals}),u[e].in.push(m)}if(m.mintA.mint.equals(t)&&(m.mintB.programId.equals(h["c"])||r)){const e=m.mintB.mint.toString();void 0===u[e]&&(u[e]={mintProgram:m.mintB.programId,in:[],out:[],mDecimals:m.mintB.decimals}),u[e].out.push(m)}if(m.mintB.mint.equals(t)&&(m.mintA.programId.equals(h["c"])||r)){const e=m.mintA.mint.toString();void 0===u[e]&&(u[e]={mintProgram:m.mintA.programId,in:[],out:[],mDecimals:m.mintA.decimals}),u[e].out.push(m)}}const l=[],d=e.toString(),p=t.toString();for(const m of null!==(b=(null!==n&&void 0!==n?n:{}).official)&&void 0!==b?b:[]){var b;(m.baseMint===d&&m.quoteMint===p||m.baseMint===p&&m.quoteMint===d)&&(c.push(m),o[m.id]=m,l.push(m)),m.baseMint===d&&(void 0===u[m.quoteMint]&&(u[m.quoteMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.quoteDecimals}),u[m.quoteMint].in.push(m)),m.quoteMint===d&&(void 0===u[m.baseMint]&&(u[m.baseMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.baseDecimals}),u[m.baseMint].in.push(m)),m.baseMint===p&&(void 0===u[m.quoteMint]&&(u[m.quoteMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.quoteDecimals}),u[m.quoteMint].out.push(m)),m.quoteMint===p&&(void 0===u[m.baseMint]&&(u[m.baseMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.baseDecimals}),u[m.baseMint].out.push(m))}const g=0===l.length;for(const m of null!==(w=(null!==n&&void 0!==n?n:{}).unOfficial)&&void 0!==w?w:[]){var w;(m.baseMint===d&&m.quoteMint===p||m.baseMint===p&&m.quoteMint===d)&&(c.push(m),o[m.id]=m,g&&l.push(m)),m.baseMint===d&&(void 0===u[m.quoteMint]&&(u[m.quoteMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.quoteDecimals}),u[m.quoteMint].in.push(m)),m.quoteMint===d&&(void 0===u[m.baseMint]&&(u[m.baseMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.baseDecimals}),u[m.baseMint].in.push(m)),m.baseMint===p&&(void 0===u[m.quoteMint]&&(u[m.quoteMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.quoteDecimals}),u[m.quoteMint].out.push(m)),m.quoteMint===p&&(void 0===u[m.baseMint]&&(u[m.baseMint]={mintProgram:h["c"],in:[],out:[],mDecimals:m.baseDecimals}),u[m.baseMint].out.push(m))}for(const m of Object.keys(u)){if(1===u[m].in.length&&1===u[m].out.length&&String(u[m].in[0].id)===String(u[m].out[0].id)){delete u[m];continue}if(0===u[m].in.length||0===u[m].out.length){delete u[m];continue}const e=u[m];for(const t of e.in)for(const n of e.out)6===t.version&&void 0===a[t.id.toString()]?(a[t.id.toString()]=t,t.mintA.programId.equals(h["b"])&&s.add(t.mintA.mint.toString()),t.mintB.programId.equals(h["b"])&&s.add(t.mintB.mint.toString())):6!==t.version&&void 0===o[t.id]&&(o[t.id]=t),6===n.version&&void 0===a[n.id.toString()]?(a[n.id.toString()]=n,n.mintA.programId.equals(h["b"])&&s.add(n.mintA.mint.toString()),n.mintB.programId.equals(h["b"])&&s.add(n.mintB.mint.toString())):6!==n.version&&void 0===o[n.id]&&(o[n.id]=n)}for(const m of c)6===m.version&&(m.mintA.programId.equals(h["b"])&&s.add(m.mintA.mint.toString()),m.mintB.programId.equals(h["b"])&&s.add(m.mintB.mint.toString()));return{directPath:c,addLiquidityPools:l,routePathDict:u,needSimulate:Object.values(o),needTickArray:Object.values(a),needCheckToken:[...s]}}static async fetchMultipleInfo({connection:e,pools:t,batchRequest:n=!0}){t.find(e=>5===e.version)&&await Object(s["b"])(e);const i=t.map(e=>s["a"].makeSimulatePoolInfoInstruction({poolKeys:Object(r["q"])(e)})),o=await Object(r["t"])(e,i.map(e=>e.innerTransaction.instructions).flat(),"GetPoolData",n),a={};for(const s of o){const e=Object(r["r"])(s,"GetPoolData"),t=JSON.parse(e)["amm_id"],n=new y.a(Object(r["s"])(e,"status")),i=Number(Object(r["s"])(e,"coin_decimals")),o=Number(Object(r["s"])(e,"pc_decimals")),u=Number(Object(r["s"])(e,"lp_decimals")),m=new y.a(Object(r["s"])(e,"pool_coin_amount")),l=new y.a(Object(r["s"])(e,"pool_pc_amount")),d=new y.a(Object(r["s"])(e,"pool_lp_supply"));let p="0";try{p=Object(r["s"])(e,"pool_open_time")}catch(c){}a[t]={ammId:t,status:n,baseDecimals:i,quoteDecimals:o,lpDecimals:u,baseReserve:m,quoteReserve:l,lpSupply:d,startTime:new y.a(p)}}return a}static getAddLiquidityDefaultPool({addLiquidityPools:e,poolInfosCache:t}){if(0===e.length)return;if(1===e.length)return e[0];if(e.sort((e,t)=>t.version-e.version),e[0].version!==e[1].version)return e[0];const n=e.filter(t=>t.version===e[0].version);return n.sort((e,n)=>this.ComparePoolSize(e,n,t)),n[0]}static ComparePoolSize(e,t,n){const i=n[e.id],r=n[t.id];if(void 0===i)return 1;if(void 0===r)return-1;if(e.baseMint===t.baseMint){const e=i.baseReserve.sub(r.baseReserve);return e.gte(o["j"])?-1:1}{const e=i.baseReserve.sub(r.quoteReserve);return e.gte(o["j"])?-1:1}}static getAllRouteComputeAmountOut({inputTokenAmount:e,outputToken:t,directPath:n,routePathDict:r,simulateCache:a,tickCache:s,mintInfos:c,slippage:u,chainTime:m,epochInfo:l,feeConfig:d}){const p=void 0===d?new y.a(0):e.raw.mul(new y.a(d.feeBps.toNumber())).div(new y.a(1e4)),b=e.raw.sub(p),f=e instanceof o["i"]?new o["i"](e.token,b):new o["b"](e.currency,b),h=void 0===d?void 0:{feeAmount:p,feeAccount:d.feeAccount},g=[];for(const i of n)try{g.push({...this.computeAmountOut({itemPool:i,tickCache:s,simulateCache:a,chainTime:m,epochInfo:l,mintInfos:c,slippage:u,outputToken:t,amountIn:f}),feeConfig:h})}catch(L){}for(const[y,D]of Object.entries(r)){var w,k;const e=new o["h"](D.mintProgram,y,D.mDecimals),n=D.in.map(t=>{try{return{pool:t,data:this.computeAmountOut({itemPool:t,tickCache:s,simulateCache:a,chainTime:m,epochInfo:l,mintInfos:c,slippage:u,outputToken:e,amountIn:f})}}catch(L){return}}).sort((e,t)=>{var n,i,r,a;const s=void 0===e?o["j"]:e.data.amountOut.amount.raw.sub(null!==(n=null===(i=e.data.amountOut.fee)||void 0===i?void 0:i.raw)&&void 0!==n?n:o["j"]),c=void 0===t?o["j"]:t.data.amountOut.amount.raw.sub(null!==(r=null===(a=t.data.amountOut.fee)||void 0===a?void 0:a.raw)&&void 0!==r?r:o["j"]);return s.lt(c)?1:-1})[0];if(void 0===n)continue;const r=new o["i"](e,n.data.amountOut.amount.raw.sub(null!==(w=null===(k=n.data.amountOut.fee)||void 0===k?void 0:k.raw)&&void 0!==w?w:o["j"]));for(const d of D.out)try{var A,O,S,I,T,j,v,C,M,P;const e=this.computeAmountOut({itemPool:d,tickCache:s,simulateCache:a,chainTime:m,epochInfo:l,mintInfos:c,slippage:u,outputToken:t,amountIn:r});g.push({allTrade:!(!n.data.allTrade||!e.allTrade),amountIn:n.data.amountIn,amountOut:e.amountOut,minAmountOut:e.minAmountOut,currentPrice:void 0,executionPrice:new o["f"](null!==(A=n.data.amountIn.amount.token)&&void 0!==A?A:n.data.amountIn.amount.currency,n.data.amountIn.amount.raw,null!==(O=e.amountOut.amount.token)&&void 0!==O?O:e.amountOut.amount.currency,e.amountOut.amount.raw.sub(null!==(S=null===(I=e.amountOut.fee)||void 0===I?void 0:I.raw)&&void 0!==S?S:o["j"])),priceImpact:n.data.priceImpact.add(e.priceImpact),fee:[n.data.fee[0],e.fee[0]],routeType:"route",poolKey:[n.pool,d],remainingAccounts:[n.data.remainingAccounts[0],e.remainingAccounts[0]],minMiddleAmountFee:null!==(T=e.amountOut.fee)&&void 0!==T&&T.raw?new o["i"](null!==(j=n.data.amountOut.amount.token)&&void 0!==j?j:n.data.amountOut.amount.currency,(null!==(v=null===(C=n.data.amountOut.fee)||void 0===C?void 0:C.raw)&&void 0!==v?v:o["j"]).add(null!==(M=null===(P=e.amountOut.fee)||void 0===P?void 0:P.raw)&&void 0!==M?M:o["j"])):void 0,middleToken:n.data.amountOut.amount.token,poolReady:n.data.poolReady&&e.poolReady,poolType:[n.data.poolType,e.poolType],feeConfig:h,expirationTime:Object(i["j"])(n.data.expirationTime,e.expirationTime),slippage:e.slippage,clmmExPriceX64:[n.data.clmmExPriceX64[0],e.clmmExPriceX64[0]]})}catch(L){}}return g.filter(e=>e.allTrade).sort((e,t)=>e.amountOut.amount.raw.sub(t.amountOut.amount.raw).gt(o["j"])?-1:1)}static computeAmountOut({itemPool:e,tickCache:t,simulateCache:n,chainTime:o,epochInfo:a,mintInfos:c,slippage:u,outputToken:m,amountIn:l}){if(6===e.version){const{allTrade:n,realAmountIn:r,amountOut:s,minAmountOut:p,expirationTime:b,currentPrice:f,executionPrice:h,priceImpact:g,fee:w,remainingAccounts:y,executionPriceX64:k}=d["a"].computeAmountOutFormat({poolInfo:e,tickArrayCache:t[e.id.toString()],amountIn:l,currencyOut:m,slippage:u,token2022Infos:c,epochInfo:a,catchLiquidityInsufficient:!0});return{allTrade:n,amountIn:r,amountOut:s,minAmountOut:p,currentPrice:f,executionPrice:h,priceImpact:g,fee:[w],remainingAccounts:[y],routeType:"amm",poolKey:[e],poolReady:e.startTime<o,poolType:"CLMM",expirationTime:Object(i["j"])(r.expirationTime,b),slippage:u,clmmExPriceX64:[k]}}{if(![1,6,7].includes(n[e.id].status.toNumber()))throw Error("swap error");const{amountOut:t,minAmountOut:i,currentPrice:a,executionPrice:c,priceImpact:d,fee:p}=s["a"].computeAmountOut({poolKeys:Object(r["q"])(e),poolInfo:n[e.id],amountIn:l,currencyOut:m,slippage:u});return{amountIn:{amount:l,fee:void 0,expirationTime:void 0},amountOut:{amount:t,fee:void 0,expirationTime:void 0},minAmountOut:{amount:i,fee:void 0,expirationTime:void 0},currentPrice:a,executionPrice:c,priceImpact:d,fee:[p],routeType:"amm",poolKey:[e],remainingAccounts:[],poolReady:n[e.id].startTime.toNumber()<o,poolType:5===e.version?"STABLE":void 0,expirationTime:void 0,allTrade:!0,slippage:u,clmmExPriceX64:[void 0]}}}static makeSwapInstruction({routeProgram:e,ownerInfo:t,inputMint:n,swapInfo:a}){const c=a.slippage.numerator.toNumber()/a.slippage.denominator.toNumber();if("amm"===a.routeType){if(6===a.poolKey[0].version){var u,l;const e=a.poolKey[0],i=n.equals(e.mintA.mint)?c>.5||k["h"].add(o["d"]).gt(a.clmmExPriceX64[0].div(new y.a(10)))?k["h"].add(o["d"]):a.clmmExPriceX64[0].div(new y.a(10)):c>.5||k["f"].sub(o["d"]).lt(a.clmmExPriceX64[0].mul(new y.a(10)))?k["f"].sub(o["d"]):a.clmmExPriceX64[0].mul(new y.a(10));return d["a"].makeSwapBaseInInstructions({poolInfo:e,ownerInfo:{wallet:t.wallet,tokenAccountA:e.mintA.mint.equals(n)?t.sourceToken:t.destinationToken,tokenAccountB:e.mintA.mint.equals(n)?t.destinationToken:t.sourceToken},inputMint:n,amountIn:a.amountIn.amount.raw,amountOutMin:a.minAmountOut.amount.raw.sub(null!==(u=null===(l=a.minAmountOut.fee)||void 0===l?void 0:l.raw)&&void 0!==u?u:o["j"]),sqrtPriceLimitX64:i,remainingAccounts:a.remainingAccounts[0]})}{var p,b;const e=a.poolKey[0];return s["a"].makeSwapInstruction({poolKeys:Object(r["q"])(e),userKeys:{tokenAccountIn:t.sourceToken,tokenAccountOut:t.destinationToken,owner:t.wallet},amountIn:a.amountIn.amount.raw,amountOut:a.minAmountOut.amount.raw.sub(null!==(p=null===(b=a.minAmountOut.fee)||void 0===b?void 0:b.raw)&&void 0!==p?p:o["j"]),fixedSide:"in"})}}if("route"===a.routeType){var f,h;const r=a.poolKey[0],s=a.poolKey[1];if(void 0===t.routeToken)throw Error("owner route token account check error");return{address:{},innerTransaction:{instructions:[Object(A["a"])(e,t.wallet,t.sourceToken,t.routeToken,t.destinationToken,n.toString(),a.middleToken.mint.toString(),r,s,a.amountIn.amount.raw,a.minAmountOut.amount.raw.sub(null!==(f=null===(h=a.minAmountOut.fee)||void 0===h?void 0:h.raw)&&void 0!==f?f:o["j"]),a.remainingAccounts)],signers:[],lookupTableAddress:[r.lookupTableAccount?new m["e"](r.lookupTableAccount):m["e"].default,s.lookupTableAccount?new m["e"](s.lookupTableAccount):m["e"].default].filter(e=>e&&!e.equals(m["e"].default)),instructionTypes:[i["c"].routeSwap]}}}throw Error("route type error")}static async makeSwapInstructionSimple({connection:e,swapInfo:t,ownerInfo:n,computeBudgetConfig:a,routeProgram:s,makeTxVersion:c,lookupTableCache:u}){const m=[],l=[],d=[],p=[],b=[],f=t.amountIn,h=t.amountOut,w=!(f.amount instanceof o["i"]),y=!(h.amount instanceof o["i"]),k=f.amount instanceof o["i"]?f.amount.token.mint:o["h"].WSOL.mint,A=f.amount instanceof o["i"]?f.amount.token.programId:o["h"].WSOL.programId,O=h.amount instanceof o["i"]?h.amount.token.mint:o["h"].WSOL.mint,S=h.amount instanceof o["i"]?h.amount.token.programId:o["h"].WSOL.programId,I=await this._selectOrCreateTokenAccount({programId:A,mint:k,tokenAccounts:w?[]:n.tokenAccounts,createInfo:w?{connection:e,payer:n.wallet,amount:f.amount.raw,frontInstructions:m,endInstructions:l,signers:b,frontInstructionsType:d,endInstructionsType:p}:void 0,owner:n.wallet,associatedOnly:!w&&n.associatedOnly,checkCreateATAOwner:n.checkCreateATAOwner});if(void 0===I)throw Error("input account check error");const T=await this._selectOrCreateTokenAccount({programId:S,mint:O,tokenAccounts:n.tokenAccounts,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:m,endInstructions:y?l:void 0,signers:b,frontInstructionsType:d,endInstructionsType:p},owner:n.wallet,associatedOnly:n.associatedOnly,checkCreateATAOwner:n.checkCreateATAOwner});let j=void 0;if("route"===t.routeType){const i=t.middleToken;j=await this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mint,tokenAccounts:n.tokenAccounts,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:m,endInstructions:l,signers:b,frontInstructionsType:d,endInstructionsType:p},owner:n.wallet,associatedOnly:!1,checkCreateATAOwner:n.checkCreateATAOwner})}const v=this.makeSwapInstruction({routeProgram:s,inputMint:k,swapInfo:t,ownerInfo:{wallet:n.wallet,sourceToken:I,routeToken:j,destinationToken:T}}),C=[],M=[];void 0!==t.feeConfig&&(C.push(Object(g["a"])(I,t.feeConfig.feeAccount,n.wallet,t.feeConfig.feeAmount.toNumber())),M.push(i["c"].transferAmount));const P=await Object(r["u"])({connection:e,makeTxVersion:c,computeBudgetConfig:a,payer:n.wallet,innerTransaction:[{instructionTypes:M,instructions:C,signers:[]},v.innerTransaction],lookupTableCache:u});return{address:v.address,innerTransactions:await Object(r["u"])({connection:e,makeTxVersion:c,computeBudgetConfig:a,payer:n.wallet,innerTransaction:[{instructionTypes:d,instructions:m,signers:b},...P.length>1?[]:[{instructionTypes:M,instructions:C,signers:[]}],v.innerTransaction,{instructionTypes:p,instructions:l,signers:[]}],lookupTableCache:u})}}}n("5044"),n("588e")},f427:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return k}));var i=n("22be"),r=n("32f6");e.from("amm_config","utf8");const o=e.from("pool","utf8"),a=e.from("pool_vault","utf8"),s=e.from("pool_reward_vault","utf8"),c=e.from("position","utf8"),u=e.from("tick_array","utf8"),m=e.from("operation","utf8"),l=e.from("pool_tick_array_bitmap_extension","utf8");function d(e,t,n,r){return Object(i["m"])([o,t.toBuffer(),n.toBuffer(),r.toBuffer()],e)}function p(e,t,n){return Object(i["m"])([a,t.toBuffer(),n.toBuffer()],e)}function b(e,t,n){return Object(i["m"])([s,t.toBuffer(),n.toBuffer()],e)}function f(e,t,n){return Object(i["m"])([u,t.toBuffer(),Object(r["a"])(n)],e)}function h(e,t,n,o){return Object(i["m"])([c,t.toBuffer(),Object(r["a"])(n),Object(r["a"])(o)],e)}function g(e,t){return Object(i["m"])([c,t.toBuffer()],e)}function w(t){return Object(i["m"])([e.from("metadata","utf8"),i["g"].toBuffer(),t.toBuffer()],i["g"])}function y(e){return Object(i["m"])([m],e)}function k(e,t){return Object(i["m"])([l,t.toBuffer()],e)}}).call(this,n("1c35").Buffer)},f4dd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("8143");const r=Object(i["j"])([Object(i["n"])("status"),Object(i["n"])("nonce"),Object(i["n"])("maxOrder"),Object(i["n"])("depth"),Object(i["n"])("baseDecimal"),Object(i["n"])("quoteDecimal"),Object(i["n"])("state"),Object(i["n"])("resetFlag"),Object(i["n"])("minSize"),Object(i["n"])("volMaxCutRatio"),Object(i["n"])("amountWaveRatio"),Object(i["n"])("baseLotSize"),Object(i["n"])("quoteLotSize"),Object(i["n"])("minPriceMultiplier"),Object(i["n"])("maxPriceMultiplier"),Object(i["n"])("systemDecimalValue"),Object(i["n"])("minSeparateNumerator"),Object(i["n"])("minSeparateDenominator"),Object(i["n"])("tradeFeeNumerator"),Object(i["n"])("tradeFeeDenominator"),Object(i["n"])("pnlNumerator"),Object(i["n"])("pnlDenominator"),Object(i["n"])("swapFeeNumerator"),Object(i["n"])("swapFeeDenominator"),Object(i["n"])("baseNeedTakePnl"),Object(i["n"])("quoteNeedTakePnl"),Object(i["n"])("quoteTotalPnl"),Object(i["n"])("baseTotalPnl"),Object(i["n"])("poolOpenTime"),Object(i["n"])("punishPcAmount"),Object(i["n"])("punishCoinAmount"),Object(i["n"])("orderbookToInitTime"),Object(i["k"])("swapBaseInAmount"),Object(i["k"])("swapQuoteOutAmount"),Object(i["n"])("swapBase2QuoteFee"),Object(i["k"])("swapQuoteInAmount"),Object(i["k"])("swapBaseOutAmount"),Object(i["n"])("swapQuote2BaseFee"),Object(i["g"])("baseVault"),Object(i["g"])("quoteVault"),Object(i["g"])("baseMint"),Object(i["g"])("quoteMint"),Object(i["g"])("lpMint"),Object(i["g"])("openOrders"),Object(i["g"])("marketId"),Object(i["g"])("marketProgramId"),Object(i["g"])("targetOrders"),Object(i["g"])("withdrawQueue"),Object(i["g"])("lpVault"),Object(i["g"])("owner"),Object(i["n"])("lpReserve"),Object(i["i"])(Object(i["n"])(),3,"padding")]),o=Object(i["j"])([Object(i["n"])("accountType"),Object(i["n"])("status"),Object(i["n"])("nonce"),Object(i["n"])("maxOrder"),Object(i["n"])("depth"),Object(i["n"])("baseDecimal"),Object(i["n"])("quoteDecimal"),Object(i["n"])("state"),Object(i["n"])("resetFlag"),Object(i["n"])("minSize"),Object(i["n"])("volMaxCutRatio"),Object(i["n"])("amountWaveRatio"),Object(i["n"])("baseLotSize"),Object(i["n"])("quoteLotSize"),Object(i["n"])("minPriceMultiplier"),Object(i["n"])("maxPriceMultiplier"),Object(i["n"])("systemDecimalsValue"),Object(i["n"])("abortTradeFactor"),Object(i["n"])("priceTickMultiplier"),Object(i["n"])("priceTick"),Object(i["n"])("minSeparateNumerator"),Object(i["n"])("minSeparateDenominator"),Object(i["n"])("tradeFeeNumerator"),Object(i["n"])("tradeFeeDenominator"),Object(i["n"])("pnlNumerator"),Object(i["n"])("pnlDenominator"),Object(i["n"])("swapFeeNumerator"),Object(i["n"])("swapFeeDenominator"),Object(i["n"])("baseNeedTakePnl"),Object(i["n"])("quoteNeedTakePnl"),Object(i["n"])("quoteTotalPnl"),Object(i["n"])("baseTotalPnl"),Object(i["n"])("poolOpenTime"),Object(i["n"])("punishPcAmount"),Object(i["n"])("punishCoinAmount"),Object(i["n"])("orderbookToInitTime"),Object(i["k"])("swapBaseInAmount"),Object(i["k"])("swapQuoteOutAmount"),Object(i["k"])("swapQuoteInAmount"),Object(i["k"])("swapBaseOutAmount"),Object(i["n"])("swapQuote2BaseFee"),Object(i["n"])("swapBase2QuoteFee"),Object(i["g"])("baseVault"),Object(i["g"])("quoteVault"),Object(i["g"])("baseMint"),Object(i["g"])("quoteMint"),Object(i["g"])("lpMint"),Object(i["g"])("modelDataAccount"),Object(i["g"])("openOrders"),Object(i["g"])("marketId"),Object(i["g"])("marketProgramId"),Object(i["g"])("targetOrders"),Object(i["g"])("owner"),Object(i["i"])(Object(i["n"])(),64,"padding")]),a={4:r,5:o}},f66b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("d9e2");var i=n("64b9"),r=n("22be"),o=n("3606"),a=n("bcd1");const s=r["e"].from("Serum");class c{static getProgramId(e){const t=o["b"][e];return s.assertArgument(!!t,"invalid version","version",e),t}static getVersion(e){const t=e.toBase58(),n=o["a"][t];return s.assertArgument(!!n,"invalid program id","programId",t),n}static getStateLayout(e){const t=a["b"][e];return s.assertArgument(!!t,"invalid version","version",e),t}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:t,marketId:n}){const r=[n.toBuffer()];let o,a=0;while(a<100){try{const n=r.concat(e.from([a]),e.alloc(7));o=i["e"].createProgramAddressSync(n,t)}catch(c){if(c instanceof TypeError)throw c;a++;continue}return{publicKey:o,nonce:a}}return s.throwArgumentError("unable to find a viable program address nonce","params",{programId:t,marketId:n})}}}).call(this,n("1c35").Buffer)},f8b6:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return E}));n("d9e2"),n("14d9"),n("13d5"),n("0643"),n("2382"),n("a573"),n("9d4a");var i=n("8fa2"),r=n("a98b"),o=n("9fcd"),a=n("e52f"),s=n("8df2"),c=n("633a");const u=Object(s["struct"])([Object(c["a"])("lockCpi")]),m=u.span;const l=Object(s["struct"])([Object(s["u8"])("state")]),d=l.span;const p=Object(s["struct"])([]),b=p.span;const f=Object(s["struct"])([Object(c["b"])("rateAuthority"),Object(s["ns64"])("initializationTimestamp"),Object(s["s16"])("preUpdateAverageRate"),Object(s["ns64"])("lastUpdateTimestamp"),Object(s["s16"])("currentRate")]),h=f.span;const g=Object(s["struct"])([Object(c["a"])("requireIncomingTransferMemos")]),w=g.span;n("64b9");const y=Object(s["struct"])([Object(c["b"])("authority"),Object(c["b"])("metadataAddress")]),k=y.span;const A=Object(s["struct"])([Object(c["b"])("closeAuthority")]),O=A.span;const S=Object(s["struct"])([]),I=S.span,T=S.span;const j=Object(s["struct"])([Object(c["b"])("delegate")]),v=j.span;var C,M=n("910f"),P=n("2b5d");n("fe55");(function(e){e[e["Uninitialized"]=0]="Uninitialized",e[e["TransferFeeConfig"]=1]="TransferFeeConfig",e[e["TransferFeeAmount"]=2]="TransferFeeAmount",e[e["MintCloseAuthority"]=3]="MintCloseAuthority",e[e["ConfidentialTransferMint"]=4]="ConfidentialTransferMint",e[e["ConfidentialTransferAccount"]=5]="ConfidentialTransferAccount",e[e["DefaultAccountState"]=6]="DefaultAccountState",e[e["ImmutableOwner"]=7]="ImmutableOwner",e[e["MemoTransfer"]=8]="MemoTransfer",e[e["NonTransferable"]=9]="NonTransferable",e[e["InterestBearingConfig"]=10]="InterestBearingConfig",e[e["CpiGuard"]=11]="CpiGuard",e[e["PermanentDelegate"]=12]="PermanentDelegate",e[e["NonTransferableAccount"]=13]="NonTransferableAccount",e[e["TransferHook"]=14]="TransferHook",e[e["TransferHookAccount"]=15]="TransferHookAccount",e[e["MetadataPointer"]=18]="MetadataPointer",e[e["TokenMetadata"]=19]="TokenMetadata"})(C||(C={}));const L=2,D=2;function R(e){return e+L+D}function q(e){switch(e){case C.TokenMetadata:return!0;default:return!1}}function B(e){switch(e){case C.Uninitialized:return 0;case C.TransferFeeConfig:return M["b"];case C.TransferFeeAmount:return M["a"];case C.MintCloseAuthority:return O;case C.ConfidentialTransferMint:return 97;case C.ConfidentialTransferAccount:return 286;case C.CpiGuard:return m;case C.DefaultAccountState:return d;case C.ImmutableOwner:return b;case C.MemoTransfer:return w;case C.MetadataPointer:return k;case C.NonTransferable:return I;case C.InterestBearingConfig:return h;case C.PermanentDelegate:return v;case C.NonTransferableAccount:return T;case C.TransferHook:return P["b"];case C.TransferHookAccount:return P["a"];case C.TokenMetadata:throw Error("Cannot get type length for variable extension type: "+e);default:throw Error("Unknown extension type: "+e)}}function V(e,t,n={}){if(0===e.length&&0===Object.keys(n).length)return t;{const t=i["a"]+a["a"]+e.filter((t,n)=>n===e.indexOf(t)).map(e=>R(B(e))).reduce((e,t)=>e+t,0)+Object.entries(n).map(([e,t])=>{if(!q(Number(e)))throw Error(`Extension ${e} is not variable length`);return R(t)}).reduce((e,t)=>e+t,0);return t===o["a"]?t+L:t}}function x(e,t={}){return V(e,r["a"],t)}function U(e){return V(e,i["a"])}function E(e,t){let n=0;while(R(n)<=t.length){const i=t.readUInt16LE(n),r=t.readUInt16LE(n+L),o=R(n);if(i==e)return t.slice(o,o+r);n=o+r}return null}},fe55:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("64b9");const r=new i["e"]("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=new i["e"]("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),a=new i["e"]("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new i["e"]("So11111111111111111111111111111111111111112"),new i["e"]("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")}}]);