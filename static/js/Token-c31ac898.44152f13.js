(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Token-c31ac898"],{"048b":function(e,t,o){},"0691":function(e,t,o){},"0956":function(e,t,o){},"0d32":function(e,t,o){"use strict";o.r(t);var i=o("7a23");const l={class:"home-content"},n={class:"layout-left relative",style:{flex:"1","max-width":"320px"}},a={class:"flex-1 relative watermark",style:{flex:"2"}},s={class:"relative layout-right",style:{flex:"1","max-width":"340px","overflow-y":"auto"}},c={class:"check-container"},r={class:"check-container"};function d(e,t,o,d,u,m){const b=Object(i["resolveComponent"])("TokenInfo"),h=Object(i["resolveComponent"])("token-rank"),p=Object(i["resolveComponent"])("one-click"),v=Object(i["resolveComponent"])("k-line-chart"),O=Object(i["resolveComponent"])("Tx"),f=Object(i["resolveComponent"])("KCheck"),j=Object(i["resolveComponent"])("Run"),k=Object(i["resolveComponent"])("token-right"),g=Object(i["resolveComponent"])("el-scrollbar");return Object(i["openBlock"])(),Object(i["createElementBlock"])("section",l,[Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])([{flex:"2"},{height:e.$store.state.showNew?"calc(100vh - 78px)":"calc(100vh - 50px)"}]),id:"token-left"},[Object(i["createVNode"])(b,{warningStatus:u.warningStatus},null,8,["warningStatus"]),Object(i["createElementVNode"])("div",{class:"flex-between relative",style:Object(i["normalizeStyle"])({height:u.kHeight+"px","min-height":"200px"})},[Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{class:"arrow toggle right",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>m.toggle("left"),["stop","prevent"]))},t[5]||(t[5]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-youjiantou"},null,-1)]),512),[[i["vShow"],!d.showLeft]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{class:"arrow toggle left right-0",onClick:t[1]||(t[1]=Object(i["withModifiers"])(e=>m.toggle("right"),["stop","prevent"]))},t[6]||(t[6]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-zuojiantou"},null,-1)]),512),[[i["vShow"],!e.$store.state.layout.showRight]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",n,[Object(i["createElementVNode"])("button",{class:"arrow toggle left",onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>m.toggle("left"),["stop","prevent"]))},t[7]||(t[7]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-zuojiantou"},null,-1)])),Object(i["createVNode"])(h,{middleHeight:Math.max(u.kHeight,200)-5,ref:"ref_list"},null,8,["middleHeight"])],512),[[i["vShow"],d.showLeft]]),Object(i["createElementVNode"])("div",a,[e.$store.state.oneClick?(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0})):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(v,{ref:"kLine",kHeight:u.kHeight},null,8,["kHeight"])]),Object(i["createElementVNode"])("div",{class:"drag",id:"draggable",onMousedown:t[3]||(t[3]=Object(i["withModifiers"])((...e)=>m.drag&&m.drag(...e),["stop","prevent"]))},null,32)],4),Object(i["createVNode"])(O,{middleHeight:m.middleHeight},null,8,["middleHeight"])],4),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",s,[Object(i["createVNode"])(g,{height:e.$store.state.showNew?"calc(100vh - 78px)":"calc(100vh - 50px)"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])(Object(i["createElementVNode"])("button",{class:"arrow toggle right middle",onClick:t[4]||(t[4]=Object(i["withModifiers"])(e=>m.toggle("right"),["stop","prevent"]))},t[8]||(t[8]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-youjiantou"},null,-1)]),512),[[i["vShow"],e.$store.state.layout.showRight]]),Object(i["createVNode"])(i["Transition"],{name:"van-slide-right"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",c,[Object(i["createVNode"])(f)],512),[[i["vShow"],e.$store.state.check.checkVisible]])]),_:1}),Object(i["createVNode"])(i["Transition"],{name:"van-slide-right"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",r,[Object(i["createVNode"])(j)],512),[[i["vShow"],e.$store.state.runVisible]])]),_:1}),Object(i["createVNode"])(k)]),_:1},8,["height"])],512),[[i["vShow"],e.$store.state.layout.showRight]])])}o("0643"),o("4e3e");const u={class:"tokenInfo-container"},m={class:"flex-start"},b={class:"token-container"},h={class:"icon-token-container",ref:"buttonRef"},p=["src"],v=["src"],O={key:0,class:"token-symbol"},f={class:"token-symbol_top"},j={class:"flex-start clickable-btn"},k={class:"color-text-2 font-12"},g={class:"ml_10 color-text-2 font-12"},y={key:0,class:"iconfont icon-fengxian1 risk-status high"},w=["onMouseover"],_={key:0,class:"media-item"},$=["href"],N={class:"tag-btn"},T=["href"],V={class:"ml-2 ellipsis block",style:{"max-width":"140px"}},x={class:"flex mt-10"},S={class:"mt-20 flex-center"},E={class:"ml-2 ellipsis block",style:{"max-width":"140px"}},B={class:"flex mt-10"},C={class:"mt-20 flex-center"},D={class:"token-symbol_bottom"},I={class:"flex-start",style:{"min-width":"80px"}},A={class:"font-12 color-text-2"},L=["href"],P={key:1,class:"flex-start ml-10 mr-10 color-text-2"},F=["onMouseover"],R={key:0,class:"ml-2",style:{color:"#959a9f"}},M={class:"mr-2px"},U={class:"ml-5 color-text-2 tag-btn cursor-pointer"},z={width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H=["fill"],q={class:"text-10px ml-2"},Q={class:"devtoken"},G={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},W={class:"text-[--main-text]"},Y={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},J={class:"text-[--main-text]"},K={class:"flex items-center justify-between text-12px py-4px px-8px color-[--third-text]"},Z={class:"text-[--main-text]"},X={key:1,class:"token-symbol font-500 text-14px"},ee={class:"flex-between"},te={key:0,class:"table-item"},oe={class:"color-text-2 text-12px"},ie={class:"mr-5"},le={key:0,class:"iconfont icon-unknown color-text-2 font-14 ml-3"},ne=["href"],ae=["src"],se={class:"color-text-1",style:{"margin-top":"12px"}},ce={key:0,class:"opened"},re={class:"table-item"},de={class:"color-text-1 text-16px"},ue={class:"color-text-1 mt-5px"},me={class:"color-text-2 text-12px flex-start"},be={class:"color-text-1 mt-5px font-500 text-14px flex-start"},he={key:0,class:"icon-svg1","aria-hidden":"true"},pe={key:1,class:"icon-svg1","aria-hidden":"true"},ve={key:2,class:"icon-svg1","aria-hidden":"true"},Oe={key:3,class:"icon-svg1","aria-hidden":"true"},fe={class:"color-text-2 text-12px flex-start"},je={class:"dialog_title"},ke={class:"pairs-list"},ge=["onClick"],ye={class:"text-14px font-500"},we={class:"color-text-2"},_e={class:"text-10px"},$e={class:"color-text-2"},Ne={class:"flex-end"},Te={key:0,class:"iconfont icon-unknown color-text-2 font-14 ml-3"},Ve=["href"],xe=["src"],Se={class:"flex-end text-10px"},Ee={class:"mr-5"};function Be(e,t,o,l,n,a){var s,c,r,d,Be,Ce,De,Ie,Ae,Le,Pe,Fe,Re,Me,Ue,ze,He,qe,Qe,Ge,We,Ye,Je,Ke,Ze,Xe,et,tt,ot,it,lt,nt,at,st,ct;const rt=Object(i["resolveComponent"])("van-notice-bar"),dt=Object(i["resolveComponent"])("el-image"),ut=Object(i["resolveComponent"])("el-option"),mt=Object(i["resolveComponent"])("el-select"),bt=Object(i["resolveComponent"])("el-button"),ht=Object(i["resolveComponent"])("el-popover"),pt=Object(i["resolveComponent"])("el-input"),vt=Object(i["resolveComponent"])("el-tooltip"),Ot=Object(i["resolveComponent"])("Top50"),ft=Object(i["resolveComponent"])("el-progress"),jt=Object(i["resolveComponent"])("CircleCheckFilled"),kt=Object(i["resolveComponent"])("el-icon"),gt=Object(i["resolveComponent"])("ArrowRightBold"),yt=Object(i["resolveComponent"])("ChangeGroup"),wt=Object(i["resolveComponent"])("CheckHolders"),_t=Object(i["resolveComponent"])("el-dialog"),$t=Object(i["resolveComponent"])("el-scrollbar"),Nt=Object(i["resolveComponent"])("favorite-manage"),Tt=Object(i["resolveDirective"])("copy");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[a.tokenInfo.risk_level<0?(Object(i["openBlock"])(),Object(i["createBlock"])(rt,{key:0,"left-icon":"volume-o",color:"#f00",background:"light"===e.$store.state.mode?"#ffa94d0d":"#36131C",text:e.$t("riskWarning")+": "+e.$t("riskWarningContent1")},null,8,["background","text"])):o.warningStatus?(Object(i["openBlock"])(),Object(i["createBlock"])(rt,{key:1,"left-icon":"warning-o",background:"light"===e.$store.state.mode?"#ffa94d0d":"#3b1e0c",color:"#ED6A0C",mode:"closeable",onClose:a.handleNoticeClose,text:e.$t("alertNotice")},null,8,["background","onClose","text"])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",u,[Object(i["createElementVNode"])("div",m,[Object(i["createElementVNode"])("div",b,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["iconfont icon-collect clickable-btn",{collected:n.collected}]),onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>a.collect(a.tokenInfo),["stop"]))},null,2),Object(i["createElementVNode"])("div",h,[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(a.tokenInfo||e.$store.state.id||a.tokenInfo.id||e.$route.params.id,a.tokenInfo.symbol),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,p),Object(i["createElementVNode"])("img",{class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${(null===(s=e.$f.getAddressAndChainFromId(e.$store.state.id))||void 0===s?void 0:s.chain)||a.tokenInfo.chain||a.tokenInfo.network}.png`,alt:"",srcset:""},null,8,v)],512),(null===(c=a.pairs)||void 0===c?void 0:c.length)>0&&null!==(r=e.$store.state.pair)&&void 0!==r&&r.target_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",O,[Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("div",j,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$store.state.pair.target_token===e.$store.state.pair.token0_address?e.$store.state.pair.token0_symbol:e.$store.state.pair.token1_symbol),1),Object(i["createElementVNode"])("span",k," /"+Object(i["toDisplayString"])(e.$store.state.pair.target_token===e.$store.state.pair.token0_address?e.$store.state.pair.token1_symbol:e.$store.state.pair.token0_symbol),1),Object(i["createElementVNode"])("span",g,Object(i["toDisplayString"])(a.tokenInfo.name),1)]),a.tokenInfo.risk_level<0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",y)):Object(i["createCommentVNode"])("",!0),(null===(d=e.$f.getMedias(null===(Be=a.tokenInfo)||void 0===Be?void 0:Be.appendix))||void 0===d?void 0:d.length)>0?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:1},Object(i["renderList"])(e.$f.getMedias(null===(Ce=a.tokenInfo)||void 0===Ce?void 0:Ce.appendix),(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:o,class:"tag-btn"},[e.url?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,onMouseover:Object(i["withModifiers"])(t=>{n.buttonTagRef=t.currentTarget,n.toolTipTagVisible=!0,n.toolTipTagContent=e.url},["stop"]),onMouseleave:t[2]||(t[2]=Object(i["withModifiers"])(e=>n.toolTipTagVisible=!1,["stop"]))},["QQ"===e.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_,t[29]||(t[29]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-QQ font_10"},null,-1)]))):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,class:"media-item",href:e.url,target:"_blank",onClick:t[1]||(t[1]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["iconfont font_10","icon-"+e.icon])},null,2)],8,$))],40,w)):Object(i["createCommentVNode"])("",!0)]))),128)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",N,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("a",{class:"media-item",href:`https://x.com/search?q=($${a.tokenInfo.symbol} OR ${a.tokenInfo.address})&src=typed_query&f=live`,target:"_blank"},t[30]||(t[30]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-search"},null,-1)]),8,T)])]),(null===(De=a.getTags(a.pair))||void 0===De||null===(De=De.normal_tag)||void 0===De?void 0:De.length)>0?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:2},Object(i["renderList"])(a.getTags(a.pair).normal_tag,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:l,class:"tag-btn flex"},[Object(i["createVNode"])(dt,{class:"token-icon-tag",src:e.$f.formatIconTag(o.tag),lazy:"",onMouseover:Object(i["withModifiers"])(t=>{n.buttonTagRef=t.currentTarget,n.toolTipTagVisible=!0,n.toolTipTagContent=e.$t(""+o.tag)},["stop"]),onMouseleave:t[3]||(t[3]=Object(i["withModifiers"])(e=>n.toolTipTagVisible=!1,["stop"]))},{error:Object(i["withCtx"])(()=>t[31]||(t[31]=[Object(i["createElementVNode"])("img",{class:"token-icon-tag",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[32]||(t[32]=[Object(i["createElementVNode"])("img",{class:"token-icon-tag",src:"/icon-default.png"},null,-1)])),_:2},1032,["src","onMouseover"]),null!==o&&void 0!==o&&o.showText?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,style:Object(i["normalizeStyle"])({color:"green"==(null===o||void 0===o?void 0:o.color)?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]}),class:"text-10px ml-3"},Object(i["toDisplayString"])(e.$t(null===o||void 0===o?void 0:o.tag)),5)):Object(i["createCommentVNode"])("",!0)]))),128)):Object(i["createCommentVNode"])("",!0),n.collected?(Object(i["openBlock"])(),Object(i["createBlock"])(ht,{key:3,placement:"bottom","popper-class":"chains-table-filter",title:"",width:200,trigger:"click",visible:n.editable1,"onUpdate:visible":t[8]||(t[8]=e=>n.editable1=e)},{reference:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("a",{class:"w-zu flex-start",href:"",onClick:t[4]||(t[4]=Object(i["withModifiers"])(()=>{},["stop","prevent"]))},[t[33]||(t[33]=Object(i["createElementVNode"])("i",{class:"iconfont icon-zu"},null,-1)),Object(i["createElementVNode"])("span",V,Object(i["toDisplayString"])(a.currentGroup),1)])]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["filter-box",e.$store.state.mode])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("editGroup")),1),Object(i["createElementVNode"])("div",x,[Object(i["createVNode"])(mt,{class:"select3",modelValue:n.selectedGroup,"onUpdate:modelValue":t[5]||(t[5]=e=>n.selectedGroup=e),placeholder:e.$t("pleaseSelectGroup"),teleported:!1},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ut,{label:e.$t("defaultGroup"),value:0},null,8,["label"]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.groups,e=>(Object(i["openBlock"])(),Object(i["createBlock"])(ut,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),Object(i["createElementVNode"])("div",S,[Object(i["createVNode"])(bt,{class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},color:"dark"!==e.$store.state.mode?"#f2f2f2":"#333333",onClick:t[6]||(t[6]=Object(i["withModifiers"])(e=>a.handleReset(),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("cancel")),1)]),_:1},8,["color"]),Object(i["createVNode"])(bt,{class:"flex-1",size:"default",color:"dark"!==e.$store.state.mode?"#222222":"#f5f5f5",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:t[7]||(t[7]=Object(i["withModifiers"])(t=>a.confirmSwitchGroup(e.$store.state.id,n.selectedGroup),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]),_:1},8,["color"])])],2)]),_:1},8,["visible"])):Object(i["createCommentVNode"])("",!0),n.collected?(Object(i["openBlock"])(),Object(i["createBlock"])(ht,{key:4,placement:"bottom","popper-class":"chains-table-filter",title:"",width:200,offset:5,trigger:"click",visible:n.editable2,"onUpdate:visible":t[13]||(t[13]=e=>n.editable2=e)},{reference:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("a",{class:"w-zu flex-start",href:"",onClick:t[9]||(t[9]=Object(i["withModifiers"])(()=>{},["stop","prevent"]))},[t[34]||(t[34]=Object(i["createElementVNode"])("i",{class:"iconfont icon-beizhu"},null,-1)),Object(i["createElementVNode"])("span",E,Object(i["toDisplayString"])(a.remark),1)])]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["filter-box",e.$store.state.mode])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("editRemark")),1),Object(i["createElementVNode"])("div",B,[Object(i["createVNode"])(pt,{modelValue:n.remark2,"onUpdate:modelValue":t[10]||(t[10]=e=>n.remark2=e),modelModifiers:{trim:!0},placeholder:a.remark,clearable:""},null,8,["modelValue","placeholder"])]),Object(i["createElementVNode"])("div",C,[Object(i["createVNode"])(bt,{class:"flex-1",size:"default",style:{height:"30px","min-width":"70px","margin-left":"auto","--el-button-font-weight":"400"},color:"dark"!==e.$store.state.mode?"#f2f2f2":"#333333",onClick:t[11]||(t[11]=Object(i["withModifiers"])(e=>a.handleReset(),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("cancel")),1)]),_:1},8,["color"]),Object(i["createVNode"])(bt,{class:"flex-1",size:"default",color:"dark"!==e.$store.state.mode?"#222222":"#f5f5f5",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:t[12]||(t[12]=Object(i["withModifiers"])(t=>a.confirmEditRemark(n.remark2,e.$store.state.id),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]),_:1},8,["color"])])],2)]),_:1},8,["visible"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",D,[Object(i["createElementVNode"])("div",I,["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"!==a.tokenInfo.address?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("span",A,Object(i["toDisplayString"])(e.$t("ca"))+":",1),Object(i["createElementVNode"])("a",{class:"font-12 color-text-2 ml-3",href:e.$f.formatExplorerUrl(a.tokenInfo.network,a.tokenInfo.address),target:"_blank"},Object(i["toDisplayString"])(null===(Ie=a.tokenInfo.address)||void 0===Ie?void 0:Ie.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),9,L)],64)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:null===(Ae=a.tokenInfo)||void 0===Ae?void 0:Ae.symbol,class:"iconfont icon-copy font-12 color-text-2 ml-3"})),[[Tt,a.tokenInfo.address,a.danger]])]),null!==(Le=e.$store.state.pair)&&void 0!==Le&&Le.created_at?(Object(i["openBlock"])(),Object(i["createBlock"])(vt,{key:0,visible:n.showTooltipTime,"onUpdate:visible":t[15]||(t[15]=e=>n.showTooltipTime=e),manual:"true",effect:"customized",content:e.$f.formatDate(null===(Pe=e.$store.state.pair)||void 0===Pe?void 0:Pe.created_at,"YYYY-MM-DD HH:mm:ss"),placement:"top","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>{var o,l,n;return[null!==(o=e.$store.state.pair)&&void 0!==o&&o.created_at?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,href:"",class:"color-text-2 ml-10",onClick:t[14]||(t[14]=Object(i["withModifiers"])(()=>{},["stop","prevent"]))},Object(i["toDisplayString"])(null!==(l=e.$store.state.pair)&&void 0!==l&&l.created_at?e.$dayjs(1e3*(null===(n=e.$store.state.pair)||void 0===n?void 0:n.created_at)).fromNow():""),1)):Object(i["createCommentVNode"])("",!0)]}),_:1},8,["visible","content","popper-class"])):Object(i["createCommentVNode"])("",!0),(null===(Fe=a.tokenInfo)||void 0===Fe?void 0:Fe.buy_tax)>0||(null===(Re=a.tokenInfo)||void 0===Re?void 0:Re.sell_tax)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",P,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tax"))+":",1),(null===(Me=a.tokenInfo)||void 0===Me?void 0:Me.buy_tax)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"text-12px tax-text",style:Object(i["normalizeStyle"])({color:e.$store.getters.upColor[3]})},Object(i["toDisplayString"])(e.$f.formatNumber2(a.tokenInfo.buy_tax,1))+"% ",5)):Object(i["createCommentVNode"])("",!0),(null===(Ue=a.tokenInfo)||void 0===Ue?void 0:Ue.sell_tax)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"text-12px tax-text",style:Object(i["normalizeStyle"])({color:e.$store.getters.downColor[3]})},Object(i["toDisplayString"])(e.$f.formatNumber2(a.tokenInfo.sell_tax,1))+"% ",5)):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),(null===(ze=a.getTags(a.pair))||void 0===ze||null===(ze=ze.signal_arr)||void 0===ze?void 0:ze.length)>0?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:2},Object(i["renderList"])(null===(He=a.getTags(a.pair))||void 0===He||null===(He=He.signal_arr)||void 0===He?void 0:He.slice(0,3),(o,l)=>{var s,c,r,d,u,m;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"flex tag-btn signal pointer",key:l,onMouseover:Object(i["withModifiers"])(t=>{n.buttonTagRef=t.currentTarget,n.toolTipTagVisible=!0,n.toolTipTagContent=e.$f.getTagTooltip(o)+("smarter_buy"==o.tag||"smarter_sell"==o.tag?`（${e.$t("amountU")}>$10)`:"")},["stop"]),onMouseleave:t[16]||(t[16]=Object(i["withModifiers"])(e=>n.toolTipTagVisible=!1,["stop"]))},[Object(i["createVNode"])(dt,{class:"token-icon-signal-tag",src:e.$f.formatIconTag(o.tag),lazy:""},{error:Object(i["withCtx"])(()=>t[35]||(t[35]=[Object(i["createElementVNode"])("img",{class:"token-icon-signal-tag",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[36]||(t[36]=[Object(i["createElementVNode"])("img",{class:"token-icon-signal-tag",src:"/icon-default.png"},null,-1)])),_:2},1032,["src"]),"smarter_buy"!=o.tag&&"smarter_sell"!=o.tag||!((null===(s=a.pair)||void 0===s?void 0:s.smart_money_buy_count_24h)>0||(null===(c=a.pair)||void 0===c?void 0:c.smart_money_sell_count_24h)>0)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",R,[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:(null===(r=a.pair)||void 0===r?void 0:r.smart_money_buy_count_24h)>0?e.$store.getters.upColor[3]:"var(--custom-text-3-color)"})},Object(i["toDisplayString"])(e.$f.formatNumber2((null===(d=a.pair)||void 0===d?void 0:d.smart_money_buy_count_24h)||0,0)),5),t[37]||(t[37]=Object(i["createTextVNode"])(" / ")),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:(null===(u=a.pair)||void 0===u?void 0:u.smart_money_sell_count_24h)>0?e.$store.getters.downColor[3]:"var(--custom-text-3-color)"})},Object(i["toDisplayString"])(e.$f.formatNumber2((null===(m=a.pair)||void 0===m?void 0:m.smart_money_sell_count_24h)||0,0)),5)])),Object(i["createElementVNode"])("span",{class:"ml-2",style:Object(i["normalizeStyle"])({color:"green"==o.color?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},[o.tag?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[new RegExp("_buy.*$","gi").test(o.tag)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("buy")),1)],64)):new RegExp("_sell.*$","gi").test(o.tag)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("sell")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t(o.tag)),1)],64))],64)):Object(i["createCommentVNode"])("",!0)],4)],40,F)}),128)):Object(i["createCommentVNode"])("",!0),-1==(null===(qe=a.getTags(a.pair))||void 0===qe||null===(qe=qe.signal_arr)||void 0===qe?void 0:qe.findIndex(e=>"smarter_buy"==e.tag))&&-1==(null===(Qe=a.getTags(a.pair))||void 0===Qe||null===(Qe=Qe.signal_arr)||void 0===Qe?void 0:Qe.findIndex(e=>"smarter_sell"==e.tag))&&((null===(Ge=a.pair)||void 0===Ge?void 0:Ge.smart_money_buy_count_24h)>0||null!==(We=a.pair)&&void 0!==We&&We.smart_money_sell_count_24h)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:3,class:"minor flex-end color-text-2 tag-btn signal pointer",onMouseover:t[17]||(t[17]=Object(i["withModifiers"])(t=>{var o,i;n.buttonTagRef=t.currentTarget,n.toolTipTagVisible=!0,n.toolTipTagContent=e.$f.getTagTooltip({smart_money_buy_count_24h:null===(o=a.pair)||void 0===o?void 0:o.smart_money_buy_count_24h,smart_money_sell_count_24h:null===(i=a.pair)||void 0===i?void 0:i.smart_money_sell_count_24h})},["stop"])),onMouseleave:t[18]||(t[18]=Object(i["withModifiers"])(e=>n.toolTipTagVisible=!1,["stop"]))},[t[38]||(t[38]=Object(i["createElementVNode"])("i",{class:"iconfont icon-purse mr-2px font-12"},null,-1)),Object(i["createElementVNode"])("span",M,Object(i["toDisplayString"])(e.$t("smarter1")),1),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:(null===(Ye=a.pair)||void 0===Ye?void 0:Ye.smart_money_buy_count_24h)>0?e.$store.getters.upColor[3]:"var(--custom-text-3-color)"})},Object(i["toDisplayString"])(e.$f.formatNumber2((null===(Je=a.pair)||void 0===Je?void 0:Je.smart_money_buy_count_24h)||0,0)),5),t[39]||(t[39]=Object(i["createTextVNode"])(" / ")),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:(null===(Ke=a.pair)||void 0===Ke?void 0:Ke.smart_money_sell_count_24h)>0?e.$store.getters.downColor[3]:"var(--custom-text-3-color)"})},Object(i["toDisplayString"])(e.$f.formatNumber2((null===(Ze=a.pair)||void 0===Ze?void 0:Ze.smart_money_sell_count_24h)||0,0)),5)],32)):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(Ot),Object(i["createVNode"])(ht,{width:"120px"},{reference:Object(i["withCtx"])(()=>{var e,t;return[Object(i["createElementVNode"])("span",U,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",z,[Object(i["createElementVNode"])("path",{fill:null!==(e=n.devToken)&&void 0!==e&&e.total_tokens?"#F6465D":"#5A5E64",d:"M8.04273 10H1.94948C1.80865 10 1.69463 9.87378 1.69463 9.71787V8.05005H8.29757V9.71914C8.29648 9.87378 8.18246 10 8.04273 10ZM1.69463 7.43178V6.31448C0.714308 6.05962 0 5.07978 0 3.94159C0 2.59556 0.988135 1.50067 2.20322 1.50067C2.44801 1.50067 2.69172 1.54645 2.91975 1.63308C3.22493 0.669309 4.05656 1.3726e-10 4.99999 1.3726e-10C5.94342 -1.10678e-05 6.77507 0.66932 7.08025 1.63308C7.30942 1.54645 7.55198 1.50067 7.79678 1.50067C9.01187 1.50067 10 2.59556 10 3.94159C10 5.07978 9.2857 6.05842 8.30536 6.31448V7.43178H1.69463Z"},null,8,H)])),Object(i["createElementVNode"])("span",q,Object(i["toDisplayString"])(null===(t=n.devToken)||void 0===t?void 0:t.total_tokens),1)])]}),default:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createElementVNode"])("div",Q,[Object(i["createElementVNode"])("span",G,[Object(i["createElementVNode"])("span",null,"Dev"+Object(i["toDisplayString"])(e.$t("migrated")),1),Object(i["createElementVNode"])("span",W,Object(i["toDisplayString"])(n.devToken.total_migrated),1)]),Object(i["createElementVNode"])("span",Y,[Object(i["createElementVNode"])("span",null,"Dev"+Object(i["toDisplayString"])(e.$t("totalTokens")),1),Object(i["createElementVNode"])("span",J,Object(i["toDisplayString"])(n.devToken.total_tokens),1)]),Object(i["createElementVNode"])("div",K,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("migrationRate")),1),Object(i["createElementVNode"])("span",Z,Object(i["toDisplayString"])(null!==(t=n.devToken)&&void 0!==t&&t.total_tokens?((null!==(o=n.devToken.total_migrated)&&void 0!==o?o:0)/n.devToken.total_tokens*100).toFixed(2):0)+"% ",1)])])]}),_:1})])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",X,Object(i["toDisplayString"])(a.tokenInfo.symbol),1))])]),Object(i["createElementVNode"])("div",ee,[(null===(Xe=e.$store.state.pair)||void 0===Xe?void 0:Xe.progress)>0&&(null===(et=e.$store.state.pair)||void 0===et?void 0:et.progress)<100?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",te,[Object(i["createElementVNode"])("div",oe,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("progress"))+":",1),Object(i["createElementVNode"])("span",ie,Object(i["toDisplayString"])(e.$f.formatNumber2(e.$store.state.pair.progress||0,2))+"%",1),Object(i["createVNode"])(vt,{visible:n.showTooltip,"onUpdate:visible":t[21]||(t[21]=e=>n.showTooltip=e),manual:"true",effect:"customized",content:null===(tt=e.$store.state.pair)||void 0===tt?void 0:tt.amm,placement:"top","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>{var o,l;return["unknown"===e.$store.state.pair.amm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",le)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,href:(null===(o=e.$store.state.pair)||void 0===o?void 0:o.swap_url)+(null===(l=e.$store.state.pair)||void 0===l?void 0:l.target_token),target:"_blank",onMouseenter:t[19]||(t[19]=e=>n.showTooltip=!0),onMouseleave:t[20]||(t[20]=e=>n.showTooltip=!1)},[Object(i["createElementVNode"])("img",{class:"icon-svg icon-symbol round",src:e.$f.formatIconSwap(e.$store.state.pair.amm),onerror:"this.src='/icon-default.png'",height:"20"},null,8,ae)],40,ne))]}),_:1},8,["visible","content","popper-class"])]),Object(i["createElementVNode"])("div",se,[Object(i["createVNode"])(ft,{percentage:null===(ot=e.$store.state.pair)||void 0===ot?void 0:ot.progress,"stroke-width":4,color:"#1CC982","show-text":!1,style:{width:"70px"}},null,8,["percentage"]),100==(null===(it=e.$store.state.pair)||void 0===it?void 0:it.progress)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ce,[Object(i["createVNode"])(kt,{size:12,color:"#fff"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(jt)]),_:1}),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("opened")),1)])):Object(i["createCommentVNode"])("",!0)])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",re,[Object(i["createElementVNode"])("div",de,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2(a.currentPrice||0)),1),Object(i["createElementVNode"])("div",ue,[Object(i["createElementVNode"])("span",{class:"text-14px",style:Object(i["normalizeStyle"])({color:a.tokenPriceChange>0?e.$store.getters.upColor[3]:a.tokenPriceChange<0?"#F6465D":"var(--custom-text-2-color)"})},Object(i["toDisplayString"])(a.tokenPriceChange>0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumber2(a.tokenPriceChange))+"% ",5)])]),Object(i["createElementVNode"])("div",{class:"table-item clickable-btn",onClick:t[22]||(t[22]=Object(i["withModifiers"])((...e)=>a.openCheckPop&&a.openCheckPop(...e),["stop"]))},[Object(i["createElementVNode"])("div",me,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("audit1")),1),Object(i["createVNode"])(kt,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(gt)]),_:1})]),Object(i["createElementVNode"])("div",be,[-1==a.tokenInfo.risk_level||a.tokenInfo.risk_score>=60||e.$store.state.check.statistics_risk>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",he,t[40]||(t[40]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-risk-gaoliang"},null,-1)]))):e.$store.state.check.statistics_warning>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",pe,t[41]||(t[41]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-yichang1-gaoliang"},null,-1)]))):e.$store.state.check.statistics_risk||e.$store.state.check.statistics_warning||e.$store.state.check.statistics_unknown?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Oe,t[43]||(t[43]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-zhuyi1"},null,-1)]))):(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",ve,t[42]||(t[42]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-anquan"},null,-1)]))),e.$store.state.check.statistics_risk||e.$store.state.check.statistics_warning||e.$store.state.check.statistics_unknown?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:4,class:"ml-5",style:Object(i["normalizeStyle"])([{"font-weight":"600"},{color:a.getRiskColor(a.tokenInfo)}])},Object(i["toDisplayString"])(e.$store.state.check.statistics_risk||e.$store.state.check.statistics_warning||e.$store.state.check.statistics_unknown||""),5)):Object(i["createCommentVNode"])("",!0)])]),"solana"==a.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"table-item clickable-btn",onClick:t[23]||(t[23]=Object(i["withModifiers"])((...e)=>a.openRunPop&&a.openRunPop(...e),["stop"]))},[Object(i["createElementVNode"])("div",fe,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("flag_rug_pull")),1),(null===(lt=n.rugPull)||void 0===lt||null===(lt=lt.rates)||void 0===lt?void 0:lt.rugged_rate)>0||-1==(null===(nt=n.rugPull)||void 0===nt||null===(nt=nt.rates)||void 0===nt?void 0:nt.rugged_rate)?(Object(i["openBlock"])(),Object(i["createBlock"])(kt,{key:0},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(gt)]),_:1})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{class:"color-text-1 mt-5px font-500 text-14px flex-start font-12",style:Object(i["normalizeStyle"])({color:(null===(at=n.rugPull)||void 0===at||null===(at=at.rates)||void 0===at?void 0:at.rugged_rate)>60?"#F6465D":"#959A9F"})},[t[44]||(t[44]=Object(i["createElementVNode"])("i",{class:"iconfont icon-rug font-12 mr-2px"},null,-1)),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(-1==(null===(st=n.rugPull)||void 0===st||null===(st=st.rates)||void 0===st?void 0:st.rugged_rate)?e.$t("unKnown1"):e.$f.formatNumber2((null===(ct=n.rugPull)||void 0===ct||null===(ct=ct.rates)||void 0===ct?void 0:ct.rugged_rate)||0,2)+"%"),1)],4)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createVNode"])(yt,{visible:n.visible1,"onUpdate:visible":t[24]||(t[24]=e=>n.visible1=e),selected:n.activeGroup,"onUpdate:selected":t[25]||(t[25]=e=>n.activeGroup=e),title:e.$t("favoriteTo"),groups:a.groups,isRemark:"",onSelect:a.addFavorite},null,8,["visible","selected","title","groups","onSelect"]),Object(i["createVNode"])(_t,{modelValue:n.visible,"onUpdate:modelValue":t[26]||(t[26]=e=>n.visible=e),width:"600px",class:"dialog"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",je,Object(i["toDisplayString"])(e.$t("holdersDetail")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(wt,{class:"holders",type:"pair",checkResult:a.LPHolders,onlyList:""},null,8,["checkResult"])]),_:1},8,["modelValue"]),Object(i["createVNode"])(vt,{visible:n.toolTipTagVisible,content:n.toolTipTagContent,placement:"top","popper-class":e.$store.state.mode,effect:"customized","virtual-ref":n.buttonTagRef,"virtual-triggering":""},null,8,["visible","content","popper-class","virtual-ref"]),Object(i["createVNode"])(ht,{ref:"popoverRef","virtual-ref":e.$refs.buttonRef,trigger:"click",title:"",placement:"bottom-start",visible:n.popoverVisible,"onUpdate:visible":t[27]||(t[27]=e=>n.popoverVisible=e),"virtual-triggering":"",width:"300"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("ul",ke,[Object(i["createVNode"])($t,{"max-height":"300"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.pairs,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:l,class:Object(i["normalizeClass"])({active:e.$store.state.pair.pair===o.pair}),onClick:Object(i["withModifiers"])(t=>{e.$store.commit("setInitToken",o.pair),n.popoverVisible=!1},["stop"])},[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",ye,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.target_token===o.token0_address?o.token0_symbol:o.token1_symbol),1),Object(i["createElementVNode"])("span",we,"  / "+Object(i["toDisplayString"])(o.target_token===o.token0_address?o.token1_symbol:o.token0_symbol),1)]),Object(i["createElementVNode"])("div",_e,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.target_token===o.token0_address?e.$f.formatNumberS(o.reserve0||0):e.$f.formatNumberS(o.reserve1||0)),1),Object(i["createElementVNode"])("span",$e," /"+Object(i["toDisplayString"])(o.target_token===o.token0_address?e.$f.formatNumberS(o.reserve1||0):e.$f.formatNumberS(o.reserve0||0)),1)])]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Ne,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumberS(o.target_token===o.token0_address?null===o||void 0===o?void 0:o.token0_price_usd:null===o||void 0===o?void 0:o.token1_price_usd,4)),1),Object(i["createVNode"])(vt,{content:o.amm,placement:"top","popper-class":e.$store.state.mode,effect:"customized"},{default:Object(i["withCtx"])(()=>["unknown"===o.amm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",Te)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,href:o.swap_url+o.target_token,target:"_blank"},[Object(i["createElementVNode"])("img",{class:"icon-svg icon-symbol ml-5",style:{"border-radius":"50%"},src:e.$f.formatIconSwap(o.amm),onerror:"this.src='/icon-default.png'",height:"20"},null,8,xe)],8,Ve))]),_:2},1032,["content","popper-class"])]),Object(i["createElementVNode"])("div",Se,[t[45]||(t[45]=Object(i["createElementVNode"])("span",{class:"color-text-2 mr-3"},"Vol",-1)),Object(i["createElementVNode"])("span",Ee,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS((null===o||void 0===o?void 0:o.volume_u_24h)||0)),1),t[46]||(t[46]=Object(i["createElementVNode"])("span",{class:"color-text-2 mr-3"},"Txns",-1)),Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS((null===o||void 0===o?void 0:o.tx_24h_count)||0)),1)])])],10,ge))),128))]),_:1})])]),_:1},8,["virtual-ref","visible"]),Object(i["createVNode"])(Nt,{visible:n.visibleEdit,"onUpdate:visible":t[28]||(t[28]=e=>n.visibleEdit=e),isScroll:!0},null,8,["visible"])])],64)}o("14d9"),o("2382"),o("fffc"),o("a573"),o("9a9a");var Ce=o("c3ff"),De=o("365c"),Ie=o("ca0f"),Ae=o("fa7d"),Le=o("901e"),Pe=o.n(Le),Fe=(o("76d6"),o("fa85")),Re=o.n(Fe);const Me={key:0,class:"flex-1"},Ue={class:"label"},ze={class:"value"},He={key:1,class:"flex-1"},qe={class:"label"},Qe={class:"value"},Ge={key:2,class:"flex-1"},We={class:"label"},Ye={class:"range-text"},Je={class:"range"},Ke={key:3,class:"card"},Ze={class:"card-h"},Xe=["href"],et={key:2,class:"iconfont icon-LP","aria-hidden":"true",style:{width:"15px",height:"15px","vertical-align":"middle"}},tt={key:3,class:"iconfont icon-contract",style:{"vertical-align":"middle"}},ot={key:0,class:"table-lock"},it={key:0,class:"more"},lt=["href"],nt={key:4,class:"card"},at={key:0,class:"card-h"},st={key:0,class:"card-list-item"},ct={style:{color:"var(--custom-text-2-color)"}},rt={style:{color:"var(--custom-text-2-color)"}},dt=["href"],ut={key:0,style:{height:"15px"},src:Re.a,alt:"",srcset:""},mt={key:2,class:"iconfont icon-contract"},bt={key:0},ht={key:1},pt={key:0,class:"table-lock"},vt={key:1,class:"more"},Ot=["href"];function ft(e,t,o,l,n,a){var s,c,r,d,u,m;const b=Object(i["resolveComponent"])("van-tag"),h=Object(i["resolveComponent"])("van-icon");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,["token"===o.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Me,[Object(i["createElementVNode"])("span",Ue,Object(i["toDisplayString"])(e.$t("totalSupply1")),1),Object(i["createElementVNode"])("span",ze,Object(i["toDisplayString"])(e.$f.formatNumber2(o.checkResult.total||0)),1)])):Object(i["createCommentVNode"])("",!0),"pair"!==o.type||o.onlyList?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",He,[Object(i["createElementVNode"])("span",qe,Object(i["toDisplayString"])(e.$t("totalSupply1")),1),Object(i["createElementVNode"])("span",Qe,Object(i["toDisplayString"])(e.$f.formatNumber2(o.checkResult.pair_total)),1)])),o.onlyList?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ge,[Object(i["createElementVNode"])("span",We,Object(i["toDisplayString"])(a.label),1),t[0]||(t[0]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("span",Ye,Object(i["toDisplayString"])(e.$f.formatPercent(a.range)),1),Object(i["createElementVNode"])("div",Je,[Object(i["createElementVNode"])("span",{class:"range-bar",style:Object(i["normalizeStyle"])({width:e.$f.formatPercent(a.range)})},null,4)])])),"token"===o.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ke,[Object(i["createElementVNode"])("h3",Ze,"TOP 10 "+Object(i["toDisplayString"])(e.$t("tokenHolderInfo")),1),Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(s=o.checkResult)||void 0===s?void 0:s.token_holders_rank)||[],(l,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[Object(i["createElementVNode"])("li",{class:Object(i["normalizeClass"])(["card-list-item",{"bg-warning":1===Number(null===l||void 0===l?void 0:l.analysis_show_warning)}])},[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(o.checkResult.chain||"",l.address||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n+1)+".",1),1===Number(null===l||void 0===l?void 0:l.analysis_show_creator)?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:0,type:"primary",round:"",size:"10",class:"mr-3"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("contractCreator")),1)]),_:1})):Object(i["createCommentVNode"])("",!0),a.formatLock(l)?(Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:1,color:"#B3920E",name:"lock",style:{"vertical-align":"middle"}})):Object(i["createCommentVNode"])("",!0),1===l.is_lp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",et,t[1]||(t[1]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-LP"},null,-1)]))):Object(i["createCommentVNode"])("",!0),1===l.is_contract?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",tt)):Object(i["createCommentVNode"])("",!0),l.mark?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:5},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(l.mark),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createTextVNode"])(Object(i["toDisplayString"])((l.address||"").slice(0,2)+"..."+(l.address||"").slice(-4)),1)],64)),l.lock&&l.lock.length>0&&l.lock.every(e=>1e3*e.unlockDate<=Date.now())?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:6},[t[2]||(t[2]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("unlocked")),1)],64)):Object(i["createCommentVNode"])("",!0)],8,Xe),Object(i["createElementVNode"])("span",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(l.quantity||0,2,4,1e4))+" ",1),o.checkResult.total&&l.quantity?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" ("+Object(i["toDisplayString"])(e.$f.formatPercent(l.quantity/o.checkResult.total,2))+") ",1)],64)):Object(i["createCommentVNode"])("",!0)])],2),l.lock&&l.lock.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("table",ot,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("lockDate")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateStart")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateEnd")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.lock,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.amount||0,2,4,1e4)),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.vesting_end||t.unlockDate,"YYYY-MM-DD")),1)]))),128))])])):Object(i["createCommentVNode"])("",!0)],64))),128))]),null!==(c=o.checkResult)&&void 0!==c&&c.chain&&null!==(r=o.checkResult)&&void 0!==r&&r.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",it,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(o.checkResult.chain,o.checkResult.token,"token")+"#balances",target:"_blank"},Object(i["toDisplayString"])(e.$t("moreDetails")),9,lt)])):Object(i["createCommentVNode"])("",!0)])):"pair"===o.type?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",nt,[o.onlyList?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h3",at,"TOP 10 LP "+Object(i["toDisplayString"])(e.$t("tokenHolderInfo")),1)),Object(i["createElementVNode"])("ul",null,[o.onlyList?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",st,[Object(i["createElementVNode"])("span",ct,Object(i["toDisplayString"])(e.$t("holders2"))+Object(i["toDisplayString"])(o.holders?`(${o.holders})`:""),1),Object(i["createElementVNode"])("span",rt,Object(i["toDisplayString"])(e.$t("details")),1)])):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(d=o.checkResult)||void 0===d?void 0:d.pair_holders_rank)||[],(l,n)=>{var s,c,r;return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:n},[Object(i["createElementVNode"])("li",{class:Object(i["normalizeClass"])(["card-list-item",{"bg-warning":1===Number(null===l||void 0===l?void 0:l.analysis_show_warning)}])},[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(o.checkResult.chain||"",l.address||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n+1)+".",1),1===Number(null===l||void 0===l?void 0:l.analysis_show_creator)?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:0,type:"primary",round:"",size:"10",class:"mr-3"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("contractCreator")),1)]),_:1})):Object(i["createCommentVNode"])("",!0),a.formatLock(l)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[(null===l||void 0===l||null===(s=l.lock)||void 0===s?void 0:s.length)>0&&null!==l&&void 0!==l&&null!==(c=l.lock)&&void 0!==c&&null!==(r=c.every)&&void 0!==r&&r.call(c,e=>1e3*e.unlockDate<=Date.now())?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",ut)):(Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:1,color:"#B3920E",name:"lock"}))],64)):Object(i["createCommentVNode"])("",!0),1===l.is_contract?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",mt)):Object(i["createCommentVNode"])("",!0),l.mark?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(l.mark),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:3},[Object(i["createTextVNode"])(Object(i["toDisplayString"])((l.address||"").slice(0,2)+"..."+(l.address||"").slice(-4)),1)],64)),l.lock&&l.lock.length>0&&l.lock.every(e=>1e3*e.unlockDate<=Date.now())?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:5},[t[3]||(t[3]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("unlocked")),1)],64)):Object(i["createCommentVNode"])("",!0)],8,dt),o.onlyList?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",bt,Object(i["toDisplayString"])(e.$f.formatNumber2(l.quantity||0,2,4,1e4))+" ("+Object(i["toDisplayString"])(e.$f.formatNumber2(l.percent||0,2))+"%) ",1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ht,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(l.quantity||0,2,4,1e4))+" ",1),o.checkResult.pair_total&&l.quantity||l.percent?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" ("+Object(i["toDisplayString"])(l.percent&&Number(l.percent)?e.$f.formatPercent(l.percent,2):e.$f.formatPercent(l.quantity/o.checkResult.pair_total,2))+") ",1)],64)):Object(i["createCommentVNode"])("",!0)]))],2),l.lock&&l.lock.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("table",pt,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("lockDate")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateStart")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateEnd")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(l.lock,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o,style:Object(i["normalizeStyle"])({color:1e3*t.unlockDate<=Date.now()?"#FF9F00":""})},[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.amount||0,2,4,1e4)),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.vesting_end||t.unlockDate,"YYYY-MM-DD")),1)],4))),128))])])):Object(i["createCommentVNode"])("",!0)],64)}),128))]),o.checkResult&&(null===(u=o.checkResult)||void 0===u||null===(u=u.dex)||void 0===u?void 0:u.length)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",vt,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(o.checkResult.chain,null===(m=o.checkResult.dex)||void 0===m||null===(m=m[0])||void 0===m?void 0:m.pair,"token")+"#balances",target:"_blank"},Object(i["toDisplayString"])(e.$t("moreDetails")),9,Ot)])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0)])}o("13d5"),o("9d4a");var jt=o("9a1c"),kt=o("5d4b"),gt={name:"CheckHolders",props:{checkResult:Object,type:{type:String,default:"token"},onlyList:{type:Boolean,default:!1},holders:{type:Number,default:0}},components:{"van-icon":jt["a"],"van-tag":kt["a"]},data(){return{}},computed:{tokenInfo(){return this.$store.state.tokenInfo||{}},holdersPieData(){var e,t;let o=(null===(e=this.checkResult)||void 0===e||null===(e=e.token_holders_rank)||void 0===e?void 0:e.filter(e=>"0x000000000000000000000000000000000000dead"!==(null===e||void 0===e?void 0:e.address)))||[],i=(null===(t=this.checkResult)||void 0===t||null===(t=t.token_holders_rank)||void 0===t?void 0:t.filter(e=>"0x000000000000000000000000000000000000dead"===(null===e||void 0===e?void 0:e.address)))||[],l=i.reduce((e,t)=>e+Number(t.quantity),0),n=o.reduce((e,t)=>e+Number(t.quantity),0),a=n/(this.checkResult.total-l);return[{name:"tokenHolders",value:a},{name:"default",value:1-a}]},pairHoldersPieData(){var e;let t=(null===(e=this.checkResult)||void 0===e?void 0:e.pair_holders_rank)||[],o=t.reduce((e,t)=>{let o=0;return this.formatLock(t)&&(o=Number(t.percent)||Number(t.quantity)/this.checkResult.pair_total),e+o},0),i=o;return[{name:"pairHolders",value:i},{name:"default",value:1-i}]},pieData(){return"token"===this.type?this.holdersPieData:"pair"===this.type?this.pairHoldersPieData:[]},range(){var e;return(null===(e=this.pieData)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.value)||0},label(){return"pair"===this.type?this.$t("LPLocked"):this.$t("top10Holder")}},methods:{formatLock(e){return e.lock||/lock|null|(black hole)/gi.test(e.mark||"")}}},yt=(o("e44b"),o("6b0d")),wt=o.n(yt);const _t=wt()(gt,[["render",ft],["__scopeId","data-v-8ace5082"]]);var $t=_t,Nt=o("4b226"),Tt=o("4334"),Vt=o.n(Tt);const xt={class:"flex-start"},St={class:"font_18 title"},Et={class:"border mt_20"},Bt={class:"holder"},Ct=["onClick"],Dt={class:"item"},It=["src"],At={class:"flex-between mt_10"},Lt={class:"flex-start mt_10"},Pt={class:"flex-start mt_10"},Ft={class:"flex-start mt_10"},Rt={class:"flex-start mt_10"},Mt={class:"mt_5 block",style:{"font-size":"10px",color:"#959a9f"}};function Ut(e,t,o,l,n,a){var s;const c=Object(i["resolveComponent"])("el-tooltip"),r=Object(i["resolveComponent"])("el-popover");return(null===(s=n.list)||void 0===s?void 0:s.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,placement:"bottom","popper-class":"chains-table-filter",title:"",width:325,trigger:"click",visible:n.show,"onUpdate:visible":t[1]||(t[1]=e=>n.show=e)},{reference:Object(i["withCtx"])(()=>{var e,o,l,a;return[Object(i["createElementVNode"])("a",{class:"ml-5 top50",href:"",onClick:t[0]||(t[0]=Object(i["withModifiers"])(()=>{},["stop","prevent"]))},[t[2]||(t[2]=Object(i["createElementVNode"])("i",{class:"iconfont icon-TOP font-12 mr-2px"},null,-1)),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])({text:((null===(e=n.list)||void 0===e||null===(e=e.filter(e=>4==(null===e||void 0===e?void 0:e.tag_type)||1==(null===e||void 0===e?void 0:e.tag_type)||2==(null===e||void 0===e?void 0:e.tag_type)))||void 0===e?void 0:e.length)||0)/Math.min((null===(o=n.list)||void 0===o?void 0:o.length)||50)>1/3})},Object(i["toDisplayString"])((null===(l=n.list)||void 0===l||null===(l=l.filter(e=>4==(null===e||void 0===e?void 0:e.tag_type)||1==(null===e||void 0===e?void 0:e.tag_type)||2==(null===e||void 0===e?void 0:e.tag_type)))||void 0===l?void 0:l.length)||0),3),Object(i["createTextVNode"])(" /"+Object(i["toDisplayString"])(Math.min((null===(a=n.list)||void 0===a?void 0:a.length)||50))+" ",1),t[3]||(t[3]=Object(i["createElementVNode"])("i",{class:"iconfont icon-youjiantou"},null,-1))])]}),default:Object(i["withCtx"])(()=>{var o,l,s,r,d,u,m,b,h,p,v,O,f,j;return[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["filter-box",e.$store.state.mode])},[Object(i["createElementVNode"])("div",xt,[Object(i["createElementVNode"])("span",St,Object(i["toDisplayString"])("early"==(null===(o=n.list[0])||void 0===o?void 0:o.tag)?e.$t("top50TitleHold"):e.$t("top50TitleEarly")),1),"early"==(null===(l=n.list[0])||void 0===l?void 0:l.tag)?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,effect:"customized",placement:"top","popper-class":e.$store.state.mode},{content:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("top50TitleTip")),1)]),default:Object(i["withCtx"])(()=>[t[4]||(t[4]=Object(i["createElementVNode"])("i",{class:"iconfont icon-jiancexiang font-14 ml-5",style:{color:"#959a9f","margin-top":"2px"}},null,-1))]),_:1},8,["popper-class"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Et,[Object(i["createElementVNode"])("div",Bt,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.list,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:o},[a.filterTag(t.tag_type)?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,effect:"customized",placement:"top","popper-class":e.$store.state.mode,"hide-after":0},{content:Object(i["withCtx"])(()=>{var e;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(null===(e=a.filterTag(t.tag_type))||void 0===e?void 0:e.text),1)]}),default:Object(i["withCtx"])(()=>{var o,l,n,s;return[Object(i["createElementVNode"])("a",{href:"",onClick:Object(i["withModifiers"])(e=>a.jumpBalance(t),["stop","prevent"])},[Object(i["createElementVNode"])("div",Dt,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["dot iconfont",null===(o=a.filterTag(t.tag_type))||void 0===o?void 0:o.icon]),style:Object(i["normalizeStyle"])({color:null===(l=a.filterTag(t.tag_type))||void 0===l?void 0:l.color})},null,6),(null===t||void 0===t||null===(n=t.new_tags)||void 0===n?void 0:n.length)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,style:{"max-width":"10px","max-height":"10px"},class:"mr-3",src:e.$f.formatNewTags(null===(s=t.new_tags[0])||void 0===s?void 0:s.icon),alt:""},null,8,It)):Object(i["createCommentVNode"])("",!0)])],8,Ct)]}),_:2},1032,["popper-class"])):Object(i["createCommentVNode"])("",!0)]))),128))]),Object(i["createElementVNode"])("div",At,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Lt,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["dot iconfont font-10 mr-5",null===(s=a.filterTag(1))||void 0===s?void 0:s.icon]),style:Object(i["normalizeStyle"])({color:null===(r=a.filterTag(1))||void 0===r?void 0:r.color})},null,6),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("top50Holders"))+"："+Object(i["toDisplayString"])((null===(d=n.list)||void 0===d||null===(d=d.filter(e=>1==e.tag_type))||void 0===d?void 0:d.length)||0),1)]),Object(i["createElementVNode"])("div",Pt,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["dot iconfont font-10 mr-5",null===(u=a.filterTag(3))||void 0===u?void 0:u.icon]),style:Object(i["normalizeStyle"])({color:null===(m=a.filterTag(3))||void 0===m?void 0:m.color})},null,6),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("top50SSoldOut"))+"："+Object(i["toDisplayString"])((null===(b=n.list)||void 0===b||null===(b=b.filter(e=>3==e.tag_type))||void 0===b?void 0:b.length)||0),1)])]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",Ft,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["dot iconfont font-10 mr-5",null===(h=a.filterTag(2))||void 0===h?void 0:h.icon]),style:Object(i["normalizeStyle"])({color:null===(p=a.filterTag(2))||void 0===p?void 0:p.color})},null,6),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("top50Increase"))+"："+Object(i["toDisplayString"])((null===(v=n.list)||void 0===v||null===(v=v.filter(e=>2==e.tag_type))||void 0===v?void 0:v.length)||0),1)]),Object(i["createElementVNode"])("div",Rt,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["dot iconfont font-10 mr-5",null===(O=a.filterTag(4))||void 0===O?void 0:O.icon]),style:Object(i["normalizeStyle"])({color:null===(f=a.filterTag(4))||void 0===f?void 0:f.color,"margin-top":"2px"})},null,6),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("top50PartialSale"))+"："+Object(i["toDisplayString"])((null===(j=n.list)||void 0===j||null===(j=j.filter(e=>4==e.tag_type))||void 0===j?void 0:j.length)||0),1)])])])]),t[5]||(t[5]=Object(i["createElementVNode"])("div",{class:"flex-start mt_20"},[Object(i["createElementVNode"])("img",{src:Vt.a,style:{height:"17px"},height:"17",alt:"",srcset:""}),Object(i["createElementVNode"])("span",{class:"ml-5 font-14"},"Ave.ai")],-1)),Object(i["createElementVNode"])("span",Mt,Object(i["toDisplayString"])(e.$t("campaignTitle")),1)],2)]}),_:1},8,["visible"])):Object(i["createCommentVNode"])("",!0)}var zt={data(){return{show:!1,list:[]}},watch:{"$store.state.id"(e){e&&this.getEarlyholders()}},mounted(){this.getEarlyholders()},methods:{jumpBalance(e){var t;let{chain:o}=this.$f.getAddressAndChainFromId(this.$route.params.id)||(null===(t=this.$store.state.tokenInfo)||void 0===t?void 0:t.chain);const i=this.$router.resolve({name:"Balance",params:{chain:o,userAddress:e.account_address},query:{from:this.$route.name}});window.open(i.href,"_blank")},filterTag(e){let t={1:{color:"#12B886",icon:"icon-a-Ellipse7265555",text:this.$t("top50Holders")},2:{color:"#00B00F",icon:"icon-a-Ellipse7265555",text:this.$t("top50Increase")},3:{color:"#F6465D",icon:"icon-a-tuoyuanxing2",text:this.$t("top50SSoldOut")},4:{color:"#F6465D",icon:"icon-a-tuoyuanxing2beifen",text:this.$t("top50PartialSale")}};return t[e]||""},getEarlyholders(){let e={token_id:this.$store.state.id};Object(De["Tb"])(e).then(e=>{let t=Array.isArray(e)?null===e||void 0===e?void 0:e.slice(0,50):[];this.list=null===t||void 0===t?void 0:t.map(e=>{var t;return{...e,new_tags:null===(t=e.new_tags)||void 0===t?void 0:t.filter(e=>25==e.type||30==e.type||31==e.type)}})}).catch(e=>{}).finally(()=>{})}}};o("4781");const Ht=wt()(zt,[["render",Ut],["__scopeId","data-v-1aa9f7e0"]]);var qt=Ht;const Qt={class:"pop-right"},Gt={class:"content",style:{flex:"1","max-width":"450px","overflow-x":"hidden"}},Wt={class:"right-container run"},Yt={class:"sticky"},Jt={class:"flex-between"},Kt={class:"font-16 font_weight_500"},Zt={key:0,class:"mt_20 flex-between"},Xt={class:"font-14 font_weight_500"},eo={class:"item flex-start"},to={class:"flex-start color-999 font-12",style:{width:"66px"}},oo=["src"],io={class:"flex-end"},lo={class:"ml-5 font-12"},no={class:"mt_20 flex-between",style:{"padding-bottom":"10px"}},ao={class:"font-14 font_weight_500"},so={class:"font-12"},co={key:0,class:"flex-end"},ro={class:"color-999 font-12"},uo={class:"top"},mo={class:"flex-start"},bo={class:"relative"},ho=["infinite-scroll-disabled"],po=["onClick"],vo=["onClick"],Oo={class:"icon-token-container",style:{"margin-right":"10px"}},fo=["src"],jo={class:"flex-start"},ko={class:"token-symbol ellipsis"},go=["href"],yo=["onMouseover"],wo={key:0,class:"media-item"},_o=["href"],$o={class:"font-1 mt-2 flex-start",style:{"min-width":"110%"}},No={key:1},To={class:"flex-end"},Vo=["onClick"],xo={key:0},So={key:1};function Eo(e,t,o,l,n,a){var s,c,r,d,u,m,b,h,p,v,O;const f=Object(i["resolveComponent"])("el-tooltip"),j=Object(i["resolveComponent"])("el-progress"),k=Object(i["resolveComponent"])("el-col"),g=Object(i["resolveComponent"])("el-row"),y=Object(i["resolveComponent"])("el-image"),w=Object(i["resolveComponent"])("van-count-down"),_=Object(i["resolveComponent"])("el-empty"),$=Object(i["resolveDirective"])("copy"),N=Object(i["resolveDirective"])("infinite-scroll");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Qt,[Object(i["createElementVNode"])("div",Gt,[Object(i["createElementVNode"])("div",Wt,[Object(i["createElementVNode"])("div",Yt,[Object(i["createElementVNode"])("div",Jt,[Object(i["createElementVNode"])("span",Kt,Object(i["toDisplayString"])(e.$t("flag_rug_pull")),1),Object(i["createElementVNode"])("a",{href:"",class:"color-999 font-20",onClick:t[0]||(t[0]=Object(i["withModifiers"])(t=>e.$store.state.runVisible=!1,["stop","prevent"]))},t[8]||(t[8]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-_28-Arrows1 font-20"},null,-1)]))]),(null===(s=a.rugPull)||void 0===s?void 0:s.all_tag_rate)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Zt,[Object(i["createElementVNode"])("span",Xt,Object(i["toDisplayString"])(e.$t("abnormalChips"))+"："+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(c=a.rugPull)||void 0===c?void 0:c.all_tag_rate)||0,1))+"% ",1),Object(i["createVNode"])(f,{effect:"customized",placement:"top","popper-class":e.$store.state.mode},{content:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("abnormalChipsTip")),1)]),default:Object(i["withCtx"])(()=>[t[9]||(t[9]=Object(i["createElementVNode"])("i",{class:"iconfont icon-jiancexiang font-14 ml-5",style:{color:"#959a9f"}},null,-1))]),_:1},8,["popper-class"])])):Object(i["createCommentVNode"])("",!0),(null===(r=a.rugPull)||void 0===r?void 0:r.all_tag_rate)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:1,gutter:10},{default:Object(i["withCtx"])(()=>{var t;return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(t=a.rugPull)||void 0===t?void 0:t.rateList,(t,o)=>(Object(i["openBlock"])(),Object(i["createBlock"])(k,{span:12,class:"mt_10",key:o},{default:Object(i["withCtx"])(()=>{var o,l,n,s;return[Object(i["createElementVNode"])("div",eo,[Object(i["createElementVNode"])("span",to,[Object(i["createElementVNode"])("img",{style:{width:"12px","margin-right":"2px"},src:e.$f.formatNewTags(t.icon),alt:""},null,8,oo),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])((null===t||void 0===t||null===(o=t.title)||void 0===o?void 0:o[a.firstCharacterToupperCase(null===(l=e.$store.getters.language)||void 0===l||null===(n=l.replace)||void 0===n||null===(n=n.call(l,"zh-cn","Cn"))||void 0===n||null===(s=n.replace)||void 0===s?void 0:s.call(n,"zh-tw","Tw"))])||(null===t||void 0===t?void 0:t.En))+": ",1)]),Object(i["createElementVNode"])("div",io,[Object(i["createVNode"])(j,{class:"run-progress-bar ml-5",percentage:t.rate||0,"stroke-width":4,color:"#F6465D","show-text":!1,style:{width:"20px"}},null,8,["percentage"]),Object(i["createElementVNode"])("span",lo,Object(i["toDisplayString"])(e.$f.formatNumber2(t.rate||0,1))+"% ",1)])])]}),_:2},1024))),128))]}),_:1})):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",no,[Object(i["createElementVNode"])("span",ao,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("runPullHistory"))+"：",1),null!==(d=a.rugPull)&&void 0!==d&&null!==(d=d.rates)&&void 0!==d&&d.total?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("span",{class:"font-12",style:Object(i["normalizeStyle"])(a.ruggedColor?{color:a.ruggedColor}:{})},Object(i["toDisplayString"])(e.$f.formatNumber2((null===(u=a.rugPull)||void 0===u||null===(u=u.rates)||void 0===u?void 0:u.rugged)||0,0)),5),Object(i["createElementVNode"])("span",so,"/"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(m=a.rugPull)||void 0===m||null===(m=m.rates)||void 0===m?void 0:m.total)||0,0)),1)],64)):Object(i["createCommentVNode"])("",!0)]),null!==(b=a.rugPull)&&void 0!==b&&b.dev?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",co,[Object(i["createElementVNode"])("span",ro,Object(i["toDisplayString"])(e.$t("devAddress"))+"：",1),Object(i["createElementVNode"])("a",{href:"",onClick:t[1]||(t[1]=Object(i["withModifiers"])((...e)=>a.jumpBalance&&a.jumpBalance(...e),["stop","prevent"])),target:"_blank",class:"color-999 font-12 text-underline"},Object(i["toDisplayString"])((null===(h=a.rugPull)||void 0===h||null===(h=h.dev)||void 0===h?void 0:h.slice(0,4))+"..."+(null===(p=a.rugPull)||void 0===p||null===(p=p.dev)||void 0===p?void 0:p.slice(-4))),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",uo,[Object(i["createElementVNode"])("span",mo,Object(i["toDisplayString"])(e.$t("tokenMethod")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("runPullTime")),1),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("time")),1),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",{class:"iconfont icon-riqi clickable text-12px ml-3",onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>n.isShowDate=!1,["stop"]))},null,512),[[i["vShow"],n.isShowDate]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",{class:"iconfont icon-countdown clickable text-12px ml-3",onClick:t[3]||(t[3]=Object(i["withModifiers"])(e=>n.isShowDate=!0,["stop"]))},null,512),[[i["vShow"],!n.isShowDate]])]),t[10]||(t[10]=Object(i["createElementVNode"])("span",null,null,-1))])]),Object(i["createElementVNode"])("div",bo,[e.$store.state.runVisible?Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",{key:0,class:"content","infinite-scroll-disabled":n.loadingRun||n.finished,"infinite-scroll-distance":500,"infinite-scroll-delay":10,"infinite-scroll-immediate":!0},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.tableList,(o,l)=>{var s;return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"flex",key:l,onClick:Object(i["withModifiers"])(e=>a.tableRowClick(o),["stop"])},[Object(i["createElementVNode"])("div",{class:"token-info table-item_d",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},onClick:Object(i["withModifiers"])(e=>a.tableRowClick(o),["stop","prevent"])},[Object(i["createElementVNode"])("div",Oo,[Object(i["createVNode"])(y,{class:"token-icon",src:e.$f.formatIcon(o,o.Symbol)},{error:Object(i["withCtx"])(()=>{var t,l;return[Object(i["createElementVNode"])("div",{class:"token-icon",style:Object(i["normalizeStyle"])([{"line-height":"32px","text-align":"center","font-size":"16px",color:"#fff"},{background:e.$f.getChainDefaultIconColor(null===o||void 0===o?void 0:o.Chain)}])},Object(i["toDisplayString"])((null===(t=o.Symbol)||void 0===t||null===(t=t.slice(0,1))||void 0===t||null===(l=t.toUpperCase)||void 0===l?void 0:l.call(t))||""),5)]}),placeholder:Object(i["withCtx"])(()=>{var t,l;return[Object(i["createElementVNode"])("div",{class:"token-icon",style:Object(i["normalizeStyle"])([{"line-height":"32px","text-align":"center","font-size":"16px",color:"#fff"},{background:e.$f.getChainDefaultIconColor(null===o||void 0===o?void 0:o.Chain)}])},Object(i["toDisplayString"])((null===(t=o.symbol)||void 0===t||null===(t=t.slice(0,1))||void 0===t||null===(l=t.toUpperCase)||void 0===l?void 0:l.call(t))||""),5)]}),_:2},1032,["src"]),null!==o&&void 0!==o&&o.network||null!==o&&void 0!==o&&o.Chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${o.Chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,fo)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{onClick:t[7]||(t[7]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createElementVNode"])("div",jo,[Object(i["createElementVNode"])("span",ko,Object(i["toDisplayString"])(o.Symbol),1),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",{class:"iconfont icon-copy font_12 ml-2",onClick:t[4]||(t[4]=Object(i["withModifiers"])(()=>{},["stop","prevent"]))},null,512),[[$,o.Token]]),Object(i["createElementVNode"])("a",{class:"media-item ml-2 font_10",href:`https://x.com/search?q=($${o.Symbol} OR ${o.token})&src=typed_query&f=live`,target:"_blank"},t[11]||(t[11]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-search font_10"},null,-1)]),8,go),(null===o||void 0===o||null===(s=o.medias)||void 0===s?void 0:s.length)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"media-list flex-start font_12",onClick:t[6]||(t[6]=Object(i["withModifiers"])(()=>{},["stop"]))},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===o||void 0===o?void 0:o.medias,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:l},[o.url?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"ml-2",onMouseover:Object(i["withModifiers"])(t=>{e.buttonTagRef=t.currentTarget,e.toolTipTagVisible=!0,e.toolTipTagContent=o.url},["stop"]),onMouseleave:t[5]||(t[5]=Object(i["withModifiers"])(t=>e.toolTipTagVisible=!1,["stop"]))},["QQ"===o.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",wo,t[12]||(t[12]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-QQ font_12"},null,-1)]))):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,class:"media-item font_12",href:o.url,target:"_blank"},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["iconfont font_12","icon-"+o.icon])},null,2)],8,_o))],40,yo)):Object(i["createCommentVNode"])("",!0)],64))),128))])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",$o,[Object(i["createElementVNode"])("span",{class:"mini font-10",style:Object(i["normalizeStyle"])({color:a.filterType(o.RunAwayType).color})},Object(i["toDisplayString"])(a.filterType(o.RunAwayType).text),5)])])],8,vo),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.DevRunAwayTime-o.PublishAt>0?e.$f.formatTime2(o.DevRunAwayTime-o.PublishAt):"--"),1),!n.isShowDate&&null!==o&&void 0!==o&&o.PublishAt&&e.$f.formatTimeFromNow(null===o||void 0===o?void 0:o.PublishAt,!0)<60?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{time:1e3*(60-e.$f.formatTimeFromNow(null===o||void 0===o?void 0:o.PublishAt,!0)),style:{"--van-count-down-text-color":"currentColor","--van-count-down-line-height":"1","--van-count-down-font-size":"13px"},key:null===o||void 0===o?void 0:o.PublishAt},{default:Object(i["withCtx"])(({total:t})=>[t>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Math.floor((6e4-t)/1e3))+" "+Object(i["toDisplayString"])(e.$t("ss")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$dayjs(1e3*(null===o||void 0===o?void 0:o.PublishAt)).fromNow()),1)],64))]),_:2},1032,["time"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",No,Object(i["toDisplayString"])(n.isShowDate?e.$f.formatDate(o.PublishAt,"YYYY-MM-DD HH:mm:ss"):e.$dayjs(1e3*(null===o||void 0===o?void 0:o.PublishAt)).fromNow()),1)),Object(i["createElementVNode"])("div",To,[Object(i["createElementVNode"])("a",{class:"a-gray font-16",href:"",onClick:Object(i["withModifiers"])(e=>a.goLink(o),["stop","prevent"])},t[13]||(t[13]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-a-sol-dark font-16"},null,-1)]),8,Vo)])],8,po)}),128))],8,ho)),[[N,a.getRugPullList]]):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:"font-12 tc width100",style:Object(i["normalizeStyle"])({color:"light"===e.$store.state.mode?"#666":"#999"})},[n.loadingRun&&n.pageNO>1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",xo,Object(i["toDisplayString"])(e.$t("loading")),1)):Object(i["createCommentVNode"])("",!0),n.finished&&n.pageNO>1&&(null===(v=n.tableList)||void 0===v?void 0:v.length)>n.pageSize?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",So,Object(i["toDisplayString"])(e.$t("noMore")),1)):Object(i["createCommentVNode"])("",!0)],4),n.tableList&&0!==(null===(O=n.tableList)||void 0===O?void 0:O.length)||n.loadingRun?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(_,{key:1,"image-size":100,image:"light"===e.$store.state.mode?n.imageEmptyWhite:n.imageEmptyBlack},null,8,["image"]))])])])],512)),[[i["vShow"],e.$store.state.runVisible]])}var Bo=o("b28f"),Co=o.n(Bo),Do=o("fab6"),Io=o.n(Do),Ao=o("cdc2"),Lo={components:{"van-count-down":Ao["a"]},data(){return{imageEmptyWhite:Co.a,imageEmptyBlack:Io.a,isShowDate:!1,tableList:[],pageNO:1,pageSize:20,loadingRun:!1,finished:!1}},computed:{rugPull(){return this.$store.state.rugPull},chain(){var e;let{chain:t}=this.$f.getAddressAndChainFromId(this.$route.params.id)||(null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.chain);return t},ruggedColor(){var e;const t=null===(e=this.rugPull)||void 0===e||null===(e=e.rates)||void 0===e?void 0:e.total;if("string"===typeof t||"number"===typeof t){const e=new Pe.a(t);return(!e.lte(2)||!e.gt(0))&&(e.lte(10)&&e.gt(2)?"#FFA622":!!e.gt(10)&&"#F6465D")}return!1}},watch:{"$store.state.id"(e){e&&(this.tableList=[],this.pageNO=1,this.pageSize=20,this.loadingRun=!1,this.finished=!1)}},methods:{firstCharacterToupperCase(e){let t=e.replace(/^\S/,(function(e){return e.toUpperCase()}));return t},filterType(e){let t={shitcoin:{text:this.$t("shitcoin"),color:"#F6465D"},unknown:{text:this.$t("unKnown"),color:"#F6465D"}};return t[e]||""},goLink(e){window.open(this.$f.formatExplorerUrl(e.chain,e.token))},tableRowClick(e){this.show=!1,this.$router.push({name:"Token",params:{id:e.Token+"-"+e.chain}})},jumpBalance(){var e;const t=this.$router.resolve({name:"Balance",params:{chain:this.chain,userAddress:null===(e=this.rugPull)||void 0===e?void 0:e.dev},query:{from:this.$route.name}});window.open(t.href,"_blank")},getMedias(e){if(!e)return[];if(Object(Ae["o"])(e)){let t=JSON.parse(e),o=[];return null!==t&&void 0!==t&&t.website&&o.push({name:this.$t("website"),icon:"web",url:this.$f.formatUrl(t.website)}),null!==t&&void 0!==t&&t.btok&&o.push({name:"Btok",icon:"Btok",url:this.$f.formatUrl(t.btok)}),null!==t&&void 0!==t&&t.qq&&o.push({name:"QQ",icon:"QQ",url:t.qq}),null!==t&&void 0!==t&&t.telegram&&o.push({name:"Telegram",icon:"TG",url:this.$f.formatUrl(t.telegram)}),null!==t&&void 0!==t&&t.twitter&&o.push({name:"Twitter",icon:"twitter2",url:this.$f.formatUrl(t.twitter)}),o}return[]},getRugPullList(){let e={token_id:this.$store.state.id,pageNO:this.pageNO,pageSize:this.pageSize};this.loadingRun||(this.loadingRun=!0,Object(De["dd"])(e).then(e=>{var t;1===this.pageNO&&(this.tableList=[]);let o=(null===e||void 0===e||null===(t=e.dev_stats)||void 0===t?void 0:t.map(e=>{var t,o;return{...e,chain:e.Chain,symbol:e.Symbol,token:e.Token,logo_url:e.LogoURL||"",medias:this.getMedias(e.Appendix),DevRunAwayTime:"1970-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.DevRunAwayTime)&&"0001-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.DevRunAwayTime)?(null===(t=new Date(e.DevRunAwayTime))||void 0===t?void 0:t.getTime())/1e3:0,PublishAt:"1970-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.PublishAt)&&"0001-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.PublishAt)?(null===(o=new Date(e.PublishAt))||void 0===o?void 0:o.getTime())/1e3:0}}))||[];this.tableList=[...this.tableList,...o],o.length<this.pageSize?this.finished=!0:this.pageNO++}).catch(e=>{this.finished=!0}).finally(()=>{this.loadingRun=!1}))}}};o("3c64");const Po=wt()(Lo,[["render",Eo],["__scopeId","data-v-1cf4d24c"]]);var Fo=Po,Ro={name:"TokenInfo",props:{warningStatus:Boolean},components:{ChangeGroup:Ce["a"],"van-notice-bar":Ie["a"],CheckHolders:$t,FavoriteManage:Nt["a"],Top50:qt,Run:Fo},data(){return{data_date_X1:[],data_date_X2:[],data_volume_Y:[],data_liquidity_Y:[],visible1:!1,activeGroup:0,currentPair:{},visible:!1,showPop:!1,showPopoverPool:[],showTooltip:!1,buttonRef:null,popoverVisible:!1,buttonTagRef:null,toolTipTagContent:"",toolTipTagVisible:!1,showTooltipTime:!1,visibleEdit:!1,selectedGroup:-1,editable2:!1,remark2:"",editable1:!1,rug_rate:0,showRunPop:!1,rugPull:{},loadingRun:!1,collected:!1,devToken:{total_tokens:0,total_migrated:0}}},computed:{chain(){var e;let{chain:t}=this.$f.getAddressAndChainFromId(this.$route.params.id)||(null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.chain);return t},tokenInfo(){return this.$store.state.tokenInfo},danger(){return{symbol:this.tokenInfo.symbol,danger:!0}},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD},groupId(){return this.$store.state.groupId},remark(){var e;return(null===(e=this.collectedObj)||void 0===e?void 0:e.remark)||""},collectedObj(){return this.$store.state.favoritesList.find(e=>e.id==this.$store.state.tokenInfo.id)},tokenPriceChange(){return this.$store.state.tokenPriceChange||this.tokenInfo.price_change},volume24hUSD(){return this.$store.state.volume24hUSD||this.tokenInfo.volume24hUSD},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},initTokens(){return this.$store.state.initTokens},favorites(){return this.$store.state.favorites||[]},holders(){var e;return(null===(e=this.tokenInfo)||void 0===e?void 0:e.holders)||"-"},circulation(){var e,t,o,i;let l=new Pe.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(o=this.tokenInfo)||void 0===o?void 0:o.other_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec);return l.lt(0)?0:l},circulationValue(){return this.circulation*Number(this.currentPrice||0)||0},marketCap(){var e,t,o;return(null===(e=this.tokenInfo)||void 0===e?void 0:e.lock_amount_dec)+(null===(t=this.tokenInfo)||void 0===t?void 0:t.other_amount_dec)+(null===(o=this.tokenInfo)||void 0===o?void 0:o.burn_amount_dec)>0?this.$f.formatNumber2(this.circulationValue||0,2,4,1e4):this.$f.formatNumber2(this.$store.state.marketCap||this.circulationValue||this.$store.getters.initMarketCap||0,2,4,1e4)},groups(){return this.$store.state.userFavoriteGroups},currentGroup(){var e;return 0==this.groupId?this.$t("defaultGroup"):null===(e=this.groups)||void 0===e||null===(e=e.find(e=>e.group_id==this.groupId))||void 0===e?void 0:e.name},swapUrl(){var e;let t=this.$store.state.chainConfig;var o,i,l,n,a,s,c,r,d,u;return t[this.tokenInfo.network]&&null!==(e=t[this.tokenInfo.network])&&void 0!==e&&e.swapUrl?"string"===typeof(null===(o=t[this.tokenInfo.network])||void 0===o?void 0:o.swapUrl)?(null===(n=t[this.tokenInfo.network])||void 0===n?void 0:n.swapUrl)+this.tokenInfo.address:null!==(i=t[this.tokenInfo.network])&&void 0!==i&&null!==(i=i.swapUrl)&&void 0!==i&&i[null===(l=this.$store.state.pair)||void 0===l?void 0:l.amm]?"xfswap"===(null===(a=this.$store.state.pair)||void 0===a?void 0:a.amm)?(null===(r=t[this.tokenInfo.network])||void 0===r||null===(r=r.swapUrl)||void 0===r?void 0:r[null===(d=this.$store.state.pair)||void 0===d?void 0:d.amm])+(null===(u=this.$store.state.pair)||void 0===u?void 0:u.address):(null===(s=t[this.tokenInfo.network])||void 0===s||null===(s=s.swapUrl)||void 0===s?void 0:s[null===(c=this.$store.state.pair)||void 0===c?void 0:c.amm])+this.tokenInfo.address:"":""},highRiskTips(){if(this.tokenInfo.risk_level<0){let e=this.tokenInfo.risk_info&&Object(Ae["o"])(this.tokenInfo.risk_info)?JSON.parse(this.tokenInfo.risk_info):{};return(null===e||void 0===e?void 0:e[this.$store.getters.language])||this.$t("highRisk")}return""},percent(){var e;return 100*(null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.pair_lock_percent)||0},pairs(){var e;return(null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.pairs)||[]},LPHolders(){return{chain:this.$store.state.tokenInfo.chain,pair_holders_rank:this.$store.state.LPHolders}},pair(){return this.$store.state.pair}},watch:{"$store.state.pair.value":{handler:function(){this.getChartData()},deep:!0},"$store.state.id":{handler:function(){this.getFavoriteCheck(),this.getCheckFavoriteGroup(),"solana"==this.chain&&this.getRugPull()},deep:!0},"$store.state.currentAccount"(){this.getCheckFavoriteGroup()},"$store.state.bot.userInfo.evmAddress"(){this.getCheckFavoriteGroup()},"$store.state.signatureObj"(){this.$store.dispatch("getUserTokenFavorites"),this.$store.state.collectChange++},"$store.state.collectChange"(){this.getFavoriteCheck()},tokenInfo:{handler:function(e){var t;null===e||void 0===e||null===(t=e.pairs)||void 0===t||t.forEach(e=>{var t;e.pair==(null===(t=this.$store.state.pair)||void 0===t?void 0:t.address)&&this.$store.commit("setState",{name:"pair",value:{...this.$store.state.pair,reserve0:e.reserve0,reserve1:e.reserve1}})})},deep:!0},editable1(e){e&&(this.selectedGroup=this.groupId)},editable2(e){e&&(this.remark2=this.remark)}},mounted(){this.getChartData(),this.getCheckFavoriteGroup(),this.getFavoriteCheck(),this.getRugPullList(),"solana"==this.chain&&this.getRugPull()},methods:{getRugPullList(){const e={token_id:this.$store.state.id,pageNO:1,pageSize:1};Object(De["Sb"])(e).then(e=>{this.devToken=e})},getFavoriteCheck(){let e=this.$route.params.id||this.$store.state.id;Object(De["Yb"])(e).then(e=>{this.collected=1==e}).catch(e=>{this.collected=!1})},openCheckPop(){this.$store.state.layout.showRight=!0,this.$store.state.runVisible&&(this.$store.state.runVisible=!1),this.$store.state.check.checkVisible=!this.$store.state.check.checkVisible},openRunPop(){var e,t;((null===(e=this.rugPull)||void 0===e||null===(e=e.rates)||void 0===e?void 0:e.rugged_rate)>0||-1==(null===(t=this.rugPull)||void 0===t||null===(t=t.rates)||void 0===t?void 0:t.rugged_rate))&&(this.$store.state.check.checkVisible&&(this.$store.state.check.checkVisible=!1),this.$store.state.layout.showRight=!0,this.$store.state.runVisible=!this.$store.state.runVisible)},init(){this.getChartData(),"solana"==this.chain&&this.getRugPull()},getMedias(e){if(!e)return[];if(Object(Ae["o"])(e)){let t=JSON.parse(e),o=[];return null!==t&&void 0!==t&&t.website&&o.push({name:this.$t("website"),icon:"web",url:this.$f.formatUrl(t.website)}),null!==t&&void 0!==t&&t.btok&&o.push({name:"Btok",icon:"Btok",url:this.$f.formatUrl(t.btok)}),null!==t&&void 0!==t&&t.qq&&o.push({name:"QQ",icon:"QQ",url:t.qq}),null!==t&&void 0!==t&&t.telegram&&o.push({name:"Telegram",icon:"TG",url:this.$f.formatUrl(t.telegram)}),null!==t&&void 0!==t&&t.twitter&&o.push({name:"Twitter",icon:"twitter2",url:this.$f.formatUrl(t.twitter)}),o}return[]},getRugPull(){let e={token_id:this.$store.state.id};this.loadingRun=!0,this.$store.state.rungPullLoading=!0,Object(De["cd"])(e).then(e=>{var t,o,i,l;this.rugPull=e,this.rugPull.all_tag_rate=null===(t=this.rugPull)||void 0===t||null===(t=t.rates)||void 0===t||null===(t=t.rateList)||void 0===t||null===(t=t.filter(e=>"icon_all_tag_rate"==e.icon))||void 0===t?void 0:t[0].rate,this.rugPull.all_tag_rate=(null===(o=this.rugPull.all_tag_rate)||void 0===o?void 0:o.toFixed(1))||0,this.rugPull.rateList=null===(i=this.rugPull)||void 0===i||null===(i=i.rates)||void 0===i||null===(i=i.rateList)||void 0===i?void 0:i.filter(e=>"icon_all_tag_rate"!==e.icon),this.rugPull.rateList=null===(l=this.rugPull.rateList)||void 0===l?void 0:l.map(e=>{var t;return{...e,rate:Number((null===(t=e.rate)||void 0===t?void 0:t.toFixed(1))||0)}}),this.$store.state.rugPull=this.rugPull}).catch(e=>{}).finally(()=>{this.loadingRun=!1,this.$store.state.rungPullLoading=!1})},handleReset(){this.editable1&&(this.editable1=!1,this.selectedGroup=this.groupId),this.editable2&&(this.editable2=!1,this.remark2=this.remark)},confirmSwitchGroup(e,t){if(this.$f.verifyLogin())if(this.groupId!==t){let o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(De["se"])(e,t).then(()=>{this.$store.dispatch("getUserTokenFavorites"),this.$store.state.collectChange++,this.$store.state.groupId=this.selectedGroup,this.$store.dispatch("getUserFavorites"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{o.close(),this.editable1=!1})}else this.editable1=!1},confirmEditRemark(e,t){if(!this.$f.verifyLogin())return;if((null===e||void 0===e?void 0:e.length)>50)return this.$message.error(this.$t("maximum10characters"));let o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(De["sb"])(t,e).then(()=>{this.$store.dispatch("getUserFavorites"),this.$store.state.collectChange++,this.editable2=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{o.close(),this.editable2=!1})},getCheckFavoriteGroup(){return new Promise((e,t)=>{this.$store.state.id?Object(De["Pb"])(this.$store.state.id).then(t=>{this.$store.state.groupId="number"==typeof t?t:0,this.selectedGroup="number"==typeof t?t:0,e(this.activeGroup)}).catch(e=>{t("")}).finally(()=>{}):t("")})},async collect(e){if(!this.$f.verifyLogin())return;const t=await this.$f.signConfirm();if(t)if(e.collected=this.collected,this.collected){let e=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(De["Ie"])(this.$store.state.id).then(()=>{this.$message.success(this.$t("success")),this.visible1=!1,this.$store.state.groupId=-1,this.$store.state.collectChange++,this.collected=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{e.close()})}else this.visible1=!0},addFavorite(e,t){if(!this.$f.verifyLogin())return;let o=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(De["e"])(this.$store.state.id,e,t).then(()=>{this.getCheckFavoriteGroup(),this.$message.success(this.$t("success")),this.visible1=!1,this.$store.state.collectChange++,this.collected=!0}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{o.close()})},getChartData(){if(""!==this.$store.state.pair.value&&this.$store.state.pair.id===this.$store.state.id){var e,t,o,i;let l=this.$store.state.tokenInfo,n=[],a=[],s=[],c=[];null===l||void 0===l||null===(e=l.volumes)||void 0===e||null===(t=e.forEach)||void 0===t||t.call(e,e=>{n.push(this.$f.formatDate(null===e||void 0===e?void 0:e.time,"MM-DD")),s.push((null===e||void 0===e?void 0:e.volume)||0)}),null===l||void 0===l||null===(o=l.liquidities)||void 0===o||null===(i=o.forEach)||void 0===i||i.call(o,e=>{a.push(this.$f.formatDate(null===e||void 0===e?void 0:e.time,"MM-DD")),c.push((null===e||void 0===e?void 0:e.amount)||0)}),this.data_date_X1=n,this.data_date_X2=a,this.data_volume_Y=s,this.data_liquidity_Y=c}},jump(){this.swapUrl&&window.open(this.swapUrl)},handleNoticeClose(){var e,t;let o=this.$store.state.id||this.$route.params.id,i=null!==(e=localStorage)&&void 0!==e&&e.tokenWarningNotice?JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.tokenWarningNotice):{};i[o]=!0,localStorage.tokenWarningNotice=JSON.stringify(i)},getRiskColor(e){return-1==e.risk_level||e.risk_score>=60||this.$store.state.check.statistics_risk>0?"#e74e54":this.$store.state.check.statistics_warning>0?"#f8be46":this.$store.state.check.statistics_risk||this.$store.state.check.statistics_warning||this.$store.state.check.statistics_unknown?"#507eef":"#81c54e"},goLink(e){this.showPop=!1,this.$store.commit("setInitToken",e.pair)},getTags(e){var t,o,i,l,n,a,s;let c=[],r=[];if(e.dynamic_tag){var d,u,m,b,h;let t=JSON.parse(e.dynamic_tag)||[];c=null===t||void 0===t?void 0:t.filter(e=>null===e||void 0===e?void 0:e.startsWith("signal")),c=null===(d=c)||void 0===d?void 0:d.map(e=>({tag:null===e||void 0===e||!e.split("-")[5]||"whale_sell"!=(null===e||void 0===e?void 0:e.split("-")[1])&&"whale_buy"!=(null===e||void 0===e?void 0:e.split("-")[1])?null===e||void 0===e?void 0:e.split("-")[1]:(null===e||void 0===e?void 0:e.split("-")[1])+"_trump",color:null===e||void 0===e?void 0:e.split("-")[2],n:null===e||void 0===e?void 0:e.split("-")[3],timestamp:null===e||void 0===e?void 0:e.split("-")[4]})),null===(u=c)||void 0===u||u.sort((e,t)=>t.timestamp-e.timestamp);let o=c.filter((e,t)=>c.findIndex(e=>new RegExp("^kol_.*$","gi").test(e.tag))==t),i=c.filter((e,t)=>c.findIndex(e=>new RegExp("^dev_.*$","gi").test(e.tag))==t),l=c.filter((e,t)=>c.findIndex(e=>new RegExp("^smarter_.*$","gi").test(null===e||void 0===e?void 0:e.tag))==t),n=c.filter((e,t)=>c.findIndex(e=>new RegExp("^whale_.*$","gi").test(e.tag))==t),a=null===(m=c)||void 0===m?void 0:m.filter(e=>!new RegExp("^dev_|kol_|smarter_|whale_.*$","gi").test(e.tag));c=null===o||void 0===o||null===(b=o.concat(i))||void 0===b||null===(b=b.concat(l))||void 0===b||null===(b=b.concat(n))||void 0===b?void 0:b.concat(a),null===(h=c)||void 0===h||h.sort((e,t)=>t.timestamp-e.timestamp),r=t.filter(e=>!(null!==e&&void 0!==e&&e.startsWith("signal")))}if(e.tag){var p;let t=(null===(p=e.tag)||void 0===p?void 0:p.split(","))||[],o=t.filter(e=>"pump"!==e&&"moonshot"!==e)||[];r=o.concat(r)}r=(null===(t=r)||void 0===t?void 0:t.map(e=>({tag:e,color:"green",showText:!1})))||[];let v=(null===(o=c)||void 0===o?void 0:o.some(e=>new RegExp("rug_pull","gi").test(null===e||void 0===e?void 0:e.tag)))||(null===(i=r)||void 0===i?void 0:i.some(e=>new RegExp("rug_pull","gi").test(null===e||void 0===e?void 0:e.tag))),O=(null===(l=c)||void 0===l?void 0:l.some(e=>new RegExp("shitcoin","gi").test(null===e||void 0===e?void 0:e.tag)))||(null===(n=r)||void 0===n?void 0:n.some(e=>new RegExp("shitcoin","gi").test(e.tag)));if(e.risk_score>=100&&"solana"==e.chain?(e.lp_locked_percent=0,c=[],r=[{tag:"flag_dangerous",color:"red",showText:!0}]):v?(e.lp_locked_percent=0,c=[],r=[{tag:"flag_rug_pull",color:"red",showText:!0}]):O&&(e.lp_locked_percent=0,c=[],r=[{tag:"flag_shit_coins",color:"red",showText:!0}]),this.tokenInfo.tag){var f,j;let e=(null===(f=this.tokenInfo.tag)||void 0===f?void 0:f.split(","))||[],t=null===e||void 0===e?void 0:e.filter(e=>""!==e&&"newcommunity"!==e);t=null===(j=t)||void 0===j?void 0:j.map(e=>({tag:e,color:"green",showText:!1})),r=t.concat(r)}let k=(null===(a=this.tokenInfo)||void 0===a||null===(a=a.tag)||void 0===a?void 0:a.split(","))||[],g=null===k||void 0===k||null===(s=k.includes)||void 0===s?void 0:s.call(k,"newcommunity");return(1==this.tokenInfo.cto_flag||g)&&r.unshift({tag:"cto_flag",color:"green",showText:!1}),{normal_tag:r,signal_arr:c}},handleEdit(){this.$f.verifyLogin()&&(this.visibleEdit=!0)}}};o("6fc0");const Mo=wt()(Ro,[["render",Be],["__scopeId","data-v-0554431d"]]);var Uo=Mo,zo=o("bdcf"),Ho=o("7ff9");const qo={class:"trading"},Qo={class:"header"},Go=["onClick"],Wo={class:"tabs"},Yo={class:"tabs"},Jo={class:"history"},Ko={class:"top"},Zo={class:"icon-sort-container"},Xo={class:"icon-sort-container"},ei={key:2},ti={class:"icon-sort-container"},oi={key:4,class:"table-item_d"},ii={class:"icon-sort-container"},li={key:5,class:"table-item_d"},ni={class:"icon-sort-container"},ai=["infinite-scroll-disabled"],si={key:0,class:"content"},ci={class:"token-info"},ri={key:0,class:"icon-token-container"},di=["src"],ui=["src"],mi={class:"token-symbol-container"},bi={class:"flex-start"},hi={class:"token-symbol mini ellipsis",style:{"font-family":'"DINPro-Medium", "IBMPlexSans-Medium", system-ui, —apple-system, Segoe UI, Rototo, Emoji, sans-serif'}},pi={key:0,class:"iconfont icon-danger font-14 ml-2"},vi={class:"font-1 mt-2 flex-start",style:{"min-width":"140%"}},Oi={class:"balance mini",style:{"font-family":'"DINPro-Medium", "IBMPlexSans-Medium", system-ui, —apple-system, Segoe UI, Rototo, Emoji, sans-serif'}},fi={key:1,class:"ad-tag"},ji={class:"flex-end"},ki={key:1,style:{color:"#959a9f"}},gi={key:2,style:{color:"#959a9f"}},yi={class:"font-1 mt-2 flex-end"},wi={class:"flex-end"},_i={key:1,style:{color:"var(--custom-font-1-color)"}},$i=["infinite-scroll-disabled"],Ni={key:0,class:"content"},Ti={class:"token-info"},Vi={key:0,class:"icon-token-container"},xi=["src"],Si=["src"],Ei={class:"token-symbol"},Bi={key:0,class:"btn-remark van-ellipsis"},Ci=["src"],Di={key:2,class:"ad-tag"},Ii=["innerHTML"],Ai={key:0,style:{color:"#12b886"}},Li={key:1,style:{color:"#848E9C"}},Pi={key:2,style:{color:"#ff646d"}},Fi={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},Ri=["src"],Mi={key:1},Ui=["src"];function zi(e,t,l,n,a,s){const c=Object(i["resolveComponent"])("van-tab"),r=Object(i["resolveComponent"])("van-tabs"),d=Object(i["resolveComponent"])("el-checkbox"),u=Object(i["resolveComponent"])("netSelect"),m=Object(i["resolveComponent"])("loading"),b=Object(i["resolveComponent"])("el-button"),h=Object(i["resolveComponent"])("router-link"),p=Object(i["resolveComponent"])("el-scrollbar"),v=Object(i["resolveComponent"])("favorite-manage"),O=Object(i["resolveDirective"])("animation-trigger"),f=Object(i["resolveDirective"])("infinite-scroll"),j=Object(i["resolveDirective"])("tooltip");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("div",qo,[Object(i["createElementVNode"])("div",Qo,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(s.list,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{href:"",key:e.index,class:Object(i["normalizeClass"])({active:s.active==e.index}),onClick:Object(i["withModifiers"])(t=>s.tab(e.index),["stop","prevent"])},Object(i["toDisplayString"])(e.name),11,Go))),128))]),s.currentAccount||s.userAddresse1?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Wo,[Object(i["createVNode"])(r,{class:"fav-tabs",active:n.activeGroup,"onUpdate:active":t[0]||(t[0]=e=>n.activeGroup=e),"title-inactive-color":"#848E9C",ellipsis:!1,"title-active-color":"light"===e.$store.state.mode?"#333333":"#ffffff",shrink:"",background:"transparent","line-height":0,style:{"--van-padding-xs":"5px"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(s.groups,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:t,title:e.name,name:e.group_id},null,8,["title","name"]))),128))]),_:1},8,["active","title-active-color"]),Object(i["createElementVNode"])("i",{class:"iconfont icon-edit",onClick:t[1]||(t[1]=Object(i["withModifiers"])((...e)=>s.handleEdit&&s.handleEdit(...e),["stop"]))})],512),[[i["vShow"],0===s.active]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Yo,[Object(i["createVNode"])(d,{style:{"--el-checkbox-text-color":"var(--a-text-2-color)","--el-checkbox-checked-text-color":"var(--a-text-2-color)","--el-checkbox-checked-bg-color":"var(--a-text-1-color)","--el-checkbox-checked-input-border-color":"var(--a-text-1-color)","--el-checkbox-checked-icon-color":"var(--a-bg-4-color)","margin-right":"0"},modelValue:a.tableFilter["hide_risk"],"onUpdate:modelValue":t[2]||(t[2]=e=>a.tableFilter["hide_risk"]=e),class:"ml-10",size:"small","true-value":1,"false-value":0},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("hideRiskTokenShort")),1)]),_:1},8,["modelValue"]),Object(i["createVNode"])(d,{modelValue:a.tableFilter["hide_small"],"onUpdate:modelValue":t[3]||(t[3]=e=>a.tableFilter["hide_small"]=e),size:"small","true-value":1,"false-value":0,style:{"--el-checkbox-text-color":"var(--a-text-2-color)","--el-checkbox-checked-text-color":"var(--a-text-2-color)","--el-checkbox-checked-bg-color":"var(--a-text-1-color)","--el-checkbox-checked-input-border-color":"var(--a-text-1-color)","--el-checkbox-checked-icon-color":"var(--a-bg-4-color)"}},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("hideSmallAssets1")+"<1USD"),1)]),_:1},8,["modelValue"]),s.currentAccount&&"importAddress"!=e.$store.state.wallet?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{handleFilterConfirm:e=>s.netSelectConfirm(e),storage:"tableFilter-"+s.currentAccount,key:"tableFilter"},null,8,["handleFilterConfirm","storage"])):Object(i["createCommentVNode"])("",!0)],512),[[i["vShow"],1===s.active]])],64)):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Jo,[Object(i["createElementVNode"])("div",Ko,[0!==s.active&&1!==s.active||s.userAddresse1||s.currentAccount?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[0===s.active?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"flex-start",onClick:t[6]||(t[6]=Object(i["withModifiers"])(e=>s.switchSort("symbol"),["stop"])),style:{cursor:"pointer"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("token")),1),Object(i["createElementVNode"])("div",Zo,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:-1===a.activeSort&&"symbol"===a.sortBy}]),"aria-hidden":"true",onClick:t[4]||(t[4]=Object(i["withModifiers"])(e=>s.switchSort("symbol",-1),["stop"]))},t[23]||(t[23]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-up"},null,-1)]),2)),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:1===a.activeSort&&"symbol"===a.sortBy}]),"aria-hidden":"true",onClick:t[5]||(t[5]=Object(i["withModifiers"])(e=>s.switchSort("symbol",1),["stop"]))},t[24]||(t[24]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-down"},null,-1)]),2))])])):1===s.active?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"flex-start",onClick:t[9]||(t[9]=Object(i["withModifiers"])(e=>{a.tableFilter["sort_dir"]="asc"===a.tableFilter["sort_dir"]?"desc":"asc",a.tableFilter["sort"]="balance_usd"},["stop"])),style:{cursor:"pointer"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(`${e.$t("token")}/${e.$t("balance1")}`),1),Object(i["createElementVNode"])("div",Xo,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:"asc"===a.tableFilter["sort_dir"]&&"balance_usd"===a.tableFilter["sort"]}]),"aria-hidden":"true",onClick:t[7]||(t[7]=Object(i["withModifiers"])(e=>{a.tableFilter["sort_dir"]="asc",a.tableFilter["sort"]="balance_usd"},["stop"]))},t[25]||(t[25]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-up"},null,-1)]),2)),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:"desc"===a.tableFilter["sort_dir"]&&"balance_usd"===a.tableFilter["sort"]}]),"aria-hidden":"true",onClick:t[8]||(t[8]=Object(i["withModifiers"])(e=>{a.tableFilter["sort_dir"]="desc",a.tableFilter["sort"]="balance_usd"},["stop"]))},t[26]||(t[26]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-down"},null,-1)]),2))])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ei,Object(i["toDisplayString"])(e.$t("token")),1)),1===s.active?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:3,class:"table-item_d",onClick:t[12]||(t[12]=Object(i["withModifiers"])(e=>{a.tableFilter["sort_dir"]="asc"===a.tableFilter["sort_dir"]?"desc":"asc",a.tableFilter["sort"]="total_profit"},["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("profit2")),1),Object(i["createElementVNode"])("div",ti,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:"asc"===a.tableFilter["sort_dir"]&&"total_profit"===a.tableFilter["sort"]}]),"aria-hidden":"true",onClick:t[10]||(t[10]=Object(i["withModifiers"])(e=>{a.tableFilter["sort_dir"]="asc",a.tableFilter["sort"]="total_profit"},["stop"]))},t[27]||(t[27]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-up"},null,-1)]),2)),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:"desc"===a.tableFilter["sort_dir"]&&"total_profit"===a.tableFilter["sort"]}]),"aria-hidden":"true",onClick:t[11]||(t[11]=Object(i["withModifiers"])(e=>{a.tableFilter["sort_dir"]="desc",a.tableFilter["sort"]="total_profit"},["stop"]))},t[28]||(t[28]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-down"},null,-1)]),2))])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",oi,[Object(i["createElementVNode"])("div",{onClick:t[13]||(t[13]=Object(i["withModifiers"])(e=>s.switchDisplayMode(),["stop"])),class:"display-mode"},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])("price"==a.displayMode?e.$t("price"):e.$t("mCap")),1),t[29]||(t[29]=Object(i["createElementVNode"])("span",null,[Object(i["createElementVNode"])("svg",{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(i["createElementVNode"])("path",{d:"M5.8 4.4L5.17156 3.77156L6.29867 2.64444L0.444444 2.64444V1.75556L6.29867 1.75556L5.17156 0.628889L5.8 0L8 2.2L5.8 4.4ZM2.2 8.84444L0 6.64444L2.2 4.44444L2.82844 5.07289L1.70133 6.20044L7.55556 6.2V7.08889L1.70133 7.08889L2.82844 8.216L2.2 8.84444Z",fill:"#5A5E64"})])],-1))]),Object(i["createElementVNode"])("div",ii,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:-1===a.activeSort&&a.sortBy===s.sortField&&s.shouldShowSortHighlight}]),"aria-hidden":"true",onClick:t[14]||(t[14]=Object(i["withModifiers"])(e=>s.switchSortByField(s.sortField,-1),["stop"]))},t[30]||(t[30]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-up"},null,-1)]),2)),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:1===a.activeSort&&a.sortBy===s.sortField&&s.shouldShowSortHighlight}]),"aria-hidden":"true",onClick:t[15]||(t[15]=Object(i["withModifiers"])(e=>s.switchSortByField(s.sortField,1),["stop"]))},t[31]||(t[31]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-down"},null,-1)]),2))])])),1===s.active?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",li,Object(i["toDisplayString"])(e.$t("operate")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:6,class:"table-item_d",onClick:t[18]||(t[18]=Object(i["withModifiers"])(e=>s.switchSort("price_change"),["stop"]))},[t[34]||(t[34]=Object(i["createElementVNode"])("span",null,"24H%",-1)),Object(i["createElementVNode"])("div",ni,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:-1===a.activeSort&&"price_change"===a.sortBy}]),"aria-hidden":"true",onClick:t[16]||(t[16]=Object(i["withModifiers"])(e=>s.switchSort("price_change",-1),["stop"]))},t[32]||(t[32]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-up"},null,-1)]),2)),(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:Object(i["normalizeClass"])(["icon-svg",{active:1===a.activeSort&&"price_change"===a.sortBy}]),"aria-hidden":"true",onClick:t[17]||(t[17]=Object(i["withModifiers"])(e=>s.switchSort("price_change",1),["stop"]))},t[33]||(t[33]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-sort-down"},null,-1)]),2))])]))],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[],64))]),Object(i["withDirectives"])(Object(i["createVNode"])(p,{ref:"listArea",class:"hold-list"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{style:Object(i["normalizeStyle"])({height:s.scrollbarHeight+"px"}),"infinite-scroll-disabled":a.balancePage.loaded||a.balancePage.finished,"infinite-scroll-distance":"200","infinite-scroll-delay":10,"infinite-scroll-immediate":!1,native:!0},[Object(i["createVNode"])(m,{active:a.loading,"onUpdate:active":t[19]||(t[19]=e=>a.loading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),a.holderList.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",si,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.holderList,(o,l)=>Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:l,class:"flex",to:{name:"Token",params:{id:o.token+"-"+o.chain}}},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",ci,[e.$f.formatIcon(o)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ri,[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(o,o.symbol),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,di),o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${o.chain}.png`,alt:"",srcset:""},null,8,ui)):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",mi,[Object(i["createElementVNode"])("div",bi,[Object(i["createElementVNode"])("span",hi,Object(i["toDisplayString"])(o.symbol),1),o.risk_score>55||o.risk_level<0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",pi)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",vi,[Object(i["createElementVNode"])("span",Oi,[0==(null===o||void 0===o?void 0:o.balance)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])("0")],64)):"--"==(null===o||void 0===o?void 0:o.balance)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])("--")],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2((null===o||void 0===o?void 0:o.balance)||0,2,4,4))+"("+Object(i["toDisplayString"])("$"+e.$f.formatNumber2((null===o||void 0===o?void 0:o.balance_usd)||0,2,4,4))+") ",1)],64))])])]),1===(null===o||void 0===o?void 0:o.is_adv)&&1===(null===o||void 0===o?void 0:o.is_showasadv)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",fi,"AD")):Object(i["createCommentVNode"])("",!0),null!==o&&void 0!==o&&o.hot_rank?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:2},Object(i["renderList"])(null===o||void 0===o?void 0:o.hot_rank,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:"icon-svg","aria-hidden":"true",style:{"margin-left":"3px",width:"12px",height:"12px"},key:e},t[35]||(t[35]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-huoyan"},null,-1)])))),128)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",ji,[(null===o||void 0===o?void 0:o.total_profit)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"mini",style:Object(i["normalizeStyle"])({color:e.$store.getters.upColor[7]})}," $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===o||void 0===o?void 0:o.total_profit)||0,2,4,4)),5)):0==(null===o||void 0===o?void 0:o.total_profit)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ki,"$0")):"--"==(null===o||void 0===o?void 0:o.total_profit)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",gi,"--")):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:3,style:Object(i["normalizeStyle"])({color:e.$store.getters.downColor[7]})},Object(i["toDisplayString"])("-$"+e.$f.formatNumber2(Math.abs(null===o||void 0===o?void 0:o.total_profit)||0,2,4,4)),5))]),Object(i["createElementVNode"])("div",yi,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["mini",{"color-gray":"--"==(null===o||void 0===o?void 0:o.total_profit_ratio)||0==(null===o||void 0===o?void 0:o.total_profit_ratio)}])},[0==(null===o||void 0===o?void 0:o.total_profit_ratio)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])("0")],64)):"--"==(null===o||void 0===o?void 0:o.total_profit_ratio)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])("--")],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:2,style:Object(i["normalizeStyle"])({color:(null===o||void 0===o?void 0:o.total_profit_ratio)>0?e.$store.getters.upColor[7]:e.$store.getters.downColor[7]})},Object(i["toDisplayString"])(e.$f.formatNumber2(100*(null===o||void 0===o?void 0:o.total_profit_ratio)||0,2,4,4))+"% ",5))],2)])]),Object(i["createElementVNode"])("div",wi,[s.userAddresse1&&"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"!==o.token?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:0,class:"button-quick-buy",loading:a.loadingSwap[null===o||void 0===o?void 0:o.index],color:"dark"===e.$store.state.mode?"#333333":"#f2f2f2",onClick:Object(i["withModifiers"])(e=>s.handleSellAmount(o),["stop","prevent"])},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("sellAll")),1)]),_:2},1032,["loading","color","onClick"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_i,"--"))])]),_:2},1032,["to"])),[[O,o.current_price_usd,"animation-bg"]])),128)),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{style:{"text-align":"center","padding-top":"10px","font-size":"12px",color:"#959a9f"}},Object(i["toDisplayString"])(e.$t("loading")),513),[[i["vShow"],a.balancePage.loaded]])])):Object(i["createCommentVNode"])("",!0)],12,ai)),[[f,s.getUserBalanceList]])]),_:1},512),[[i["vShow"],1===s.active&&a.holderList.length>0]]),1!==s.active&&s.tableList.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0,height:s.scrollbarHeight,ref:"otherListArea"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"scrollbar-wrapper","infinite-scroll-disabled":a.favoritePage.loaded||a.favoritePage.finished,"infinite-scroll-distance":"200","infinite-scroll-delay":10,"infinite-scroll-immediate":!1},[Object(i["createVNode"])(m,{active:a.loading,"onUpdate:active":t[20]||(t[20]=e=>a.loading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),s.tableListSort.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Ni,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(s.tableListSort,(o,l)=>Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:l,class:"flex",to:{name:"Token",params:{id:o.token+"-"+o.chain}}},{default:Object(i["withCtx"])(()=>{var l;return[Object(i["createElementVNode"])("div",Ti,[e.$f.formatIcon(o)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Vi,[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(o,o.symbol),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,xi),o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${o.chain}.png`,alt:"",srcset:""},null,8,Si)):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Ei,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.symbol),1),o.remark?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",Bi,Object(i["toDisplayString"])(o.remark),1)):Object(i["createCommentVNode"])("",!0)]),(null===(l=o.badges)||void 0===l?void 0:l.length)>0?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:1},Object(i["renderList"])(o.badges,(t,o)=>Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:o,class:"ml-5px rd-50%",src:e.$f.formatIconTag(t.tag),alt:"",width:10,onerror:"this.src='/icon-default.png'"},null,8,Ci)),[[j,{content:e.$t(""+t.tag),props:{placement:"top",effect:"customized","popper-class":e.$store.state.mode}}]])),128)):Object(i["createCommentVNode"])("",!0),1===(null===o||void 0===o?void 0:o.is_adv)&&1===(null===o||void 0===o?void 0:o.is_showasadv)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Di,"AD")):Object(i["createCommentVNode"])("",!0),null!==o&&void 0!==o&&o.hot_rank?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:3},Object(i["renderList"])(null===o||void 0===o?void 0:o.hot_rank,e=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",{class:"icon-svg","aria-hidden":"true",style:{"margin-left":"3px",width:"12px",height:"12px"},key:e},t[36]||(t[36]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-huoyan"},null,-1)])))),128)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",{innerHTML:s.displayValue(o)},null,8,Ii),Object(i["createElementVNode"])("div",null,[o.price_change&&o.price_change>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ai," + "+Object(i["toDisplayString"])(e.$f.formatNumber2(o.price_change||0))+"% ",1)):o.price_change&&0==o.price_change?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Li," 0% ")):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Pi,Object(i["toDisplayString"])(e.$f.formatNumber2(o.price_change||0))+"% ",1))])]}),_:2},1032,["to"])),[[O,o.current_price_usd,"animation-bg"]])),128))])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",{style:{"text-align":"center","font-size":"12px",color:"#959a9f"}},Object(i["toDisplayString"])(e.$t("loading")),513),[[i["vShow"],0===s.active&&a.favoritePage.loaded]])],8,$i)),[[f,s.loadMoreFavorites]])]),_:1},8,["height"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"empty",style:Object(i["normalizeStyle"])({height:s.scrollbarHeight+"px"})},[0!==s.active&&1!==s.active||s.userAddresse1||s.currentAccount?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Mi,[Object(i["createElementVNode"])("img",{src:"light"===e.$store.state.mode?o("b28f"):o("fab6")},null,8,Ui),t[39]||(t[39]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("emptyNoData")),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Fi,[Object(i["createElementVNode"])("img",{src:"light"===e.$store.state.mode?o("b28f"):o("fab6")},null,8,Ri),t[37]||(t[37]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("noWalletTip")),1),t[38]||(t[38]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createVNode"])(b,{style:{width:"100%","border-radius":"6px"},type:"primary",onClick:t[21]||(t[21]=Object(i["withModifiers"])(t=>{e.$store.commit("changeConnectVisible",!0),e.$store.commit("setIsShowImportAddress",!0)},["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("connectWallet")),1)]),_:1})]))],4))],512),[[i["vShow"],0===s.active||1===s.active||2===s.active]])]),Object(i["createVNode"])(v,{visible:a.visible,"onUpdate:visible":t[22]||(t[22]=e=>a.visible=e)},null,8,["visible"])],64)}var Hi=o("fe2a"),qi=o("3e47"),Qi=o("aad9"),Gi=o("2c28"),Wi=o("335a"),Yi=o("8e2e"),Ji=o("2ef0"),Ki=o("c9d9"),Zi=o("ee57"),Xi={name:"tokenRank",setup(){let e=Object(Gi["useStorage"])("activeGroup",0,sessionStorage),t=Object(Yi["c"])();return{activeGroup:e,botSettings:t}},props:{middleHeight:{type:Number,default:500},isStretch:{type:Boolean,default:!1}},emits:["toggle"],components:{"van-tab":qi["a"],"van-tabs":Qi["a"],FavoriteManage:Nt["a"],netSelect:Hi["a"]},data(){return{Timer:null,startTime:0,currentBalance:"",currentSymbol:"",loading:!1,favoritesList:[],holderList:[],visible:!1,activeSort:0,sortBy:"",displayMode:"price",loadingSwap:{},isFetching:!1,loadingBalance:!1,balancePage:{pageNO:1,pageSize:10,loaded:!1,finished:!1},favoritePage:{pageNO:1,pageSize:10,loaded:!1,finished:!1},tableFilter:{},sortParam:{sort:"",sort_dir:""}}},computed:{tokenInfo(){return this.$store.state.tokenInfo},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(this.$store.state.id))||void 0===e?void 0:e.address:""},hotTokens(){return this.$store.state.hotTokens||[]},currentAccount(){var e;return this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress)||""},userAddresse1(){var e;return(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e||null===(e=e.addresses)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.address)||""},active(){return this.$store.state.active},userTotalBalance(){return this.$store.state.userTotalBalance||0},tableList(){return 0===this.active?this.favoritesList:1===this.active?this.holderList:2===this.active?this.hotTokens:3===this.active?this.priceChangeTopTokens:[]},tableListSort(){if(0===this.activeSort||""===this.sortBy)return this.tableList;let e=this.tableList.slice(0);return 0===this.active?e.sort((e,t)=>{var o,i;if("symbol"==this.sortBy)return(((null===(o=t[this.sortBy])||void 0===o||null===(o=o[0])||void 0===o||null===(o=o.toLowerCase())||void 0===o?void 0:o.charCodeAt())||0)-((null===(i=e[this.sortBy])||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.toLowerCase())||void 0===i?void 0:i.charCodeAt())||0))*this.activeSort;if("calculated_market_cap"===this.sortBy){const o=(e.total||0)*(e.current_price_usd||e.priceUSD||0),i=(t.total||0)*(t.current_price_usd||t.priceUSD||0);return(i-o)*this.activeSort}return((t[this.sortBy]||0)-(e[this.sortBy]||0))*this.activeSort}):1===this.active?e.sort((e,t)=>{if("calculated_market_cap"===this.sortBy){const o=(e.balance||0)*(e.current_price_usd||e.priceUSD||0),i=(t.balance||0)*(t.current_price_usd||t.priceUSD||0);return(i-o)*this.activeSort}return((t[this.sortBy]||0)-(e[this.sortBy]||0))*this.activeSort}):e.sort((e,t)=>{if("calculated_market_cap"===this.sortBy){const o=(e.total||0)*(e.current_price_usd||e.priceUSD||0),i=(t.total||0)*(t.current_price_usd||t.priceUSD||0);return(i-o)*this.activeSort}return((t[this.sortBy]||0)-(e[this.sortBy]||0))*this.activeSort})},sortField(){return"price"===this.displayMode?"current_price_usd":"calculated_market_cap"},shouldShowSortHighlight(){if("current_price_usd"!==this.sortBy&&"calculated_market_cap"!==this.sortBy)return!0;const e="current_price_usd"===this.sortBy,t="calculated_market_cap"===this.sortBy;return e?"price"===this.displayMode:!!t&&"mCap"===this.displayMode},list(){return[{name:this.$t("favorites"),url:"",index:0},{name:this.$t("positions"),url:"",index:1},{name:this.$t("hots"),url:"",index:2}]},groups(){return this.$store.state.userFavoriteGroups||[]},nftGroups(){return this.$store.state.userNftFavoriteGroups||[]},scrollbarHeight(){return 0===this.active?this.middleHeight-70-26:1===this.active?this.middleHeight-70-34:this.middleHeight-70},priceChangeTopTokens(){return this.$store.state.priceChangeTopTokens},priceParamsGainer(){return this.$store.state.ws.priceParamsGainer}},watch:{"tableFilter.hide_risk":"resetGetBalanceList","tableFilter.hide_small":"resetGetBalanceList","tableFilter.sort":"resetGetBalanceList","tableFilter.sort_dir":"resetGetBalanceList","tableFilter.user_ids"(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.resetGetBalanceList()},"holderList.length"(e){this.$nextTick(()=>{if(1===this.active&&(this.userAddresse1||this.currentAccount)){const t=50;this.balancePage.finished||this.scrollbarHeight>e*t&&setTimeout(()=>{this.getUserBalanceList()},1e3)}})},"$store.state.id":"resetGetBalanceList",activeGroup(){this.getUserFavorites()},"$store.state.collectChange"(){this.getUserFavorites()},currentAccount(e){e&&(this.tableFilter=Object(Yi["h"])("tableFilter-"+e).value),0===this.active&&(e?this.getUserFavorites():this.favoritesList=[]),Wi["a"].remove("userFavoriteGroups"),this.activeGroup=0,e?this.resetGetBalanceList():(this.balancePage.pageNO=1,this.balancePage.loaded=!1,this.holderList=[])},"$store.state.signatureObj"(){0==this.active&&(this.$store.dispatch("getUserFavoriteGroups"),this.getUserFavorites())},"$store.state.ws.isConnected"(e){var t,o,i;e&&(((null===(t=this.$store.state.ws.multiPriceParams)||void 0===t||null===(t=t.gainer)||void 0===t?void 0:t.length)>0||(null===(o=this.$store.state.ws.multiPriceParams)||void 0===o||null===(o=o.hot)||void 0===o?void 0:o.length)>0||(null===(i=this.$store.state.ws.multiPriceParams)||void 0===i||null===(i=i.favorite)||void 0===i?void 0:i.length)>0)&&this.$store.dispatch("subMultiPrice"))},"$store.state.ws.multiPriceResult"(e){let t=this.favoritesList.map(t=>{let o=e.find(e=>`${e.token}-${e.chain}`===t.id);return o?{...t,current_price_usd:o.uprice,price_change:o.price_change}:t});this.favoritesList=t;let o=this.holderList.map(t=>{let o=e.find(e=>`${e.token}-${e.chain}`===t.index);if(o&&(null===o||void 0===o?void 0:o.uprice)>0){const e="--"==t.total_profit||0==t.total_profit,i=new Pe.a(t.balance||0).times(o.uprice||0);if(e)return{...t,current_price_usd:o.uprice,balance_usd:i.toFixed()};{const e=new Pe.a(t.balance_usd||0).minus(t.total_profit||0),l=i.minus(e),n=new Pe.a(o.uprice||0).minus(t.average_purchase_price_usd||0).div(t.average_purchase_price_usd);return n<-1||t.average_purchase_price_usd<0?{...t}:{...t,current_price_usd:o.uprice,balance_usd:i.toFixed(),total_profit:l.toFixed(),total_profit_ratio:n.toFixed()}}}return t});this.holderList=o},"$store.state.ws.wsBalanceChange"(e){if("asset"===e.event&&null!==e&&void 0!==e&&e.swap){var t,o,i,l,n;let r="So11111111111111111111111111111111111111112"===(null===e||void 0===e||null===(t=e.swap)||void 0===t?void 0:t.token)||(null===e||void 0===e||null===(o=e.swap)||void 0===o?void 0:o.token)===Ki["i"]?Ki["i"]:null===e||void 0===e||null===(i=e.swap)||void 0===i?void 0:i.token,d=null===e||void 0===e||null===(l=e.swap)||void 0===l?void 0:l.chain,u=null===e||void 0===e||null===(n=e.swap)||void 0===n?void 0:n.type;if(r&&d){var a,s;let t=null===(a=this.holderList)||void 0===a||null===(s=a.findIndex)||void 0===s?void 0:s.call(a,e=>e.token===r&&e.chain===d);var c;if(t>-1)if("0"==u)"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"==r?this.getTokenBalance(r,d):(this.currentBalance=this.holderList[t].balance,this.currentSymbol=this.holderList[t].symbol,this.resetHolderList());else if("0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"==r)this.getTokenBalance(r,d);else this.holderList[t].balance==(null===e||void 0===e||null===(c=e.swap)||void 0===c?void 0:c.amount)?this.holderList.splice(t,1):(this.currentBalance=this.holderList[t].balance,this.currentSymbol=this.holderList[t].symbol,this.resetHolderList());else"0"==u&&"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"==r||this.resetHolderList()}}},"$store.state.bot.historyUpdate"(){1===this.active&&(this.currentAccount||this.userAddresse1)&&(setTimeout(()=>{1===this.active&&this.resetGetBalanceList()},2e3),setTimeout(()=>{1===this.active&&this.resetGetBalanceList()},5e3),setTimeout(()=>{1===this.active&&this.resetGetBalanceList()},8e3))}},created(){},activated(){},mounted(){this.init()},beforeUnmount(){},methods:{resetHolderList(){setTimeout(()=>{this.resetGetBalanceList()},5e3),setTimeout(()=>{this.resetGetBalanceList()},1e4),setTimeout(()=>{this.resetGetBalanceList()},15e3)},init(){var e;0==this.active&&(this.$store.state.currentAccount||null!==(e=this.$store.state.bot)&&void 0!==e&&null!==(e=e.userInfo)&&void 0!==e&&e.evmAddress)?this.getUserFavorites():1==this.active&&(this.currentAccount||this.userAddresse1)?(this.tableFilter=Object(Yi["h"])("tableFilter-"+this.currentAccount).value,this.resetGetBalanceList()):2==this.active&&this.getHotTokens()},tab(e){this.$store.commit("setActive",e),0===e?this.currentAccount||this.userAddresse1?(this.resetFavoritePage(),this.loadMoreFavorites()):this.favoritesList=[]:1===e?this.currentAccount||this.userAddresse1?(this.resetGetBalanceList(),this.$nextTick(()=>{this.$store.state.bot.historyUpdate=Date.now()})):this.holderList=[]:2===e&&this.getHotTokens(),1!==e&&(this.balancePage.loaded=!1,this.balancePage.pageNO=1)},handleScrollEvent(){this.$nextTick(()=>{const e=document.querySelector(".listArea");1==this.active||e.removeEventListener("scroll",this.handleScroll)})},collect(e){this.$store.dispatch("collect",e)},tableRowClick(e){let t=e.token+"-"+e.chain;this.$router.push({name:"Token",params:{id:t}})},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},getPriceChangeTopTokens(){Object(De["Sc"])().then(e=>{let t=e.map(e=>({...e,id:`${e.token}-${e.chain}`}));this.$store.commit("setState",{name:"priceChangeTopTokens",value:t||[]}),this.gainerTokenList=e.map(e=>`${e.token}-${e.chain}`);let o=null===e||void 0===e?void 0:e.map(e=>`${e.token}-${e.chain}`);this.$store.commit("setWsState",{name:"multiPriceParams",value:{...this.$store.state.ws.multiPriceParams,hot:[],gainer:o,favorite:[]}}),this.$store.dispatch("subMultiPrice")})},async getUserFavorites(){this.resetFavoritePage(),this.loadMoreFavorites()},getUserBalanceList:Object(Ji["throttle"])((function(){if(this.balancePage.loaded)return;this.balancePage.loaded=!0;let e=this.balancePage.pageNO,t=this.balancePage.pageSize;const o={...this.tableFilter};return o.user_ids&&!o.user_ids.length&&delete o.user_ids,this.$store.dispatch("getUserBalance",{...o,...this.balancePage}).then(o=>{if(Array.isArray(o)&&(null===o||void 0===o?void 0:o.length)>0){var i;if(1===e)this.holderList=null===o||void 0===o?void 0:o.map(e=>({...e,index:`${e.token}-${e.chain}`}));else{var l;let e=null===o||void 0===o||null===(l=o.filter)||void 0===l||null===(l=l.call(o,e=>{var t,o;return null===(t=this.holderList)||void 0===t||null===(o=t.every)||void 0===o?void 0:o.call(t,t=>t.index!==`${e.token}-${e.chain}`)}))||void 0===l?void 0:l.map(e=>({...e,index:`${e.token}-${e.chain}`}));this.holderList=this.holderList.concat(...e)}this.balancePage.finished=(null===o||void 0===o?void 0:o.length)<t,this.balancePage.finished||this.balancePage.pageNO++;let n=null===(i=this.holderList)||void 0===i?void 0:i.map(e=>e.index);this.$store.commit("setWsState",{name:"multiPriceParams",value:{...this.$store.state.ws.multiPriceParams,hot:[],gainer:[],favorite:[],holder:n}})}else 1==this.balancePage.pageNO&&(this.holderList=[])}).finally(()=>{setTimeout(()=>{this.balancePage.loaded=!1,this.loading=!1},500)})}),1e3,{trailing:!1,leading:!0}),getHotTokens(){this.$store.dispatch("getHotTokens").then(e=>{let t=null===e||void 0===e?void 0:e.map(e=>`${e.token}-${e.chain}`);this.$store.commit("setWsState",{name:"multiPriceParams",value:{...this.$store.state.ws.multiPriceParams,hot:t,gainer:[],favorite:[]}}),this.$store.dispatch("subMultiPrice")}).finally(()=>{})},handleEdit(){this.$f.verifyLogin()&&(this.visible=!0)},switchSort(e){if(this.setSortParmaForFetch(e),this.sortBy!==e)return this.sortBy=e,void(this.activeSort=1);this.activeSort++,this.activeSort>1&&(this.activeSort=-1)},setSortParmaForFetch(e){"price_change"===e?(this.sortParam.sort_dir=["","desc","asc"][(this.activeSort||0)+1],this.sortParam.sort="price_change"):(this.sortParam.sort_dir="",this.sortParam.sort=""),this.resetFavoritePage(),this.loadMoreFavorites()},switchSortByField(e,t){this.sortBy=e,this.activeSort=t},switchDisplayMode(){this.displayMode="mCap"===this.displayMode?"price":"mCap"},displayValue(e){if("price"===this.displayMode)return"$"+this.$f.formatNumber3(e.current_price_usd||0);{const t=(null===e||void 0===e?void 0:e.priceUSD)||e.current_price_usd||0;return null!==e&&void 0!==e&&e.total&&t?"$"+this.$f.formatNumberS((null===e||void 0===e?void 0:e.total)*t):"--"}},subHotTokens(){let e={jsonrpc:"2.0",method:"subscribe",params:["price","hot"],id:1};if(this.$store.state.ws.isConnected){let t=this.$store.state.ws.priceParamsHot;(null===t||void 0===t?void 0:t.length)>0&&this.$store.commit("wsSend",{jsonrpc:"2.0",method:"unsubscribe",params:this.$store.state.ws.priceParamsHot,id:1}),this.$store.commit("setWsState",{name:"priceParamsHot",value:e.params}),this.$store.commit("wsSend",e)}},subFavoriteTokens(){var e;let t=this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress);if(t){let e={jsonrpc:"2.0",method:"subscribe",params:["price","favorite",t,this.activeGroup],id:1};if(this.$store.state.ws.isConnected){let t=this.$store.state.ws.priceParamsFav;(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t[3])!==this.activeGroup&&this.$store.commit("wsSend",{jsonrpc:"2.0",method:"unsubscribe",params:this.$store.state.ws.priceParamsFav,id:1}),this.$store.commit("setWsState",{name:"priceParamsFav",value:e.params}),this.$store.commit("wsSend",e)}}},subGainerTokens(){if(!(this.priceParamsGainer.length>0)&&this.$store.state.ws.isConnected&&this.gainerTokenList){let e={jsonrpc:"2.0",method:"subscribe",params:["price","gainer",this.gainerTokenList],id:1};this.$store.commit("setWsState",{name:"priceParamsGainer",value:e.params}),this.$store.commit("wsSend",e)}},unSubscribe(){var e,t;(null===(e=this.priceParamsGainer)||void 0===e?void 0:e.length)>0&&"gainer"===(null===(t=this.priceParamsGainer)||void 0===t?void 0:t[1])&&(this.$store.commit("wsSend",{jsonrpc:"2.0",method:"unsubscribe",params:this.priceParamsGainer,id:1}),this.$store.commit("setWsState",{name:"priceParamsGainer",value:[]}))},handleScroll:Object(Ji["throttle"])((function(e){if(this.balancePage.loaded||this.balancePage.finished)return;const{scrollTop:t,scrollHeight:o,clientHeight:i}=e.target,l=o-t-i;l<80&&this.getUserBalanceList().then(()=>{var e;l<30&&(null===(e=this.$refs)||void 0===e||null===(e=e.listArea)||void 0===e||e.scrollTo({top:o-i-30,behavior:"smooth"}))})}),1e3,{trailing:!1,leading:!0}),resetGetBalanceList(){this.balancePage.pageNO=1,this.balancePage.loaded=!1,this.userAddresse1||this.currentAccount?this.getUserBalanceList():this.holderList=[]},resetGetBalanceList2(){this.startTime+2e4<=Date.now()&&clearInterval(this.Timer),this.balancePage.pageNO=1,this.balancePage.loaded=!1,this.userAddresse1||this.currentAccount?this.getUserBalanceList():this.holderList=[]},netSelectConfirm(e){this.tableFilter.user_ids=e},async submitBotSwap(e,t){var o,i,l;const n=null===t||void 0===t?void 0:t.index;if(null===(o=this.$store.state.bot)||void 0===o||null===(o=o.userInfo)||void 0===o||!o.evmAddress)return void this.$store.commit("changeConnectVisible",!0);if(new Pe.a(e||0).lte(0))return void this.$notify({title:"Error",type:"error",message:this.$t("amountMustG0")});let a={...t},s=new Pe.a(e||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null===a||void 0===a?void 0:a.decimals)||18}})?`))[0];if((Number(s)||0)<=0)return void this.$notify({title:"Error",type:"error",message:this.$t("amountTooSmall")});this.loadingSwap[n]=!0;let c=null===t||void 0===t?void 0:t.chain,r={solana:"sol",ton:"TON"},d=(null===r||void 0===r?void 0:r[c])||Ki["i"],u=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===c))||void 0===l?void 0:l.address;if("solana"===c){var m;let e=null===(m=this.botSettings)||void 0===m?void 0:m.solana,o=e.selected,i=null===e||void 0===e?void 0:e[o],l=null===i||void 0===i?void 0:i.mev,r=(null===i||void 0===i?void 0:i.slippage)||"9";if(l){let e=!0;if(await this.$store.dispatch("bot_getBundleAvailable").then(async t=>{t||(e=await this.$messageBox.confirm(this.$t("mevNotAvailable"),this.$t("tips"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(async()=>(l=!1,this.botSettings.solana[o].mev=!1,!0)).catch(async()=>!1))}).catch(e=>{}),!e)return void(this.loadingSwap[n]=!1)}let{gasTip1List:b,gasTip2List:h}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,"solana"),p=l?b:h,v=l?null===i||void 0===i?void 0:i.gas[0]:null===i||void 0===i?void 0:i.gas[1],O=(null===v||void 0===v?void 0:v.customFee)||(null===p||void 0===p?void 0:p[null===v||void 0===v?void 0:v.level])||"0.002";l&&new Pe.a(O).lt("0.002")&&(O="0.002");let f=new Pe.a(O).times(10**9).toFixed(0),j={batchId:Date.now().toString(),swapList:[{creatorAddress:u,inAmount:Ae["h"].parseUnits(s,null===t||void 0===t?void 0:t.decimals).toString()}],inTokenAddress:a.token,outTokenAddress:d,swapType:2,isPrivate:l||!1,priorityFee:f,autoSell:!1,slippage:"auto"!==r?Number(new Pe.a(r||"9").times(100).toFixed(0)):900,autoSlippage:"auto"===r};this.$store.dispatch("bot_createSolTx",j).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.historyUpdate=Date.now(),this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),this.loadingSwap[n]=!1},500);const o=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:o,chain:c,destination:"solana"===c?"/botapi/swap/createSolTx":"/botapi/swap/createSwapEvmTx",type:10});const i={[null===o||void 0===o?void 0:o.batchId]:null===o||void 0===o?void 0:o.id};let l=this.$watch("$store.state.bot.subscribeResult",e=>{let o=e.batchId;if(o===j.batchId){var a;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(a=e.txList)&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&a.success){var s;this.$notify({type:"success",message:this.$t("tradeSuccess")}),l(),setTimeout(()=>{var e;this.$store.state.bot.historyUpdate=Date.now(),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotPosition"),1===this.active&&this.resetGetBalanceList()},1e3);const t=null===e||void 0===e||null===(s=e.txList)||void 0===s?void 0:s[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===i||void 0===i?void 0:i[o])||"")}else{var c;this.$f.handleBotError((null===e||void 0===e||null===(c=e.txList)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.failMessage)||"swap error"),l(),setTimeout(()=>{this.$store.state.bot.historyUpdate=Date.now()},1e3)}this.loadingSwap[n]=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),this.loadingSwap[n]=!1})}else if(this.$f.isEvmChain(c)){var b;let e=null===(b=this.botSettings)||void 0===b?void 0:b[c],o=e.selected,i=null===e||void 0===e?void 0:e[o],l=null===i||void 0===i?void 0:i.mev,r=(null===i||void 0===i?void 0:i.slippage)||"9",{gasTip1List:m,gasTip2List:h}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,c),p=l?m:h,v=l?null===i||void 0===i?void 0:i.gas[0]:null===i||void 0===i?void 0:i.gas[1],O=0===(null===v||void 0===v?void 0:v.customFee)?"0":(null===v||void 0===v?void 0:v.customFee)||(null===p||void 0===p?void 0:p[null===v||void 0===v?void 0:v.level])||"3",f=Number(new Pe.a(O).times(10**9).toFixed(0)),j={batchId:Date.now().toString(),chain:c,swapList:[{creatorAddress:u,inAmount:Ae["h"].parseUnits(s,null===a||void 0===a?void 0:a.decimals).toString()}],inTokenAddress:null===t||void 0===t?void 0:t.token,outTokenAddress:d,swapType:2,contractType:0,isPrivate:l||!1,gasTip:f,autoSell:!1,preApprove:!0,slippage:"auto"!==r?Number(new Pe.a(r||"9").times(100).toFixed(0)):900,autoSlippage:"auto"===r};this.$store.dispatch("bot_createSwapEvmTx",j).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.historyUpdate=Date.now(),this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),this.loadingSwap[n]=!1},500);const o=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:o,chain:c,destination:"solana"===c?"/botapi/swap/createSolTx":"/botapi/swap/createSwapEvmTx",type:10});const i={[null===o||void 0===o?void 0:o.batchId]:null===o||void 0===o?void 0:o.id};let l=this.$watch("$store.state.bot.subscribeResult",e=>{let o=e.batchId;if(o===j.batchId){var a;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(a=e.txList)&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&a.success){var s;this.$notify({type:"success",message:this.$t("tradeSuccess")}),l(),setTimeout(()=>{var e;null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotPosition"),this.$store.state.bot.historyUpdate=Date.now(),1===this.active&&this.resetGetBalanceList()},1e3);const t=null===e||void 0===e||null===(s=e.txList)||void 0===s?void 0:s[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===i||void 0===i?void 0:i[o])||"")}else{var c;this.$f.handleBotError((null===e||void 0===e||null===(c=e.txList)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.failMessage)||"swap error"),l()}this.loadingSwap[n]=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),this.loadingSwap[n]=!1})}},handleSellAmount(e){var t,o,i;if(null===(t=this.$store.state.bot)||void 0===t||null===(t=t.userInfo)||void 0===t||!t.evmAddress)return void this.$store.commit("changeConnectVisible",!0);let l=null===e||void 0===e?void 0:e.chain,n=(null===e||void 0===e||e.decimals,null===e||void 0===e?void 0:e.token),a=null===e||void 0===e?void 0:e.index;if(!n)return;let s=null===(o=this.$store.state.bot.userInfo)||void 0===o||null===(o=o.addresses)||void 0===o||null===(i=o.find)||void 0===i||null===(i=i.call(o,e=>(null===e||void 0===e?void 0:e.chain)===l))||void 0===i?void 0:i.address;this.loadingSwap[a]=!0,this.$store.dispatch("bot_getTokenBalance",{chain:l,tokens:[n],walletAddress:s}).then(async t=>{let o=t[0];o&&(e.balance=o.balance||0,e.balance_usd=new Pe.a(o.balance||0).times(e.current_price_usd||0).toFixed(),e.decimals=o.decimals||e.decimals);let i=o.balance||0;if(!i)return this.$notify({title:"Error",type:"error",message:this.$t("insufficientBalance")}),void(this.loadingSwap[a]=!1);await this.$store.dispatch("checkApproveAndApprove",{token:n,chain:l}),this.submitBotSwap(i,e)}).catch(e=>{this.loadingSwap[a]=!1})},getTokenBalance:Object(Ji["throttle"])((function(e,t){var o,i;let l=null===(o=this.$store.state.bot.userInfo)||void 0===o||null===(o=o.addresses)||void 0===o||null===(i=o.find)||void 0===i||null===(i=i.call(o,e=>(null===e||void 0===e?void 0:e.chain)===t))||void 0===i?void 0:i.address;this.$store.dispatch("bot_getTokenBalance",{chain:t,tokens:[e],walletAddress:l}).then(o=>{var i;let l=o[0];this.holderList=null===(i=this.holderList)||void 0===i?void 0:i.map(o=>o.token===e&&o.chain===t?{...o,balance:l.balance,balance_usd:new Pe.a(l.balance||0).times(o.current_price_usd||0).toFixed()}:{...o})})}),1e3,{trailing:!1,leading:!0}),loadMoreFavorites(){if(this.favoritePage.loaded)return;this.favoritePage.loaded=!0;let e=this.favoritePage.pageNO;const t=[this.activeGroup,e,this.currentAccount,this.sortParam.sort_dir,this.sortParam.sort];return Object(De["Zb"])(...t).then(t=>{if(Array.isArray(t)&&(null===t||void 0===t?void 0:t.length)>0){var o;let i=t.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,price_change:null!==e&&void 0!==e&&e.price_change?null===e||void 0===e?void 0:e.price_change:0,current_price_usd:(null===e||void 0===e?void 0:e.current_price_usd)||0,collected:!0})).filter(e=>{var t,o;return"brc20"!==(null===e||void 0===e?void 0:e.chain)&&"runes"!==(null===e||void 0===e?void 0:e.chain)&&!(null!==e&&void 0!==e&&null!==(t=e.token)&&void 0!==t&&t.includes("inscription:"))&&!(null!==e&&void 0!==e&&null!==(o=e.token)&&void 0!==o&&o.includes("("))});this.favoritesList=1===e?i:this.favoritesList.concat(i),this.favoritePage.finished=0===(null===t||void 0===t?void 0:t.length),this.favoritePage.finished||this.favoritePage.pageNO++;let l=null===(o=this.favoritesList)||void 0===o?void 0:o.map(e=>`${e.token}-${e.chain}`);this.$store.commit("setWsState",{name:"multiPriceParams",value:{...this.$store.state.ws.multiPriceParams,hot:[],gainer:[],favorite:l}}),this.$store.dispatch("subMultiPrice")}else 1===e&&(this.favoritesList=[]),this.favoritePage.finished=!0}).finally(()=>{setTimeout(()=>{this.favoritePage.loaded=!1},500)})},resetFavoritePage(){var e;null===(e=this.$refs)||void 0===e||null===(e=e.otherListArea)||void 0===e||e.setScrollTop(0),this.favoritePage.pageNO=1,this.favoritePage.loaded=!1,this.favoritePage.finished=!1}}};o("509b");const el=wt()(Xi,[["render",zi],["__scopeId","data-v-594605ba"]]);var tl=el;const ol={class:"token-right"},il={class:"token-right_item"},ll={class:"tabs"},nl=["onClick"],al={class:"name"},sl={class:"data"},cl={class:"color-text-2 dashed"},rl={class:"mt-5 text-12px font-600"},dl={class:"flex-between text-12px"},ul={class:"progress mt-5"},ml={class:"color-text-2 mt-10 dashed"},bl={class:"mt-5 text-12px font-600"},hl={class:"flex-between mt-10 text-12px"},pl={class:"progress"},vl={class:"color-text-2 mt-10 dashed"},Ol={class:"mt-5 text-12px font-600"},fl={class:"flex-between mt-10 text-12px"},jl={class:"progress"},kl={class:"token-right_item"},gl={class:"table-container"},yl={class:"dashed"},wl={class:"font-600"},_l={class:"token-right_item"},$l={class:"totalPair"},Nl={class:"text-12px color-[--main-text]"},Tl={class:"token-right_item"},Vl={class:"token-right_item"};function xl(e,t,o,l,n,a){var s,c,r,d,u,m,b,h,p,v,O,f,j,k,g,y,w,_,$,N,T,V,x,S,E,B,C,D,I,A;const L=Object(i["resolveComponent"])("el-tooltip"),P=Object(i["resolveComponent"])("Pairs"),F=Object(i["resolveComponent"])("BestToken"),R=Object(i["resolveComponent"])("Swap"),M=Object(i["resolveComponent"])("BotSwap"),U=Object(i["resolveComponent"])("tokenOverview");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ol,[Object(i["createElementVNode"])("div",il,[Object(i["createElementVNode"])("div",ll,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.tabs,t=>{var o,n,s;return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{class:Object(i["normalizeClass"])(["tab-button clickable-btn",{active:l.tabActive===t.id}]),key:t.id,onClick:e=>l.tabActive=t.id},[Object(i["createElementVNode"])("div",al,Object(i["toDisplayString"])(t.name),1),Object(i["createElementVNode"])("div",{class:"value",style:Object(i["normalizeStyle"])({color:(null===(o=a.pair)||void 0===o?void 0:o["price_change_"+(null===t||void 0===t?void 0:t.id)])>0?e.$store.getters.upColor[3]:(null===(n=a.pair)||void 0===n?void 0:n["price_change_"+(null===t||void 0===t?void 0:t.id)])<0?e.$store.getters.downColor[3]:"var(--custom-text-2-color)"})},Object(i["toDisplayString"])(e.$f.formatNumberS(null===(s=a.pair)||void 0===s?void 0:s["price_change_"+(null===t||void 0===t?void 0:t.id)]))+"%",5)],10,nl)}),128))]),Object(i["createElementVNode"])("div",sl,[Object(i["createElementVNode"])("ul",{style:Object(i["normalizeStyle"])([{width:"100%"},{"--left-width":e.$f.getTextWidth(e.$t("txns1"),75)+10+"px"}])},[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",cl,[Object(i["createVNode"])(L,{effect:"customized",content:e.$t("volume1Tip"),placement:"top-end","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("volume1")),1)]),_:1},8,["content","popper-class"])]),Object(i["createElementVNode"])("div",rl,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS((null===(s=a.pair)||void 0===s?void 0:s["volume_u_"+l.tabActive])||(null===(c=a.pair)||void 0===c?void 0:c["buy_volume_u_"+l.tabActive])+(null===(r=a.pair)||void 0===r?void 0:r["sell_volume_u_"+l.tabActive]))),1)]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",dl,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(null===(d=a.pair)||void 0===d?void 0:d["buy_volume_u_"+l.tabActive])),1),Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(null===(u=a.pair)||void 0===u?void 0:u["sell_volume_u_"+l.tabActive])),1)]),Object(i["createElementVNode"])("div",ul,[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({width:(null===(m=e.$f.getPerFromNum(null===(b=a.pair)||void 0===b?void 0:b["buy_volume_u_"+l.tabActive],null===(h=a.pair)||void 0===h?void 0:h["sell_volume_u_"+l.tabActive]))||void 0===m?void 0:m[0])+"%",background:e.$store.getters.upColor[3],opacity:"dark"===e.$store.state.mode?"0.7":"1"})},null,4),Object(i["createElementVNode"])("span",{class:"flex-1",style:Object(i["normalizeStyle"])({background:e.$store.getters.downColor[3],opacity:"dark"===e.$store.state.mode?"0.7":"1"})},null,4)])])]),Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",ml,[Object(i["createVNode"])(L,{effect:"customized",content:e.$t("txns1Tip"),placement:"top-end","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("txns1")),1)]),_:1},8,["content","popper-class"])]),Object(i["createElementVNode"])("div",bl,Object(i["toDisplayString"])(e.$f.formatNumberS((null===(p=a.pair)||void 0===p?void 0:p[`tx_${l.tabActive}_count`])||(null===(v=a.pair)||void 0===v?void 0:v[`buys_tx_${l.tabActive}_count`])+(null===(O=a.pair)||void 0===O?void 0:O[`sells_tx_${l.tabActive}_count`]),{decimals:2,limit:5})),1)]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",hl,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumberS(null===(f=a.pair)||void 0===f?void 0:f[`buys_tx_${l.tabActive}_count`],{decimals:2,limit:5})),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumberS(null===(j=a.pair)||void 0===j?void 0:j[`sells_tx_${l.tabActive}_count`],{decimals:2,limit:5})),1)]),Object(i["createElementVNode"])("div",pl,[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({width:(null===(k=e.$f.getPerFromNum(null===(g=a.pair)||void 0===g?void 0:g[`buys_tx_${l.tabActive}_count`],null===(y=a.pair)||void 0===y?void 0:y[`sells_tx_${l.tabActive}_count`]))||void 0===k?void 0:k[0])+"%",background:e.$store.getters.upColor[3],opacity:"dark"===e.$store.state.mode?"0.7":"1"})},null,4),Object(i["createElementVNode"])("span",{class:"flex-1",style:Object(i["normalizeStyle"])({background:e.$store.getters.downColor[3],opacity:"dark"===e.$store.state.mode?"0.7":"1"})},null,4)])])]),Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",vl,[Object(i["createVNode"])(L,{effect:"customized",content:e.$t("markers1Tip"),placement:"top-end","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("markers1")),1)]),_:1},8,["content","popper-class"])]),Object(i["createElementVNode"])("div",Ol,Object(i["toDisplayString"])(e.$f.formatNumberS((null===(w=a.pair)||void 0===w?void 0:w["makers_"+l.tabActive])||(null===(_=a.pair)||void 0===_?void 0:_["buyers_"+l.tabActive])+(null===($=a.pair)||void 0===$?void 0:$["sellers_"+l.tabActive]),{decimals:2,limit:5})),1)]),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",fl,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumberS(null===(N=a.pair)||void 0===N?void 0:N["buyers_"+l.tabActive],{decimals:2,limit:5})),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumberS(null===(T=a.pair)||void 0===T?void 0:T["sellers_"+l.tabActive],{decimals:2,limit:5})),1)]),Object(i["createElementVNode"])("div",jl,[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({width:(null===(V=e.$f.getPerFromNum(null===(x=a.pair)||void 0===x?void 0:x["buyers_"+l.tabActive],null===(S=a.pair)||void 0===S?void 0:S["sellers_"+l.tabActive]))||void 0===V?void 0:V[0])+"%",background:e.$store.getters.upColor[3],opacity:"dark"===e.$store.state.mode?"0.7":"1"})},null,4),Object(i["createElementVNode"])("span",{class:"flex-1",style:Object(i["normalizeStyle"])({background:e.$store.getters.downColor[3],opacity:"dark"===e.$store.state.mode?"0.7":"1"})},null,4)])])])],4)])]),Object(i["createElementVNode"])("div",kl,[Object(i["createElementVNode"])("table",gl,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",yl,[Object(i["createVNode"])(L,{effect:"customized",content:e.$t("MKTCAPTip"),placement:"top-end","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("MKTCAP")),1)]),_:1},8,["content","popper-class"])]),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("holders1")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("openPrice")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("24Exchange")),1)])]),Object(i["createElementVNode"])("tbody",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",wl,"$"+Object(i["toDisplayString"])(a.circulation?e.$f.formatNumberS(a.circulation*Number(a.currentPrice||0)||0):0),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(null!==(E=a.tokenInfo)&&void 0!==E&&E.holders?e.$f.formatNumber2((null===(B=a.tokenInfo)||void 0===B?void 0:B.holders)||0):0),1),Object(i["createElementVNode"])("td",null,[Object(i["createTextVNode"])(" $"+Object(i["toDisplayString"])(e.$f.formatNumberS((null===(C=a.tokenInfo)||void 0===C?void 0:C.open_price)||0,3)),1),e.$store.state.tokenPrice>0&&a.tokenInfo.open_price>0&&e.$store.state.tokenPrice>=a.tokenInfo.open_price?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" ("+Object(i["toDisplayString"])(e.$f.formatNumberS(e.$store.state.tokenPrice/(null===(D=a.tokenInfo)||void 0===D?void 0:D.open_price)*100,0))+"%) ",1)],64)):e.$store.state.tokenPrice>0&&a.tokenInfo.open_price>0&&e.$store.state.tokenPrice<a.tokenInfo.open_price?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(" (-"+Object(i["toDisplayString"])(e.$f.formatNumberS(100-e.$store.state.tokenPrice/(null===(I=a.tokenInfo)||void 0===I?void 0:I.open_price)*100,0))+"%) ",1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[],64))]),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(a.circulation>0?e.$f.formatNumber2(a.tokenInfo.amount_24/a.circulation*100||0,0)+"%":"-"),1)])])])]),Object(i["createElementVNode"])("div",_l,[Object(i["createElementVNode"])("div",$l,[Object(i["createElementVNode"])("span",Nl,Object(i["toDisplayString"])(e.$t("totalPair")),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$f.formatNumberS((null===(A=a.tokenInfo.token)||void 0===A?void 0:A.main_pair_tvl)||0,1)),1)]),Object(i["createVNode"])(P),Object(i["createVNode"])(F)]),Object(i["createElementVNode"])("div",Tl,[!e.$store.getters.isSupportSwap&&e.$store.state.currentAccount?(Object(i["openBlock"])(),Object(i["createBlock"])(R,{key:0})):(Object(i["openBlock"])(),Object(i["createBlock"])(M,{key:1}))]),Object(i["createElementVNode"])("div",Vl,[Object(i["createVNode"])(U)])])}var Sl=o("e524"),El=o.n(Sl);const Bl={class:"swap-container"},Cl={class:"tabs"},Dl=["disabled","onClick"],Il={class:"card-container mt-10"},Al={class:"flex items-center"},Ll=["innerHTML"],Pl={class:"flex justify-between items-center mt-10"},Fl={class:"card-container bottom mt-10"},Rl={class:"flex items-center"},Ml=["innerHTML"],Ul={class:"flex justify-between items-center mt-10"},zl={key:0,class:"relative mb-10"},Hl={style:{display:"flex","justify-content":"center","align-items":"center"}},ql={class:"icon-svg mr-5",style:{"font-size":"18px"},"aria-hidden":"true"},Ql={style:{display:"flex","justify-content":"center","align-items":"center"}},Gl={class:"icon-svg mr-5",style:{"font-size":"18px"},"aria-hidden":"true"},Wl={style:{display:"flex","justify-content":"center","align-items":"center"}},Yl={class:"icon-svg mr-5",style:{"font-size":"18px"},"aria-hidden":"true"},Jl={key:0},Kl={key:1},Zl=["innerHTML"],Xl={class:"swap-label"},en={class:"slippage-container"},tn={class:"swap-label_item-left"},on={style:{display:"flex","align-items":"center"}},ln={class:"swap-label_item-left"},nn={class:"swap-label_item-left"},an={key:0},sn={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:El.a,alt:"",srcset:""},cn={key:1},rn={key:1},dn={key:0,style:{width:"15px",margin:"1px 5px 0"},src:El.a,alt:"",srcset:""},un={key:1},mn={key:0},bn={key:1,class:"path-amm"},hn={key:0,class:"select-token iconfont icon-collapse-down"},pn={key:0},vn={class:"swap-label_item-left"},On={class:"card-container mt-10"},fn={class:"flex items-center"},jn=["innerHTML"],kn={class:"flex justify-between items-center mt-10"},gn={class:"card-container bottom mt-10"},yn={class:"flex items-center"},wn=["innerHTML"],_n={class:"flex justify-between items-center mt-10"},$n={key:0,class:"limit-price-label"},Nn={key:1,class:"card-container flex justify-between items-center"},Tn=["disabled"],Vn=["disabled"],xn={class:"limit-price-label mt-10"},Sn={class:"card-container flex justify-between items-center",style:{"margin-bottom":"10px"}},En=["disabled"],Bn=["disabled"],Cn={class:"limit-price-label mt-10"},Dn={class:"card-container flex justify-between items-center",style:{"margin-bottom":"10px"}},In=["disabled"],An=["disabled"],Ln={class:"swap-label mt-10"},Pn={key:0,class:"slippage-container"},Fn={key:1},Rn={class:"swap-label_item-left"},Mn={key:1,style:{display:"flex","align-items":"center"}},Un={class:"mt-10"},zn={class:"tabs-1"},Hn=["onClick"];function qn(e,t,o,l,n,a){var s,c,r,d,u,m,b,h,p,v;const O=Object(i["resolveComponent"])("van-count-down"),f=Object(i["resolveComponent"])("el-tab-pane"),j=Object(i["resolveComponent"])("el-tabs"),k=Object(i["resolveComponent"])("SelectSwapToken"),g=Object(i["resolveComponent"])("van-field"),y=Object(i["resolveComponent"])("PercentStep"),w=Object(i["resolveComponent"])("van-button"),_=Object(i["resolveComponent"])("SlippageSet"),$=Object(i["resolveComponent"])("van-image"),N=Object(i["resolveComponent"])("van-icon"),T=Object(i["resolveComponent"])("SolanaLimitExpired"),V=Object(i["resolveComponent"])("Liquidity"),x=Object(i["resolveComponent"])("LimitTxItem"),S=Object(i["resolveComponent"])("SelectRouter"),E=Object(i["resolveComponent"])("ConfirmSwap"),B=Object(i["resolveComponent"])("ConfirmLimit");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Bl,[Object(i["createVNode"])(O,{style:{position:"absolute",opacity:"0",height:"0"},ref:"countDown",class:"icon-countDown",time:15e3,format:"sss",onFinish:a.onCountDownFinish},{default:Object(i["withCtx"])(e=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.seconds)+"s ",1)]),_:1},8,["onFinish"]),Object(i["createElementVNode"])("div",Cl,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.tabs,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:o,class:Object(i["normalizeClass"])(["tab-item",{active:t.value===n.activeTab,["tab-"+t.value]:!0}]),type:"button",disabled:["solana","tron","sui"].includes(e.$store.getters.netId)&&"liquidity"===t.value,onClick:e=>a.switchTab(t.value)},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(t.name),1)],10,Dl))),128))]),0===n.activeTab||1===n.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createVNode"])(j,{modelValue:n.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selected=e),class:"select-tabs"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.types,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:t,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),2===n.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("form",{key:0,action:"",onSubmit:t[21]||(t[21]=Object(i["withModifiers"])((...e)=>a.onSubmit&&a.onSubmit(...e),["prevent","stop"]))},[Object(i["createElementVNode"])("div",Il,[Object(i["createElementVNode"])("div",Al,[Object(i["createVNode"])(k,{tokens:a.swapTokens,token:n.token1,"onUpdate:token":[t[1]||(t[1]=e=>n.token1=e),a.handleSelectToken1],chain:e.$store.getters.netId||(null===(s=e.$f.getAddressAndChainFromId(e.$route.params.id))||void 0===s?void 0:s.chain)||n.token1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),t[47]||(t[47]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",{class:"s-text",innerHTML:`${e.$t("balance")}: ${e.$f.formatNumber3((null===(c=n.token1)||void 0===c?void 0:c.balance)||0)}`},null,8,Ll),1===n.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"max-btn",type:"button",onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>a.handlePercentChange(100),["stop"]))},Object(i["toDisplayString"])(e.$t("max")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Pl,[0===n.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:0,modelValue:n.toAmount,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.toAmount=e),a.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",readonly:a.isOnlyGetAmountsOut,onFocus:t[4]||(t[4]=t=>{var o;return null===(o=e.$refs)||void 0===o||null===(o=o.percentStep)||void 0===o?void 0:o.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue","readonly"])):Object(i["createCommentVNode"])("",!0),1===n.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:1,modelValue:n.fromAmount,"onUpdate:modelValue":[t[5]||(t[5]=e=>n.fromAmount=e),a.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[6]||(t[6]=t=>{var o;return null===(o=e.$refs)||void 0===o||null===(o=o.percentStep)||void 0===o?void 0:o.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0)])]),Object(i["createElementVNode"])("div",Fl,[Object(i["createElementVNode"])("div",Rl,[Object(i["createVNode"])(k,{tokens:a.swapTokens,token:n.token2,"onUpdate:token":[t[7]||(t[7]=e=>n.token2=e),a.handleSelectToken2],chain:e.$store.getters.netId},null,8,["tokens","token","chain","onUpdate:token"]),t[48]||(t[48]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",{class:"s-text",innerHTML:`${e.$t("balance")}: ${e.$f.formatNumber3(n.token2.balance||0)}`},null,8,Ml),0===n.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"max-btn",type:"button",onClick:t[8]||(t[8]=Object(i["withModifiers"])(e=>a.handlePercentChange(100),["stop"]))},Object(i["toDisplayString"])(e.$t("max")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Ul,[1===n.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:0,modelValue:n.toAmount,"onUpdate:modelValue":[t[9]||(t[9]=e=>n.toAmount=e),a.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",readonly:a.isOnlyGetAmountsOut,onFocus:t[10]||(t[10]=t=>{var o;return null===(o=e.$refs)||void 0===o||null===(o=o.percentStep)||void 0===o?void 0:o.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue","readonly"])):Object(i["createCommentVNode"])("",!0),0===n.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:1,modelValue:n.fromAmount,"onUpdate:modelValue":[t[11]||(t[11]=e=>n.fromAmount=e),a.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[12]||(t[12]=t=>{var o;return null===(o=e.$refs)||void 0===o||null===(o=o.percentStep)||void 0===o?void 0:o.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(i["createCommentVNode"])("",!0)])]),Object(i["createVNode"])(y,{ref:"percentStep",onChange:a.handlePercentChange,activeColor:0===n.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]},null,8,["onChange","activeColor"]),e.$store.state.currentAccount?e.$store.state.currentAccount&&"importAddress"===e.$store.state.wallet?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createVNode"])(w,{"native-type":"button",class:"submit-btn",block:"",disabled:"",color:"#555555"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("watchWalletNotSwap")),1)]),_:1}),"solana"===n.token1.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:0,style:{"margin-top":"10px"},class:"submit-btn",block:"",color:0===n.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"submit",onClick:Object(i["withModifiers"])(a.jumpAveSniperBot,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Ql,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Gl,t[51]||(t[51]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-TG2"},null,-1)]))),t[52]||(t[52]=Object(i["createElementVNode"])("span",null,"AveBot",-1))])]),_:1},8,["color","onClick"])):Object(i["createCommentVNode"])("",!0)],64)):a.supportChain()?!a.isApprove||n.loadingAllowance?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:3,class:"submit-btn",block:"",color:a.swapButtonColor,"native-type":"submit","loading-text":n.loadingAllowance?e.$t("checkingAllowance"):n.quoteLoading?e.$t("quoting"):n.loadingApprove?e.$t("approve"):"",loading:n.loadingApprove||n.loadingSwap||n.loadingAllowance,disabled:Number(a.fromToken.balance)<Number(this.fromAmount)},{default:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(this.fromAmount)||""===e.$store.state.currentAccount?null!==(t=a.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?e.$t("priceImpactTooHigh"):a.checkAmountMessage()||e.$t("approve"):e.$t("approve")),1)]}),_:1},8,["color","loading-text","loading","disabled"])):(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:4,class:"submit-btn",block:"",loading:n.loadingSwap||n.quoteLoading||n.loadingAllowance,"loading-text":n.loadingSwap?0===n.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:a.swapButtonColor,disabled:(null===(r=a.priceImpactV)||void 0===r||null===(d=r.gt)||void 0===d?void 0:d.call(r,.4))||!a.checkAmount()||!n.fromAmount||!n.toAmount,"native-type":"submit"},{default:Object(i["withCtx"])(()=>{var t,o,l,s,c;return[0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(this.fromAmount)||""===e.$store.state.currentAccount||(n.isERC314||n.isFourMeme||n.isFlap||n.isSunPump>0||n.isDyorswapfun||n.isCookPump||n.isPopMeFun)&&n.token2.address!==n.nativeToken||(n.isPump||n.isMoonshot)&&"So11111111111111111111111111111111111111112"!==n.token2.address?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Jl,Object(i["toDisplayString"])(a.checkAmountMessage()),1)):null!==(t=a.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Kl,Object(i["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null!==(l=a.priceImpactV)&&void 0!==l&&null!==(s=l.gt)&&void 0!==s&&s.call(l,.1)?0===n.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===n.activeTab?e.$t("buy"):e.$t("sell"))+" "+Object(i["toDisplayString"])((null===(c=n.token1)||void 0===c?void 0:c.symbol)||""),1),a.taxStr?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,style:{"font-size":"12px"},innerHTML:a.taxStr},null,8,Zl)):Object(i["createCommentVNode"])("",!0)],64))]}),_:1},8,["loading","loading-text","color","disabled"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createVNode"])(w,{"native-type":"button",class:"submit-btn",disabled:"",block:"",color:"#555555"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.checkSupportChainMessage()),1)]),_:1}),"solana"===n.token1.chain&&n.token1.chain!==e.$store.getters.netId?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:0,class:"submit-btn",style:{"margin-top":"10px"},block:"",color:0===n.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"submit",onClick:Object(i["withModifiers"])(a.jumpAveSniperBot,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Wl,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Yl,t[53]||(t[53]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-TG2"},null,-1)]))),t[54]||(t[54]=Object(i["createElementVNode"])("span",null,"AveBot",-1))])]),_:1},8,["color","onClick"])):Object(i["createCommentVNode"])("",!0)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},["solana"===n.token1.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",zl,[Object(i["createVNode"])(w,{class:"submit-btn",block:"",color:0===n.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"submit",style:{"margin-top":"10px"},onClick:Object(i["withModifiers"])(a.jumpAveSniperBot,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Hl,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",ql,t[49]||(t[49]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-TG2"},null,-1)]))),t[50]||(t[50]=Object(i["createElementVNode"])("span",null,"AveBot",-1))])]),_:1},8,["color","onClick"])])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(w,{"native-type":"button",class:"submit-btn",block:"",color:"#286DFF",onClick:t[13]||(t[13]=Object(i["withModifiers"])(t=>{e.$store.commit("changeConnectVisible",!0),e.$store.commit("setIsShowImportAddress",!0)},["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("pConnectWallet")),1)]),_:1})],64)),Object(i["createElementVNode"])("ul",Xl,[Object(i["createElementVNode"])("li",en,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[14]||(t[14]=Object(i["withModifiers"])(t=>a.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips")),["stop"]))}),t[55]||(t[55]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),"solana"===a.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(_,{key:0,slippage:n.solanaSlippage,"onUpdate:slippage":t[15]||(t[15]=e=>n.solanaSlippage=e),canSetAuto:!1},null,8,["slippage"])):"sui"===a.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(_,{key:1,slippage:n.tonSlippage,"onUpdate:slippage":t[16]||(t[16]=e=>n.tonSlippage=e),canSetAuto:!1},null,8,["slippage"])):(Object(i["openBlock"])(),Object(i["createBlock"])(_,{key:2,slippage:n.customSlippage,"onUpdate:slippage":t[17]||(t[17]=e=>n.customSlippage=e),autoSlippage:n.autoSlippageValue},null,8,["slippage","autoSlippage"]))]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",tn,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("estimatedAveragePrice")),1)]),Object(i["createElementVNode"])("div",on,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(a.getAvgPrice()),1)])],512),[[i["vShow"],n.fromAmount&&n.toAmount]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",ln,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("priceImpact")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[18]||(t[18]=Object(i["withModifiers"])(t=>a.alertTips(e.$t("priceImpact"),e.$t("priceImpactTips")),["stop"]))})]),Object(i["createElementVNode"])("div",{style:Object(i["normalizeStyle"])({color:a.priceImpactColor})},Object(i["toDisplayString"])(a.priceImpact)+Object(i["toDisplayString"])(null!==(u=a.priceImpactV)&&void 0!==u&&null!==(m=u.gt)&&void 0!==m&&m.call(u,.05)?`(${e.$t("excessivePriceImpact")})`:""),5)],512),[[i["vShow"],n.fromAmount&&n.toAmount]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",nn,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tokenRoute")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[19]||(t[19]=Object(i["withModifiers"])(t=>a.alertTips(e.$t("tokenRoute"),e.$t("tokenRouteTips")),["stop"]))})]),"solana"===a.chain||"sui"===a.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",an,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])([a.fromToken,a.toToken],(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",sn)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",cn,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64))),128))])):1===(null===(b=n.swapQuoteInfo)||void 0===b?void 0:b.toWrapper)||2===(null===(h=n.swapQuoteInfo)||void 0===h?void 0:h.toWrapper)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.swapRouterPath,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",dn)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",un,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64))),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:2,class:"path-list clickable",onClick:t[20]||(t[20]=Object(i["withModifiers"])(e=>!n.isFourMeme&&!n.isSunPump&&(n.dialogListRouterVisible=!0),["stop","prevent"]))},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.swapRouterPath,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:l},[o.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",mn,Object(i["toDisplayString"])(o.symbol),1)):Object(i["createCommentVNode"])("",!0),o.nextAmm&&"unknown"!==o.nextAmm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",bn,[Object(i["createVNode"])($,{class:"icon-amm-logo","show-loading":"",round:"",src:`${e.$store.state.s3BaseUrl}swap/${o.nextAmm}.jpeg`,"error-icon":"/icon-default.png"},null,8,["src"]),t[56]||(t[56]=Object(i["createElementVNode"])("img",{style:{width:"15px",margin:"1px 5px 0"},src:El.a,alt:"",srcset:""},null,-1))])):Object(i["createCommentVNode"])("",!0)],64))),128)),n.listRouter.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",hn)):Object(i["createCommentVNode"])("",!0)]))],512),[[i["vShow"],n.fromAmount&&n.toAmount]]),"solana"!==a.chain&&"tron"!==a.chain&&"sui"!==a.chain&&Number(a.estimatedFee)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",pn,[Object(i["createElementVNode"])("div",vn,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",null,"≈ $"+Object(i["toDisplayString"])(a.estimatedFee),1)])):Object(i["createCommentVNode"])("",!0)])],32)):Object(i["createCommentVNode"])("",!0),0===n.selected||1===n.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("form",{key:1,action:"",onSubmit:t[43]||(t[43]=Object(i["withModifiers"])((...e)=>a.onLimitSubmit&&a.onLimitSubmit(...e),["prevent","stop"]))},[Object(i["createElementVNode"])("div",On,[Object(i["createElementVNode"])("div",fn,[Object(i["createVNode"])(k,{tokens:a.swapTokens,token:n.limitToken1,"onUpdate:token":[t[22]||(t[22]=e=>n.limitToken1=e),a.handleSelectLimitToken1],chain:e.$store.getters.netId},null,8,["tokens","token","chain","onUpdate:token"]),t[57]||(t[57]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",{class:"s-text",innerHTML:`${e.$t("balance")}: ${e.$f.formatNumber3((null===(p=n.limitToken1)||void 0===p?void 0:p.balance)||0)}`},null,8,jn),1===n.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"max-btn",type:"button",onClick:t[23]||(t[23]=Object(i["withModifiers"])(e=>a.handlePercentChange1(100),["stop"]))},Object(i["toDisplayString"])(e.$t("max")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",kn,[Object(i["createVNode"])(g,{modelValue:n.limitAmount1,"onUpdate:modelValue":[t[24]||(t[24]=e=>n.limitAmount1=e),a.watchLimitAmount1],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[25]||(t[25]=t=>e.$refs.percentStep1.handleClick(0,!0))},null,8,["modelValue","onUpdate:modelValue"])])]),Object(i["createElementVNode"])("div",gn,[Object(i["createElementVNode"])("div",yn,[Object(i["createVNode"])(k,{tokens:a.swapTokens,token:n.limitToken2,"onUpdate:token":[t[26]||(t[26]=e=>n.limitToken2=e),a.handleSelectLimitToken2],chain:e.$store.getters.netId},null,8,["tokens","token","chain","onUpdate:token"]),t[58]||(t[58]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",{class:"s-text",innerHTML:`${e.$t("balance")}: ${e.$f.formatNumber3((null===(v=n.limitToken2)||void 0===v?void 0:v.balance)||0)}`},null,8,wn),0===n.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"max-btn",type:"button",onClick:t[27]||(t[27]=Object(i["withModifiers"])(e=>a.handlePercentChange1(100),["stop"]))},Object(i["toDisplayString"])(e.$t("max")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",_n,[Object(i["createVNode"])(g,{modelValue:n.limitAmount2,"onUpdate:modelValue":[t[28]||(t[28]=e=>n.limitAmount2=e),a.watchLimitAmount2],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[29]||(t[29]=t=>e.$refs.percentStep1.handleClick(0,!0))},null,8,["modelValue","onUpdate:modelValue"])])]),Object(i["createVNode"])(y,{ref:"percentStep1",onChange:a.handlePercentChange1,activeColor:a.limitButtonColor},null,8,["onChange","activeColor"]),1===n.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",$n,Object(i["toDisplayString"])(e.$t("triggerPrice"))+"("+Object(i["toDisplayString"])(n.limitToken1.symbol||"")+")",1)):Object(i["createCommentVNode"])("",!0),1===n.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Nn,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[30]||(t[30]=Object(i["withModifiers"])((...e)=>a.minusTriggerPrice&&a.minusTriggerPrice(...e),["stop"])),disabled:!n.triggerPrice},[Object(i["createVNode"])(N,{name:"minus"})],8,Tn),Object(i["createVNode"])(g,{modelValue:n.triggerPrice,"onUpdate:modelValue":t[31]||(t[31]=e=>n.triggerPrice=e),placeholder:"0.0",label:"$",type:"number","input-align":"center","label-align":"right","label-width":"10px",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"5px"}},null,8,["modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[32]||(t[32]=Object(i["withModifiers"])((...e)=>a.addTriggerPrice&&a.addTriggerPrice(...e),["stop"])),disabled:!n.triggerPrice},[Object(i["createVNode"])(N,{name:"plus"})],8,Vn)])):Object(i["createCommentVNode"])("",!0),"solana"===a.chain&&0===n.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("div",xn,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(n.limitToken1.symbol||"")+")",1),Object(i["createElementVNode"])("div",Sn,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[33]||(t[33]=Object(i["withModifiers"])((...e)=>a.minusLimitSolanaPrice&&a.minusLimitSolanaPrice(...e),["stop"])),disabled:!n.limitSolanaPriceU},[Object(i["createVNode"])(N,{name:"minus"})],8,En),Object(i["createVNode"])(g,{modelValue:n.limitSolanaPriceU,"onUpdate:modelValue":[t[34]||(t[34]=e=>n.limitSolanaPriceU=e),a.watchLimitSolanaPrice],placeholder:"0.0",label:"$",type:"number","input-align":"center","label-align":"right","label-width":"10px",clearable:"",class:"input-number input-price",border:!1,style:{"--van-field-label-margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[35]||(t[35]=Object(i["withModifiers"])((...e)=>a.addLimitSolanaPrice&&a.addLimitSolanaPrice(...e),["stop"])),disabled:!n.limitSolanaPriceU},[Object(i["createVNode"])(N,{name:"plus"})],8,Bn)])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:3},[Object(i["createElementVNode"])("div",Cn,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(n.limitToken1.symbol||"")+")",1),Object(i["createElementVNode"])("div",Dn,[Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[36]||(t[36]=Object(i["withModifiers"])((...e)=>a.minusLimitPrice&&a.minusLimitPrice(...e),["stop"])),disabled:!n.limitPrice},[Object(i["createVNode"])(N,{name:"minus"})],8,In),Object(i["createVNode"])(g,{modelValue:n.limitPrice,"onUpdate:modelValue":[t[37]||(t[37]=e=>n.limitPrice=e),a.watchLimitPrice],placeholder:"0.0",label:"$",type:"number","input-align":"center","label-align":"right","label-width":"10px",clearable:"",class:"input-number input-price",border:!1,style:{"--van-field-label-margin-right":"5px"}},null,8,["modelValue","onUpdate:modelValue"]),Object(i["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[38]||(t[38]=Object(i["withModifiers"])((...e)=>a.addLimitPrice&&a.addLimitPrice(...e),["stop"])),disabled:!n.limitPrice},[Object(i["createVNode"])(N,{name:"plus"})],8,An)])],64)),e.$store.state.currentAccount?e.$store.state.currentAccount&&"importAddress"===e.$store.state.wallet?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:5,"native-type":"button",class:"submit-btn",block:"",disabled:"",color:"#555555"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("watchWalletNotSwap")),1)]),_:1})):a.supportChainLimit()?!a.isLimitApprove||n.loadingLimitAllowance?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:7,class:"submit-btn",block:"",color:a.limitButtonColor,"native-type":"submit","loading-text":n.loadingLimitAllowance?e.$t("checkingAllowance"):n.quoteLimitLoading?e.$t("quoting"):n.loadingLimitApprove?e.$t("approve"):"",disabled:!a.checkLimitAmount(),loading:n.loadingLimitApprove||n.loadingLimit||n.loadingLimitAllowance},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.checkLimitAmountMessage()||e.$t("approve")),1)]),_:1},8,["color","loading-text","disabled","loading"])):(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:8,class:"submit-btn",block:"",loading:n.loadingLimit||n.limitQuoteLoading,"loading-text":n.limitQuoteLoading?e.$t("quoting"):n.loadingLimit?0===n.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:a.limitButtonColor,disabled:!a.checkLimitAmount()||!n.limitAmount1||!n.limitAmount2||n.loadingLimitAllowance,"native-type":"submit"},{default:Object(i["withCtx"])(()=>{var t;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.checkLimitAmountMessage()||(0===n.activeTab?e.$t("buy"):e.$t("sell"))+" "+((null===(t=n.limitToken1)||void 0===t?void 0:t.symbol)||"")),1)]}),_:1},8,["loading","loading-text","color","disabled"])):(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:6,"native-type":"button",class:"submit-btn",disabled:"",block:"",color:"#555555"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.checkSupportChainLimitMessage()),1)]),_:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:4,"native-type":"button",class:"submit-btn",block:"",color:"#286DFF",onClick:t[39]||(t[39]=Object(i["withModifiers"])(t=>{e.$store.commit("changeConnectVisible",!0),e.$store.commit("setIsShowImportAddress",!0)},["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("pConnectWallet")),1)]),_:1})),Object(i["createElementVNode"])("ul",Ln,["solana"!==a.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Pn,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[40]||(t[40]=Object(i["withModifiers"])(t=>a.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips")),["stop"]))}),t[59]||(t[59]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createVNode"])(_,{slippage:n.limitSlippage,"onUpdate:slippage":t[41]||(t[41]=e=>n.limitSlippage=e),canSetAuto:!1},null,8,["slippage"])])):Object(i["createCommentVNode"])("",!0),0===n.selected||1===n.selected?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Fn,[Object(i["createElementVNode"])("div",Rn,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("limitExpiredTime")),1)]),0===n.selected&&"solana"===a.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(T,{key:0,expiredTime:n.solanaLimitExpiredTime,"onUpdate:expiredTime":t[42]||(t[42]=e=>n.solanaLimitExpiredTime=e)},null,8,["expiredTime"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Mn,Object(i["toDisplayString"])(n.LimitExpiredDays)+" "+Object(i["toDisplayString"])(e.$t("days1")),1))])):Object(i["createCommentVNode"])("",!0)])],32)):Object(i["createCommentVNode"])("",!0)],64)):"liquidity"===n.activeTab?(Object(i["openBlock"])(),Object(i["createBlock"])(V,{key:1,ref:"liquidity",onRefresh:a.getUserLpHistory},null,8,["onRefresh"])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("div",Un,[Object(i["createElementVNode"])("div",zn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.tabs1,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,class:Object(i["normalizeClass"])(["tab-item",{active:e.value===n.tabActive1}]),type:"button",onClick:Object(i["withModifiers"])(t=>n.tabActive1=e.value,["stop"])},Object(i["toDisplayString"])(e.name),11,Hn))),128))]),Object(i["withDirectives"])(Object(i["createVNode"])(x,{class:"mt-5",tableList:a.filterLimitOrders,onRefresh:a.refreshLimit},null,8,["tableList","onRefresh"]),[[i["vShow"],"limit"===n.tabActive1]])],512),[[i["vShow"],2!==n.selected]]),Object(i["createVNode"])(S,{visible:n.dialogListRouterVisible,"onUpdate:visible":t[44]||(t[44]=e=>n.dialogListRouterVisible=e),listRouter:n.listRouter,isAmount:n.isAmount,selectedRouterIndex:n.selectedRouterIndex,onGetSelectedRouter:a.getSelectedRouter},null,8,["visible","listRouter","isAmount","selectedRouterIndex","onGetSelectedRouter"]),Object(i["createVNode"])(E,{visible:n.dialogVisibleSwap,"onUpdate:visible":t[45]||(t[45]=e=>n.dialogVisibleSwap=e),swapInfo:n.swapInfo,swapQuoteInfo:n.swapQuoteInfo,slippage:"solana"===a.chain?n.solanaSlippage:"ton"===a.chain||"sui"===a.chain?n.tonSlippage:a.slippage,onSubmit:a.submitSwap,loading:n.loadingConfirmSwap,chain:e.$store.getters.netId||"",nativePrice:n.nativePrice,gasPrice:n.gasPrice,activeShow:n.activeShow},null,8,["visible","swapInfo","swapQuoteInfo","slippage","onSubmit","loading","chain","nativePrice","gasPrice","activeShow"]),Object(i["createVNode"])(B,{visible:n.dialogVisibleLimit,"onUpdate:visible":t[46]||(t[46]=e=>n.dialogVisibleLimit=e),limitInfo:n.limitInfo,onSubmit:a.submitLimitOrder,loading:n.loadingConfirmLimit,chain:e.$store.getters.netId,limitGasU:n.limitGasU,activeShow:n.activeShow},null,8,["visible","limitInfo","onSubmit","loading","chain","limitGasU","activeShow"])])}o("88e6"),o("70cc"),o("eb03"),o("22e5"),o("c01e"),o("fa76"),o("8306");var Qn=o("3edc");o("6dfc");const Gn={class:"histrory"},Wn={class:"content"},Yn=["onClick"],Jn={class:"token-info"},Kn={key:0,class:"icon-token-container"},Zn=["src"],Xn=["src"],ea=["src"],ta={class:"flex-column"},oa={class:"flex-start"},ia={class:"token-symbol font-14"},la={key:0,class:"risk-status high"},na={key:0,style:{padding:"0 5px",color:"#80838b"}},aa={key:0,class:"assets"},sa=["innerHTML"],ca=["innerHTML"],ra={key:1,class:"empty"};function da(e,t,o,l,n,a){var s;const c=Object(i["resolveComponent"])("loading"),r=Object(i["resolveComponent"])("el-image"),d=Object(i["resolveComponent"])("el-scrollbar");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gn,[(null===(s=o.searchTokens)||void 0===s?void 0:s.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:0,height:"calc(60vh - 50px)"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c,{active:a.isLoading,"onUpdate:active":t[0]||(t[0]=e=>a.isLoading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#286DFF","is-full-page":!1},null,8,["active","backgroundColor"]),Object(i["createElementVNode"])("ul",Wn,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.searchTokens,(t,l)=>{var s,c,d;return Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:l},[Object(i["createElementVNode"])("a",{href:"",onClick:Object(i["withModifiers"])(e=>a.tableRowClick(t),["stop","prevent"]),class:Object(i["normalizeClass"])(["flex",{disabled:o.disabledToken===t.address}])},[Object(i["createElementVNode"])("div",Jn,[e.$f.formatIcon(t)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Kn,[Object(i["createVNode"])(r,{class:"token-icon",src:t.logo_url?e.$f.formatIcon({logo_url:t.logo_url}):"/icon-default.png",lazy:""},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(t,null===t||void 0===t?void 0:t.symbol)},null,8,Zn)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(t,null===t||void 0===t?void 0:t.symbol)},null,8,Xn)]),_:2},1032,["src"]),t.network?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.network}.png`,alt:"",srcset:""},null,8,ea)):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",ta,[Object(i["createElementVNode"])("div",oa,[Object(i["createElementVNode"])("span",ia,Object(i["toDisplayString"])(t.symbol),1),(t.risk_score>55||t.risk_level<0)&&1!==t.risk_level?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",la,Object(i["toDisplayString"])(e.$t("highRisk")),1)):Object(i["createCommentVNode"])("",!0)]),(null!==t&&void 0!==t&&null!==(s=t.row)&&void 0!==s&&s.includes("tokens")||null===t||void 0===t||!t.tags)&&t.address!==n.nativeToken?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",na,Object(i["toDisplayString"])(null===(c=t.token)||void 0===c?void 0:c.slice(0,4))+"**"+Object(i["toDisplayString"])(null===(d=t.token)||void 0===d?void 0:d.slice(-4)),1)):Object(i["createCommentVNode"])("",!0)])]),t.amount>0||t.value>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",aa,[Object(i["createElementVNode"])("span",{innerHTML:t.amount||t.value?e.$f.formatNumber3(t.amount||t.value):""},null,8,sa),Object(i["createElementVNode"])("span",{class:"color-80838B",innerHTML:"$ "+e.$f.formatNumber3((t.current_price_usd||t.price||0)*(t.amount||t.value))},null,8,ca)])):Object(i["createCommentVNode"])("",!0)],10,Yn)])}),128))])]),_:1})):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ra,[Object(i["createElementVNode"])("div",null,[t[1]||(t[1]=Object(i["createElementVNode"])("img",{src:Io.a},null,-1)),t[2]||(t[2]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("noSearchResults")),1)])]))])}var ua={name:"SearchTable",props:{searchTokens:Array,loading:Boolean,disabledToken:String},emits:["onSelect"],data(){return{nativeToken:Ki["i"]}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(Ae["j"])()},isLoading(){return this.loading}},methods:{tableRowClick(e){(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token)&&this.disabledToken!==e.address&&(this.token=e,this.$emit("onSelect",e),this.show=!1)},highRiskTips(e){if(e.risk_level<0){let t=e.risk_info&&Object(Ae["o"])(e.risk_info)?JSON.parse(e.risk_info):{};return(null===t||void 0===t?void 0:t[this.$store.getters.language])||this.$t("highRisk")}return""}}};o("935d");const ma=wt()(ua,[["render",da],["__scopeId","data-v-79766c2b"]]);var ba=ma,ha=o("7f08"),pa=o("9ca6");const va={key:0,class:"icon-token-container"},Oa=["src"],fa=["src"],ja={class:"font-14 color-fff font-weight-400 ml-3"},ka={key:1},ga={class:"font-18 color-fff font-weight-400"},ya={class:"search-content",style:{"padding-top":"10px"}};var wa={__name:"selectToken",props:{tokens:Array,token:Object,chain:String,disabledToken:String},emits:["update:token"],setup(e,{emit:t}){const{t:o}=Object(pa["b"])(),l=e,n=t;let a=Object(i["ref"])(!1),s=Object(i["ref"])(""),c=Object(i["ref"])(l.tokens||[]),r=Object(i["ref"])(!1),d=Object(Gi["useStorage"])("selectTokenHistory",[],localStorage),u=Object(i["computed"])(()=>{var e;return(null===(e=c.value)||void 0===e?void 0:e.length)>0?c.value:l.tokens||[]});Object(i["watch"])(s,e=>{""!==e?b():c.value=l.tokens}),Object(i["watch"])(a,e=>{e&&(c.value=l.tokens||[],s.value="")});let m=null;function b(){m&&(clearTimeout(m),m=null),m=setTimeout(()=>{h()},500)}function h(){if(""!==s.value){var e;let t=new RegExp(s.value,"i"),o=(null===(e=l.tokens)||void 0===e?void 0:e.filter(e=>t.test((null===e||void 0===e?void 0:e.address)||"")||t.test((null===e||void 0===e?void 0:e.symbol)||"")||t.test((null===e||void 0===e?void 0:e.name)||"")))||[];r.value=!0,Object(De["Pe"])(s.value,l.chain).then(e=>{var t,i;let n=null===(t=e.filter)||void 0===t||null===(t=t.call(e,e=>e.chain===l.chain&&!o.some(t=>t.token===e.token)))||void 0===t||null===(i=t.map)||void 0===i?void 0:i.call(t,e=>({...e,address:e.token}));c.value=[...o,...n]}).catch(e=>{c.value=[]}).finally(()=>{r.value=!1})}else c.value=l.tokens}function p(e){if(e.address!==l.disabledToken&&(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token)){var t,o,i;let l=Object(ha["formatIcon"])(e),s=null===(t=d.value)||void 0===t?void 0:t.filter(e=>e.logo!==l);d.value=null===(o=[{symbol:e.symbol,logo:l,chain:e.chain},...s])||void 0===o||null===(i=o.slice)||void 0===i?void 0:i.call(o,0,4),n("update:token",e),a.value=!1}}return(e,t)=>{var n,c,d,m,h,v;const O=Object(i["resolveComponent"])("Search"),f=Object(i["resolveComponent"])("el-icon"),j=Object(i["resolveComponent"])("el-input"),k=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("button",{class:"select-token",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>Object(i["isRef"])(a)?a.value=!0:a=!0,["stop"])),type:"button"},[null!==(n=l.token)&&void 0!==n&&n.address||null!==(c=l.token)&&void 0!==c&&c.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[null!==(d=l.token)&&void 0!==d&&d.address||null!==(m=l.token)&&void 0!==m&&m.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",va,[Object(i["createElementVNode"])("img",{class:"token-icon",src:Object(i["unref"])(ha["formatIcon"])(l.token),height:"22",onerror:"this.src='/icon-default.png'"},null,8,Oa),null!==(h=l.token)&&void 0!==h&&h.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-chain",src:`${e.$store.state.s3BaseUrl}chain/${l.token.chain}.png`,alt:"",srcset:""},null,8,fa)):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",ja,Object(i["toDisplayString"])((null===(v=l.token)||void 0===v?void 0:v.symbol)||""),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ka,Object(i["toDisplayString"])(e.$t("pleaseSelectToken")),1)),Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["arrow-up iconfont icon-xiala",{active:!0===Object(i["unref"])(a)}])},null,2)]),Object(i["createVNode"])(k,{class:"dialog-select",modelValue:Object(i["unref"])(a),"onUpdate:modelValue":t[3]||(t[3]=e=>Object(i["isRef"])(a)?a.value=e:a=e),width:"420px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",ga,Object(i["toDisplayString"])(Object(i["unref"])(o)("selectToken")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"search-dialog-container",onClick:t[2]||(t[2]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createVNode"])(j,{ref:"inputSearch",placeholder:Object(i["unref"])(o)("enterAddress/token"),modelValue:Object(i["unref"])(s),"onUpdate:modelValue":t[1]||(t[1]=e=>Object(i["isRef"])(s)?s.value=e:s=e),modelModifiers:{trim:!0},onKeydown:Object(i["withKeys"])(b,["enter"]),clearable:""},{prefix:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(O)]),_:1})]),_:1},8,["placeholder","modelValue"]),Object(i["createElementVNode"])("div",ya,[Object(i["createVNode"])(Object(i["unref"])(ba),{searchTokens:Object(i["unref"])(u),onOnSelect:p,loading:Object(i["unref"])(r),disabledToken:l.disabledToken||l.token.address},null,8,["searchTokens","loading","disabledToken"])])])]),_:1},8,["modelValue"])])}}};o("9745");const _a=wt()(wa,[["__scopeId","data-v-2035e222"]]);var $a=_a;const Na={key:0,class:"gap"},Ta=["onClick"],Va={class:"text"};function xa(e,t,o,l,n,a){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"percent-container",style:Object(i["normalizeStyle"])({"--percent-active-color":o.activeColor})},[Object(i["createElementVNode"])("div",{for:"percent-radio-0",class:Object(i["normalizeClass"])({active:0===n.activePercent})},null,2),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.percentList,(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:o},[0!==o?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Na)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["label",{active:e===n.activePercent}]),onClick:Object(i["withModifiers"])(t=>a.handleClick(e),["stop"])},[t[0]||(t[0]=Object(i["createElementVNode"])("div",{class:"bar"},null,-1)),Object(i["createElementVNode"])("div",Va,Object(i["toDisplayString"])(e)+"%",1)],10,Ta)],64))),128))],4)}var Sa={name:"PercentStep",props:{activeColor:String},emits:["change"],data(){return{activePercent:0,percentList:[25,50,75,100]}},methods:{handleClick(e,t=!1){e===this.activePercent?(this.activePercent=0,this.$emit("change",0,t)):(this.activePercent=e,this.$emit("change",e,t))}}};o("fcf4");const Ea=wt()(Sa,[["render",xa],["__scopeId","data-v-f4acede0"]]);var Ba=Ea;const Ca={style:{display:"flex","align-items":"center"}},Da={key:0,style:{"margin-right":"5px",color:"var(--custom-text-1-color)"}},Ia={key:1,style:{color:"var(--custom-text-1-color)"}},Aa={class:"font-18 color-fff font-weight-400"},La={class:"slippage-label"},Pa={class:"mt-10"},Fa=["id","value","disabled"],Ra=["for"],Ma={class:"slippage-input"},Ua={key:0,class:"tip"},za={class:"form-submit"};function Ha(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("QuestionFilled"),c=Object(i["resolveComponent"])("el-icon"),r=Object(i["resolveComponent"])("el-checkbox"),d=Object(i["resolveComponent"])("el-col"),u=Object(i["resolveComponent"])("el-input-number"),m=Object(i["resolveComponent"])("el-row"),b=Object(i["resolveComponent"])("el-button"),h=Object(i["resolveComponent"])("el-form"),p=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("div",Ca,[o.canSetAuto?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Da,Object(i["toDisplayString"])("auto"===o.slippage?e.$t("autoSlippage"):e.$t("manualSlippage"))+"("+Object(i["toDisplayString"])("auto"===o.slippage?o.autoSlippage:o.slippage)+"%) ",1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ia,Object(i["toDisplayString"])(o.slippage)+"%",1)),Object(i["createElementVNode"])("i",{class:"iconfont icon-shezhi",style:{cursor:"pointer","margin-left":"5px"},onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>n.show=!0,["stop"]))})]),Object(i["createVNode"])(p,{modelValue:n.show,"onUpdate:modelValue":t[4]||(t[4]=e=>n.show=e),width:"500px","append-to-body":""},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Aa,Object(i["toDisplayString"])(e.$t("setSlippage")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{class:"popup-content",onSubmit:Object(i["withModifiers"])(a.confirmSubmit,["prevent"])},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",La,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createVNode"])(c,{onClick:Object(i["withModifiers"])(a.openSlippageTips,["stop"]),size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(s)]),_:1},8,["onClick"]),t[5]||(t[5]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),o.canSetAuto?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,modelValue:n.isAuto,"onUpdate:modelValue":t[1]||(t[1]=e=>n.isAuto=e),label:e.$t("autoSlippage"),size:"large"},null,8,["modelValue","label"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Pa,[Object(i["createVNode"])(m,{gutter:10},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.slippageList,(e,o)=>(Object(i["openBlock"])(),Object(i["createBlock"])(d,{span:6,key:o,class:"radio-group"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio-"+e,"onUpdate:modelValue":t[2]||(t[2]=e=>n.slippageValue=e),value:e,disabled:n.isAuto,class:"radio-input"},null,8,Fa),[[i["vModelRadio"],n.slippageValue]]),Object(i["createElementVNode"])("label",{for:"radio-"+e,class:"radio-item"},Object(i["toDisplayString"])(e)+"%",9,Ra)]),_:2},1024))),128)),Object(i["createVNode"])(d,{span:6},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Ma,[Object(i["createVNode"])(u,{class:"select bg-212847 width100",name:"slippage",type:"number",min:0,max:49.99,step:.01,disabled:n.isAuto,modelValue:n.slippageValue,"onUpdate:modelValue":t[3]||(t[3]=e=>n.slippageValue=e),onBlur:a.handleBlur,"controls-position":"right",clearable:"",rules:[{required:!0,message:this.$t("enterSlippage")},{validator:a.validator,message:this.$t("slippageMaxTip")}]},null,8,["disabled","modelValue","onBlur","rules"]),t[6]||(t[6]=Object(i["createElementVNode"])("span",{class:"color-fff"},"%",-1))])]),_:1})]),_:1}),void 0!==n.slippageValue&&Number(n.slippageValue)<=.1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ua,Object(i["toDisplayString"])(e.$t("slippageTip1")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",za,[Object(i["createVNode"])(b,{class:"swap-button width100",block:"",round:"","native-type":"submit",type:"primary",disabled:0==o.slippage},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm1")),1)]),_:1},8,["disabled"])])]),_:1},8,["onSubmit"])]),_:1},8,["modelValue"])])}var qa={props:{slippage:{type:[String,Number],default:"2"},autoSlippage:String,canSetAuto:{type:Boolean,default:!0}},emits:["update:slippage"],data(){return{slippageList:[.1,.5,1],slippageValue:"auto"===this.slippage?void 0:Number(this.slippage),show:!1,isAuto:"auto"===this.slippage}},watch:{show(e){e&&(this.slippageValue="auto"===this.slippage?void 0:Number(this.slippage))},isAuto(e){e&&(this.slippageValue=void 0)}},methods:{confirmSubmit(){void 0===this.slippageValue?(this.$emit("update:slippage","auto"),localStorage.swapSlippage="auto"):(this.$emit("update:slippage",String(this.slippageValue)),this.canSetAuto?localStorage.swapSlippage=this.slippageValue:localStorage.limitSlippage=this.slippageValue),this.show=!1},openSlippageTips(){this.$messageBox.alert(this.$t("slippageTips"),{title:this.$t("slippage"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left",customClass:this.$store.state.mode}).then(()=>{})},handleBlur(){this.slippageValue&&Number(this.slippageValue)<0&&(this.slippageValue=0)},validator(e){return Number(e)<=49.99}}};o("5538");const Qa=wt()(qa,[["render",Ha],["__scopeId","data-v-49547dc2"]]);var Ga=Qa;const Wa={class:"font-18 color-fff font-weight-400"},Ya={class:"token-item header"},Ja={class:"flex-3"},Ka={class:"flex-1-5"},Za={class:"flex-1 right-label"},Xa=["onClick"],es={class:"token-item"},ts={class:"path-list flex-start flex-3"},os={key:0},is={key:1,class:"path-amm"},ls={key:0,class:"tag"},ns=["innerHTML"];function as(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("el-empty"),c=Object(i["resolveComponent"])("el-image"),r=Object(i["resolveComponent"])("Select"),d=Object(i["resolveComponent"])("el-icon"),u=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createBlock"])(u,{class:"dialog-zixuan dialog",modelValue:a.show,"onUpdate:modelValue":t[0]||(t[0]=e=>a.show=e),width:"600px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Wa,Object(i["toDisplayString"])(e.$t("selectRouter")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("ul",null,[Object(i["createElementVNode"])("li",Ya,[Object(i["createElementVNode"])("span",Ja,Object(i["toDisplayString"])(e.$t("router")),1),Object(i["createElementVNode"])("span",Ka,Object(i["toDisplayString"])(o.isAmount?e.$t("expectedAmount"):e.$t("expectedPay")),1),Object(i["createElementVNode"])("span",Za,Object(i["toDisplayString"])(e.$t("priceImpact")),1),t[1]||(t[1]=Object(i["createElementVNode"])("span",{style:{width:"16px"}},null,-1))]),Object(i["withDirectives"])(Object(i["createVNode"])(s,{image:n.imageEmptyBlack},null,8,["image"]),[[i["vShow"],o.listRouter&&0===o.listRouter.length]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.listRouter,(l,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{href:"",onClick:Object(i["withModifiers"])(e=>a.getSelectedRouter(n),["stop","prevent"]),key:n},[Object(i["createElementVNode"])("li",es,[Object(i["createElementVNode"])("div",ts,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((null===l||void 0===l?void 0:l.path)||[],(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:l},[o.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",os,Object(i["toDisplayString"])(o.symbol),1)):Object(i["createCommentVNode"])("",!0),o.nextAmm&&"unknown"!==o.nextAmm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",is,[Object(i["createVNode"])(c,{src:e.$f.formatIconSwap(o.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:Object(i["withCtx"])(()=>t[2]||(t[2]=[Object(i["createElementVNode"])("img",{style:{width:"14px","border-radius":"10px"},src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[3]||(t[3]=[Object(i["createElementVNode"])("img",{style:{width:"14px","border-radius":"10px"},src:"/icon-default.png"},null,-1)])),_:2},1032,["src"]),t[4]||(t[4]=Object(i["createElementVNode"])("img",{style:{width:"15px",margin:"0 5px 0"},src:El.a,alt:"",srcset:""},null,-1))])):Object(i["createCommentVNode"])("",!0)],64))),128)),0===n?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ls,Object(i["toDisplayString"])(e.$t("best")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",{class:"flex-1-5",innerHTML:e.$f.formatNumber3(l.amount)},null,8,ns),l.priceImpact<10?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"right-label flex-1",style:Object(i["normalizeStyle"])({color:a.formatPriceImpactColor(l.priceImpact)})},[Number(l.priceImpact)<.01?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])("<0.01%")],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumberS(l.priceImpact))+"%",1)],64))],4)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"right-label flex-1",style:Object(i["normalizeStyle"])({color:a.formatPriceImpactColor(l.priceImpact)})},[Number(l.priceImpact)>40?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(">40%")],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumberS(l.priceImpact))+"%",1)],64))],4)),o.selectedRouterIndex===n?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:2,size:16,color:"#12B886"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r)]),_:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:3,style:{opacity:"0"},size:16,color:"#12B886"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r)]),_:1}))])],8,Xa))),128))])]),_:1},8,["modelValue"])}var ss={props:{visible:Boolean,listRouter:Array,isAmount:Boolean,selectedRouterIndex:Number},emits:["getSelectedRouter","update:visible"],data(){return{imageEmptyBlack:Io.a}},computed:{show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}}},methods:{getSelectedRouter(e){this.$emit("getSelectedRouter",e)},formatPriceImpactColor(e){return e>40?"#ff646d":e>10?"#F7933F":e>5?"#f8be46":""}}};o("30be");const cs=wt()(ss,[["render",as],["__scopeId","data-v-a9bfc608"]]);var rs=cs;const ds={key:0,class:"font-18 color-fff font-weight-400"},us={key:1,class:"font-18 color-fff font-weight-400"},ms={key:2,class:"font-18 color-fff font-weight-400"},bs={class:"swap-info"},hs={class:"swap-info_item header"},ps={class:"header-li"},vs={class:"header-li_left"},Os={class:"color-80838B mr-15"},fs=["src"],js={style:{"font-size":"14px"}},ks=["innerHTML"],gs={class:"header-li mt-34"},ys={class:"header-li_left"},ws={class:"color-80838B mr-15"},_s=["src"],$s={style:{"font-size":"14px"}},Ns=["innerHTML"],Ts={class:"swap-info_item"},Vs={class:"swap-info_item-label"},xs={class:"swap-info_item-value"},Ss=["innerHTML"],Es=["innerHTML"],Bs={key:0,class:"swap-info_item"},Cs={class:"swap-info_item-label"},Ds={class:"swap-info_item-value"},Is={key:1,class:"swap-info_item"},As={class:"swap-info_item-label"},Ls={class:"swap-info_item-value"},Ps={key:0,class:"swap-info_item"},Fs={class:"swap-info_item-label"},Rs={class:"swap-info_item-value"},Ms={key:1,class:"swap-info_item"},Us={class:"swap-info_item-label"},zs={class:"swap-info_item-value"},Hs={class:"swap-info_item"},qs={class:"swap-info_item-label"},Qs={key:0,class:"swap-info_item-value path-list"},Gs={key:0},Ws={class:"path-amm"},Ys={key:1,style:{width:"15px",margin:"0 5px 0"},src:El.a,alt:"",srcset:""},Js={key:1},Ks={key:0,style:{width:"15px",margin:"0 5px 0"},src:El.a,alt:"",srcset:""},Zs={key:1},Xs={key:3,class:"swap-info_item"},ec={class:"swap-info_item-label"},tc={class:"swap-info_item-value"},oc=["href"],ic={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},lc={class:"footer"},nc={key:1,class:"swap-info center"},ac={class:"mt-20"},sc={class:"swap-info center"},cc={class:"mt-20"},rc={class:"footer"};function dc(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("el-image"),c=Object(i["resolveComponent"])("el-button"),r=Object(i["resolveComponent"])("Refresh"),d=Object(i["resolveComponent"])("el-icon"),u=Object(i["resolveComponent"])("el-dialog"),m=Object(i["resolveDirective"])("copy");return Object(i["openBlock"])(),Object(i["createBlock"])(u,{modelValue:a.show,"onUpdate:modelValue":t[0]||(t[0]=e=>a.show=e),width:"446px"},{header:Object(i["withCtx"])(()=>[1===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ds,Object(i["toDisplayString"])(e.$t("swap")),1)):2===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",us,Object(i["toDisplayString"])(e.$t("waitForConfirming")),1)):3===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ms,Object(i["toDisplayString"])(e.$t("tradeSubmitted")),1)):Object(i["createCommentVNode"])("",!0)]),default:Object(i["withCtx"])(()=>{var l,u,b,h,p,v,O,f,j,k,g,y,w;return[1==o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("ul",bs,[Object(i["createElementVNode"])("li",hs,[Object(i["createElementVNode"])("div",ps,[Object(i["createElementVNode"])("div",vs,[Object(i["createElementVNode"])("span",Os,Object(i["toDisplayString"])(e.$t("sell")),1),Object(i["createElementVNode"])("img",{class:"icon-token",src:e.$f.formatIcon(o.swapInfo.fromToken,null===(l=o.swapInfo.fromToken)||void 0===l?void 0:l.symbol),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,fs),Object(i["createElementVNode"])("span",js,Object(i["toDisplayString"])(o.swapInfo.fromToken.symbol),1)]),Object(i["createElementVNode"])("div",{class:"header-li_right",innerHTML:e.$f.formatNumber3((null===(u=o.swapInfo)||void 0===u?void 0:u.fromAmount)||a.formatUnits(o.swapInfo.fromTokenAmount||0,o.swapInfo.fromToken.decimals))||"0"},null,8,ks)]),Object(i["createElementVNode"])("div",gs,[Object(i["createElementVNode"])("div",ys,[Object(i["createElementVNode"])("span",ws,Object(i["toDisplayString"])(e.$t("buy")),1),Object(i["createElementVNode"])("img",{class:"icon-token",src:e.$f.formatIcon(o.swapInfo.toToken,o.swapInfo.toToken.symbol),alt:"",onerror:"this.src='/icon-default.png'",height:"20"},null,8,_s),Object(i["createElementVNode"])("span",$s,Object(i["toDisplayString"])(o.swapInfo.toToken.symbol),1)]),Object(i["createElementVNode"])("div",{class:"header-li_right",innerHTML:e.$f.formatNumber3((null===(b=o.swapInfo)||void 0===b?void 0:b.toAmount)||a.formatUnits(o.swapInfo.toTokenAmount||0,o.swapInfo.toToken.decimals))||"0"},null,8,Ns)])]),Object(i["createElementVNode"])("li",Ts,[Object(i["createElementVNode"])("div",Vs,Object(i["toDisplayString"])(e.$t("price")),1),Object(i["createElementVNode"])("div",xs,[Object(i["createElementVNode"])("div",{class:"p-item",innerHTML:`1 ${o.swapInfo.fromToken.symbol} = ${a.getPrice((null===(h=o.swapInfo)||void 0===h?void 0:h.fromAmount)||a.formatUnits(o.swapInfo.fromTokenAmount||0,o.swapInfo.fromToken.decimals),(null===(p=o.swapInfo)||void 0===p?void 0:p.toAmount)||a.formatUnits(o.swapInfo.toTokenAmount||0,o.swapInfo.toToken.decimals))} ${o.swapInfo.toToken.symbol}`},null,8,Ss),Object(i["createElementVNode"])("div",{class:"p-item",innerHTML:`1 ${o.swapInfo.toToken.symbol} = ${a.getPrice((null===(v=o.swapInfo)||void 0===v?void 0:v.toAmount)||a.formatUnits(o.swapInfo.toTokenAmount||0,o.swapInfo.toToken.decimals),(null===(O=o.swapInfo)||void 0===O?void 0:O.fromAmount)||a.formatUnits(o.swapInfo.fromTokenAmount||0,o.swapInfo.fromToken.decimals))} ${o.swapInfo.fromToken.symbol}`},null,8,Es)])]),o.swapInfo.fromToken.isWrapper&&o.swapInfo.toToken.isETH||o.swapInfo.toToken.isWrapper&&o.swapInfo.fromToken.isETH?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Bs,[Object(i["createElementVNode"])("div",Cs,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",Ds,Object(i["toDisplayString"])(o.slippage)+"%",1)])),o.swapInfo.gasValue&&"tron"!==o.chain&&"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Is,[Object(i["createElementVNode"])("div",As,Object(i["toDisplayString"])(e.$t("estimatedGas")),1),Object(i["createElementVNode"])("div",Ls,"≈ $"+Object(i["toDisplayString"])(a.getEstimatedFee(o.swapInfo.gasValue)),1)])):Object(i["createCommentVNode"])("",!0),o.swapInfo.fromToken.isWrapper&&o.swapInfo.toToken.isETH||o.swapInfo.toToken.isWrapper&&o.swapInfo.fromToken.isETH?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[o.swapInfo.isAmountOut?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ms,[Object(i["createElementVNode"])("div",Us,Object(i["toDisplayString"])(e.$t("maximumReceived")),1),Object(i["createElementVNode"])("div",zs,Object(i["toDisplayString"])(a.maxSold)+" "+Object(i["toDisplayString"])(null===(j=o.swapInfo)||void 0===j||null===(j=j.fromToken)||void 0===j?void 0:j.symbol),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Ps,[Object(i["createElementVNode"])("div",Fs,Object(i["toDisplayString"])(e.$t("minimumReceived")),1),Object(i["createElementVNode"])("div",Rs,Object(i["toDisplayString"])(a.minReceived)+" "+Object(i["toDisplayString"])(null===(f=o.swapInfo)||void 0===f||null===(f=f.toToken)||void 0===f?void 0:f.symbol),1)]))],64)),Object(i["createElementVNode"])("li",Hs,[Object(i["createElementVNode"])("div",qs,Object(i["toDisplayString"])(e.$t("tokenRoute")),1),o.swapInfo.fromToken.isWrapper&&o.swapInfo.toToken.isETH||o.swapInfo.toToken.isWrapper&&o.swapInfo.fromToken.isETH?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Js,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.swapRouterPath,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[0!==t?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Ks)):Object(i["createCommentVNode"])("",!0),e.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Zs,Object(i["toDisplayString"])(e.symbol),1)):Object(i["createCommentVNode"])("",!0)],64))),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Qs,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.swapRouterPath,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:l},[o.symbol?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Gs,Object(i["toDisplayString"])(o.symbol),1)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Ws,[o.nextAmm&&"unknown"!==o.nextAmm?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,src:e.$f.formatIconSwap(o.nextAmm),style:{width:"14px",height:"14px","border-radius":"10px","margin-bottom":"3px"}},{error:Object(i["withCtx"])(()=>t[1]||(t[1]=[Object(i["createElementVNode"])("img",{style:{width:"14px","border-radius":"10px"},src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[2]||(t[2]=[Object(i["createElementVNode"])("img",{style:{width:"14px","border-radius":"10px"},src:"/icon-default.png"},null,-1)])),_:2},1032,["src"])):Object(i["createCommentVNode"])("",!0),l!==a.swapRouterPath.length-1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Ys)):Object(i["createCommentVNode"])("",!0)])],64))),128))]))]),null!==(k=o.swapInfo)&&void 0!==k&&k.transaction?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Xs,[Object(i["createElementVNode"])("div",ec,Object(i["toDisplayString"])(e.$t("txHash")),1),Object(i["createElementVNode"])("div",tc,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(o.chain,o.swapInfo.transaction,"tx"),target:"_blank"},Object(i["toDisplayString"])((null===(g=o.swapInfo)||void 0===g||null===(g=g.transaction)||void 0===g?void 0:g.slice(0,6))+"..."+(null===(y=o.swapInfo)||void 0===y||null===(y=y.transaction)||void 0===y?void 0:y.slice(-6))),9,oc),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",ic,null,512),[[m,null===(w=o.swapInfo)||void 0===w?void 0:w.transaction]])])])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",lc,[Object(i["createVNode"])(c,{class:"swap-button width100",type:"primary",size:"large",loading:a.isLoading,"loading-text":e.$t("confirming"),block:"",onClick:Object(i["withModifiers"])(a.submitSwap,["stop"]),disabled:n.priceUpdated},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]),_:1},8,["loading","loading-text","onClick","disabled"])])],64)):2===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",nc,[Object(i["createVNode"])(d,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(r)]),_:1}),Object(i["createElementVNode"])("span",ac,Object(i["toDisplayString"])(e.$t("plsConfirmWallet")),1)])):3===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("div",sc,[t[3]||(t[3]=Object(i["createElementVNode"])("i",{class:"iconfont icon-arrow-up-circle font-110"},null,-1)),Object(i["createElementVNode"])("span",cc,Object(i["toDisplayString"])(e.$t("plsViewBlockChainExplorer")),1)]),Object(i["createElementVNode"])("div",rc,[Object(i["createVNode"])(c,{class:"swap-button width100",type:"primary",size:"large",block:"",onClick:Object(i["withModifiers"])(a.goLink,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("viewTransition")),1)]),_:1},8,["onClick"])])],64)):Object(i["createCommentVNode"])("",!0)]}),_:1},8,["modelValue"])}var uc={props:{visible:Boolean,swapInfo:Object,slippage:String,loading:Boolean,chain:String,nativePrice:Number,gasPrice:String,activeShow:Number,swapQuoteInfo:Object},emits:["update:visible","submit"],data(){return{priceUpdated:!1}},computed:{show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},isLoading(){return this.loading},minReceived(){var e,t,o;let i=(null===(e=this.swapInfo)||void 0===e||null===(e=e.toToken)||void 0===e?void 0:e.decimals)||0,l=null===(t=this.swapInfo)||void 0===t?void 0:t.toAmount;return l?this.$f.formatNumber(new Pe.a(l||0).times(100-Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(Ae["h"].formatUnits(new Pe.a((null===(o=this.swapInfo)||void 0===o?void 0:o.toTokenAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),i))},maxSold(){var e,t,o;let i=(null===(e=this.swapInfo)||void 0===e||null===(e=e.fromToken)||void 0===e?void 0:e.decimals)||0,l=null===(t=this.swapInfo)||void 0===t?void 0:t.fromAmount;return l?this.$f.formatNumber(new Pe.a(l||0).times(100+Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(Ae["h"].formatUnits(new Pe.a((null===(o=this.swapInfo)||void 0===o?void 0:o.fromTokenAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),i))},swapRouterPath(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.swapRouterPath)||[]}},watch:{visible(e){e&&(this.priceUpdated=!1)}},methods:{formatUnits:Ae["h"].formatUnits,formatPrice(e){return this.$f.formatNumber(e&&""!==e?Ae["h"].formatEther(this.nativePrice):0)},getPrice(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber3(new Pe.a(t).div(e).toFixed())||"0"},getEstimatedFee(e){return e&&Number(new Pe.a(e.toString()).times(this.nativePrice).times(this.gasPrice).div(String(10**18)).toFixed(2))||"0"},submitSwap(){this.$emit("submit")},formatLogo(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?this.$f.formatIcon(e,null===e||void 0===e?void 0:e.symbol):e.logoURI},goLink(){this.show=!1;let e=this.$f.formatExplorerUrl(this.chain,this.swapInfo.transaction,"tx");window.open(e)},accept(){this.priceUpdated=!1}}};o("ff54");const mc=wt()(uc,[["render",dc],["__scopeId","data-v-17c1e42a"]]);var bc=mc;const hc={key:0,class:"font-18 color-fff font-weight-400"},pc={key:1,class:"font-18 color-fff font-weight-400"},vc={key:1,class:"font-18 color-fff font-weight-400"},Oc={key:2,class:"font-18 color-fff font-weight-400"},fc={class:"swap-info"},jc={key:0,class:"swap-info_item"},kc={class:"swap-info_item-label"},gc=["innerHTML"],yc={class:"swap-info_item"},wc={class:"swap-info_item-label"},_c={class:"swap-info_item-value"},$c=["src"],Nc=["innerHTML"],Tc={class:"ml-5"},Vc={class:"swap-info_item"},xc={class:"swap-info_item-label"},Sc={class:"swap-info_item-value"},Ec=["innerHTML"],Bc={style:{color:"var(--custom-primary-color)"}},Cc={class:"swap-info_item"},Dc={class:"swap-info_item-label"},Ic={class:"swap-info_item-value"},Ac=["src"],Lc=["innerHTML"],Pc={class:"ml-5"},Fc={class:"swap-info_item"},Rc={class:"swap-info_item-label"},Mc={class:"swap-info_item-value"},Uc=["src"],zc=["innerHTML"],Hc={class:"ml-5"},qc={class:"swap-info_item"},Qc={class:"swap-info_item-label"},Gc={class:"swap-info_item-value"},Wc=["innerHTML"],Yc={style:{color:"var(--custom-primary-color)"}},Jc={class:"swap-info_item"},Kc={class:"swap-info_item-label"},Zc={class:"swap-info_item-value"},Xc=["src"],er=["innerHTML"],tr={class:"ml-5"},or={key:3,class:"swap-info_item"},ir={class:"swap-info_item-label"},lr=["innerHTML"],nr={class:"swap-info_item tips warning"},ar={class:"swap-info_item tips warning"},sr={key:0,class:"swap-info_item tips warning"},cr={key:1,class:"swap-info_item tips warning"},rr={key:1,class:"swap-info center"},dr={class:"mt-20"},ur={class:"swap-info center"},mr={class:"mt-20"},br={class:"footer"};function hr(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("el-button"),c=Object(i["resolveComponent"])("Refresh"),r=Object(i["resolveComponent"])("el-icon"),d=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createBlock"])(d,{modelValue:a.show,"onUpdate:modelValue":t[0]||(t[0]=e=>a.show=e),width:"446px"},{header:Object(i["withCtx"])(()=>[1===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[0===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",hc,Object(i["toDisplayString"])(0===o.limitInfo.activeTab?e.$t("limitBuy"):e.$t("limitSell")),1)):Object(i["createCommentVNode"])("",!0),1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",pc,Object(i["toDisplayString"])(0===o.limitInfo.activeTab?e.$t("stopLimitBuy"):e.$t("stopLimitSell")),1)):Object(i["createCommentVNode"])("",!0)],64)):2===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",vc,Object(i["toDisplayString"])(e.$t("waitForConfirming")),1)):3===o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oc,Object(i["toDisplayString"])(e.$t("tradeConfirmed")),1)):Object(i["createCommentVNode"])("",!0)]),default:Object(i["withCtx"])(()=>{var l,d,u,m,b,h,p,v,O,f,j,k,g;return[1==o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("ul",fc,[1===o.limitInfo.orderType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",jc,[Object(i["createElementVNode"])("div",kc,Object(i["toDisplayString"])(e.$t("limitEffective")),1),Object(i["createElementVNode"])("div",{class:"swap-info_item-value",innerHTML:e.$t("triggerPriceEffective",{symbol:1===o.limitInfo.activeTab?(null===(l=o.limitInfo)||void 0===l||null===(l=l.fromToken)||void 0===l?void 0:l.symbol)||"":(null===(d=o.limitInfo)||void 0===d||null===(d=d.toToken)||void 0===d?void 0:d.symbol)||"",price:e.$f.formatNumber3((null===(u=o.limitInfo)||void 0===u?void 0:u.triggerPrice)||0)})},null,8,gc)])):Object(i["createCommentVNode"])("",!0),0===o.limitInfo.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("li",yc,[Object(i["createElementVNode"])("div",wc,Object(i["toDisplayString"])(e.$t("limitBuy")),1),Object(i["createElementVNode"])("div",_c,[Object(i["createElementVNode"])("img",{class:"icon-token",src:a.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,$c),Object(i["createElementVNode"])("span",{innerHTML:e.$f.formatNumber3(o.limitInfo.toAmount||0)},null,8,Nc),Object(i["createElementVNode"])("span",Tc,Object(i["toDisplayString"])((null===(m=o.limitInfo)||void 0===m||null===(m=m.toToken)||void 0===m?void 0:m.symbol)||""),1)])]),Object(i["createElementVNode"])("li",Vc,[Object(i["createElementVNode"])("div",xc,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(b=o.limitInfo)||void 0===b||null===(b=b.fromToken)||void 0===b?void 0:b.symbol)||"":(null===(h=o.limitInfo)||void 0===h||null===(h=h.toToken)||void 0===h?void 0:h.symbol)||"")+")",1),Object(i["createElementVNode"])("div",Sc,[Object(i["createElementVNode"])("span",{innerHTML:"$"+e.$f.formatNumber3(o.limitInfo.targetLimitPrice||0)},null,8,Ec),Object(i["createElementVNode"])("span",Bc,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceBuy"))+")",1)])]),Object(i["createElementVNode"])("li",Cc,[Object(i["createElementVNode"])("div",Dc,Object(i["toDisplayString"])(e.$t("expectedPayment")),1),Object(i["createElementVNode"])("div",Ic,[Object(i["createElementVNode"])("img",{class:"icon-token",src:a.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,Ac),Object(i["createElementVNode"])("span",{innerHTML:e.$f.formatNumber3(o.limitInfo.fromAmount||0)},null,8,Lc),Object(i["createElementVNode"])("span",Pc,Object(i["toDisplayString"])((null===(p=o.limitInfo)||void 0===p||null===(p=p.fromToken)||void 0===p?void 0:p.symbol)||""),1)])])],64)):Object(i["createCommentVNode"])("",!0),1===o.limitInfo.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("li",Fc,[Object(i["createElementVNode"])("div",Rc,Object(i["toDisplayString"])(e.$t("limitSell")),1),Object(i["createElementVNode"])("div",Mc,[Object(i["createElementVNode"])("img",{class:"icon-token",src:a.formatLogo(o.limitInfo.fromToken),alt:"",height:"20"},null,8,Uc),Object(i["createElementVNode"])("span",{innerHTML:e.$f.formatNumber3(o.limitInfo.fromAmount||0)},null,8,zc),Object(i["createElementVNode"])("span",Hc,Object(i["toDisplayString"])((null===(v=o.limitInfo)||void 0===v||null===(v=v.fromToken)||void 0===v?void 0:v.symbol)||""),1)])]),Object(i["createElementVNode"])("li",qc,[Object(i["createElementVNode"])("div",Qc,Object(i["toDisplayString"])(e.$t("limitPrice"))+"("+Object(i["toDisplayString"])(1===o.limitInfo.activeTab?(null===(O=o.limitInfo)||void 0===O||null===(O=O.fromToken)||void 0===O?void 0:O.symbol)||"":(null===(f=o.limitInfo)||void 0===f||null===(f=f.toToken)||void 0===f?void 0:f.symbol)||"")+")",1),Object(i["createElementVNode"])("div",Gc,[Object(i["createElementVNode"])("span",{innerHTML:"$"+e.$f.formatNumber3(o.limitInfo.targetLimitPrice||0)},null,8,Wc),Object(i["createElementVNode"])("span",Yc,"("+Object(i["toDisplayString"])(e.$t("auto-submitWhenPriceSell"))+")",1)])]),Object(i["createElementVNode"])("li",Jc,[Object(i["createElementVNode"])("div",Kc,Object(i["toDisplayString"])(e.$t("expectedReceivable")),1),Object(i["createElementVNode"])("div",Zc,[Object(i["createElementVNode"])("img",{class:"icon-token",src:a.formatLogo(o.limitInfo.toToken),alt:"",height:"20"},null,8,Xc),Object(i["createElementVNode"])("span",{innerHTML:e.$f.formatNumber3(o.limitInfo.toAmount||0)},null,8,er),Object(i["createElementVNode"])("span",tr,Object(i["toDisplayString"])((null===(j=o.limitInfo)||void 0===j||null===(j=j.toToken)||void 0===j?void 0:j.symbol)||""),1)])])],64)):Object(i["createCommentVNode"])("",!0),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",or,[Object(i["createElementVNode"])("div",ir,Object(i["toDisplayString"])(e.$t("estimateGas")),1),Object(i["createElementVNode"])("div",{class:"swap-info_item-value",style:{"text-align":"right"},innerHTML:e.$t("estimateGasTips",{n:e.$f.formatNumber3(null!==(k=o.limitGasU)&&void 0!==k?k:1,1)})},null,8,lr)])):Object(i["createCommentVNode"])("",!0),"solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createElementVNode"])("li",nr,"* "+Object(i["toDisplayString"])(e.$t("limitFeeTip")),1),Object(i["createElementVNode"])("li",ar,"* "+Object(i["toDisplayString"])(e.$t("limitTokenTips")),1),(null===(g=o.limitInfo)||void 0===g||null===(g=g.fromToken)||void 0===g?void 0:g.address)===n.NATIVE_TOKEN?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",sr,Object(i["toDisplayString"])(e.$t("limitTips1")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",cr,Object(i["toDisplayString"])(e.$t("limitTips2")),1))],64)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{class:"footer",style:Object(i["normalizeStyle"])({"padding-bottom":"solana"!==o.chain?"10px":"0"})},[Object(i["createVNode"])(s,{class:"swap-button width100",type:"primary",size:"large",loading:a.isLoading,"loading-text":e.$t("confirming"),block:"",onClick:Object(i["withModifiers"])(a.submitSwap,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]),_:1},8,["loading","loading-text","onClick"])],4)],64)):2==o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rr,[Object(i["createVNode"])(r,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c)]),_:1}),Object(i["createElementVNode"])("span",dr,Object(i["toDisplayString"])(e.$t("plsConfirmWallet")),1)])):3==o.activeShow?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("div",ur,[t[1]||(t[1]=Object(i["createElementVNode"])("i",{class:"iconfont icon-arrow-up-circle font-110"},null,-1)),Object(i["createElementVNode"])("span",mr,Object(i["toDisplayString"])(e.$t("plsViewBlockChainExplorer")),1)]),Object(i["createElementVNode"])("div",br,[Object(i["createVNode"])(s,{class:"swap-button width100",type:"primary",size:"large",block:"",onClick:Object(i["withModifiers"])(a.goLink,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("viewTransition")),1)]),_:1},8,["onClick"])])],64)):Object(i["createCommentVNode"])("",!0)]}),_:1},8,["modelValue"])}var pr={props:{visible:Boolean,limitInfo:Object,loading:Boolean,chain:String,limitGasU:String,activeShow:Number},emits:["update:visible","submit"],data(){return{NATIVE_TOKEN:Ki["i"],limitContractsFee:Ki["t"]}},computed:{show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},isLoading(){return this.loading},minReceived(){var e,t;return this.$f.formatNumber(Ae["h"].formatUnits(new Pe.a((null===(e=this.limitInfo)||void 0===e?void 0:e.toAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),null===(t=this.limitInfo)||void 0===t||null===(t=t.toToken)||void 0===t?void 0:t.decimals)||0)},maxSold(){var e,t;return this.$f.formatNumber(Ae["h"].formatUnits(new Pe.a((null===(e=this.limitInfo)||void 0===e?void 0:e.fromAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),null===(t=this.limitInfo)||void 0===t||null===(t=t.fromToken)||void 0===t?void 0:t.decimals)||0)},swapRouterPath(){var e;return(null===(e=this.limitInfo)||void 0===e?void 0:e.swapRouterPath)||[]}},methods:{formatUnits:Ae["h"].formatUnits,formatPrice(e){return this.$f.formatNumber(e&&""!==e?Ae["h"].formatEther(this.nativePrice):0)},getPrice(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new Pe.a(t).div(e).toFixed())||"0"},getEstimatedFee(e){return e&&Number(new Pe.a(e.toString()).times(this.nativePrice).times(this.gasPrice).div(String(10**18)).toFixed(2))||"0"},submitSwap(){this.$emit("submit")},formatLogo(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?this.$f.formatIcon(e,null===e||void 0===e?void 0:e.symbol):e.logoURI},goLink(){window.open(this.$f.formatExplorerUrl(this.chain,this.limitInfo.transaction,"tx"))}}};o("e3d9");const vr=wt()(pr,[["render",hr],["__scopeId","data-v-bc931e4a"]]);var Or=vr;const fr=["onClick"],jr={class:"flex items-center"},kr={key:0,class:"token-container"},gr={class:"icon-token-container mr-5"},yr=["src"],wr=["src"],_r=["src"],$r=["innerHTML"],Nr={class:"mr-5 text-12 label"},Tr={key:1,class:"token-container"},Vr=["innerHTML"],xr={class:"flex items-center mt-5"},Sr={key:0,class:"token-container"},Er={class:"icon-token-container mr-5"},Br=["src"],Cr=["src"],Dr=["src"],Ir=["innerHTML"],Ar={class:"flex items-center justify-between mt-5"},Lr={class:"label mr-20 flex items-center"},Pr={key:0},Fr={class:"flex items-center"},Rr={key:0,class:"token-container"},Mr={class:"icon-token-container mr-5"},Ur=["src"],zr=["src"],Hr=["src"],qr=["innerHTML"],Qr={class:"flex items-center mt-5"},Gr={key:0,class:"token-container"},Wr={class:"icon-token-container mr-5"},Yr=["src"],Jr=["src"],Kr=["src"],Zr=["innerHTML"],Xr={class:"flex justify-between mt-10"},ed={class:"label mr-20"},td={class:"token-container flex items-end flex-col",style:{"align-items":"end"}},od={class:"text-size-12",style:{"text-align":"right"}},id={class:"color-666 text-size-12",style:{"text-align":"right"}},ld={class:"flex items-center justify-between mt-10"},nd={class:"mr-20 label"},ad={key:0,class:"color-999 text-size-12",style:{"text-align":"right"}},sd={class:"label"},cd={key:1,class:"color-999 text-size-12"},rd={class:"label"},dd={key:0,class:"flex items-center justify-between mt-10"},ud={class:"mr-20 label"},md={class:"color-999 text-size-12"};function bd(e,t,o,l,n,a){var s;const c=Object(i["resolveComponent"])("el-image"),r=Object(i["resolveComponent"])("van-button"),d=Object(i["resolveComponent"])("van-loading"),u=Object(i["resolveComponent"])("el-empty");return Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.tableList,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:l,class:"tx-li-item clickable",onClick:Object(i["withModifiers"])(e=>a.goLink(o,l),["stop"])},["solana"!==o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",jr,[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({"min-width":"en"===e.$store.getters.language?"30px":"20px"})},Object(i["toDisplayString"])(e.$t("from")),5),o.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kr,[Object(i["createElementVNode"])("div",gr,[Object(i["createVNode"])(c,{class:"icon-token",src:e.$f.formatIcon({logo_url:o.from_token_logo_url}),lazy:""},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.from_token_symbol)},null,8,yr)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.from_token_symbol)},null,8,wr)]),_:2},1032,["src"]),null!==o&&void 0!==o&&o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-chain",src:`${e.$store.state.s3BaseUrl}chain/${null===o||void 0===o?void 0:o.chain}.png`,alt:"",srcset:""},null,8,_r)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",{class:"mr-5",innerHTML:e.$f.formatNumber3(a.formatUnits(o.from_amount,o.from_token_decimals))},null,8,$r),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),t[0]||(t[0]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("span",Nr,Object(i["toDisplayString"])(e.$t("price"))+"("+Object(i["toDisplayString"])(o.target_token===o.from_token?(null===o||void 0===o?void 0:o.from_token_symbol)||"":(null===o||void 0===o?void 0:o.to_token_symbol)||"")+") ",1),o.target_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Tr,[Object(i["createElementVNode"])("span",{innerHTML:"$"+(o.target_limit_price?e.$f.formatNumber3(o.target_limit_price):"--")},null,8,Vr)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",xr,[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({"min-width":"en"===e.$store.getters.language?"30px":"20px"})},Object(i["toDisplayString"])(e.$t("to")),5),o.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Sr,[Object(i["createElementVNode"])("div",Er,[Object(i["createVNode"])(c,{class:"icon-token",src:e.$f.formatIcon({logo_url:o.to_token_logo_url}),lazy:""},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.to_token_symbol)},null,8,Br)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.to_token_symbol)},null,8,Cr)]),_:2},1032,["src"]),null!==o&&void 0!==o&&o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-chain",src:`${e.$store.state.s3BaseUrl}chain/${null===o||void 0===o?void 0:o.chain}.png`,alt:"",srcset:""},null,8,Dr)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",{class:"mr-5",innerHTML:e.$f.formatNumber3(a.formatUnits(o.to_amount,o.to_token_decimals))},null,8,Ir),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===o||void 0===o?void 0:o.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Ar,[Object(i["createElementVNode"])("div",Lr,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatDate(o.created_at)),1),(0===o.status||-1===o.status)&&Date.now()<1e3*o.created_at+n.LimitExpiredTime?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Pr," ("+Object(i["toDisplayString"])(e.$t("expiresInTime",{t:e.$dayjs(1e3*o.created_at+n.LimitExpiredTime).fromNow()}))+") ",1)):Object(i["createCommentVNode"])("",!0)]),1===o.status||2===o.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:a.formatStatusColor(o)})},Object(i["toDisplayString"])(a.formatStatus(o)),5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[t[1]||(t[1]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),0!==o.status||(0===o.status||-1===o.status)&&1e3*o.created_at+n.LimitExpiredTime<Date.now()?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(i["normalizeStyle"])({color:a.formatStatusColor(o)})},Object(i["toDisplayString"])(a.formatStatus(o)),5)):Object(i["createCommentVNode"])("",!0),o.from_token===n.NATIVE_TOKEN||(0===o.status||-1===o.status)&&1e3*o.created_at+n.LimitExpiredTime>Date.now()?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:n.loading,"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:Object(i["withModifiers"])(e=>a.confirmCancel(o),["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("revoke")),1)]),_:2},1032,["loading","loading-text","onClick"])):Object(i["createCommentVNode"])("",!0)],64))])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Fr,[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({"min-width":"en"===e.$store.getters.language?"30px":"20px"})},Object(i["toDisplayString"])(e.$t("from")),5),o.from_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rr,[Object(i["createElementVNode"])("div",Mr,[Object(i["createVNode"])(c,{class:"icon-token",src:e.$f.formatIcon({logo_url:o.from_token_logo_url}),lazy:""},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.from_token_symbol)},null,8,Ur)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.from_token_symbol)},null,8,zr)]),_:2},1032,["src"]),null!==o&&void 0!==o&&o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-chain",src:`${e.$store.state.s3BaseUrl}chain/${null===o||void 0===o?void 0:o.chain}.png`,alt:"",srcset:""},null,8,Hr)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",{class:"mr-5",innerHTML:e.$f.formatNumber3(a.formatUnits(o.from_amount,o.from_token_decimals))},null,8,qr),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.from_token_symbol||""),1)])):Object(i["createCommentVNode"])("",!0),t[2]||(t[2]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),"Sending"===o.state?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1,size:"16px",color:"#286DFF","text-size":"0.24rem"})):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({color:a.formatSolanaStatusColor(o)})},Object(i["toDisplayString"])(a.formatSolanaStatus(o)),5),"solana"===o.chain&&"Pending"===o.state?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:n.loadingSolana[o.orderKey],"loading-text":e.$t("revoke"),"loading-size":"14px",onClick:Object(i["withModifiers"])(e=>a.confirmCancel(o),["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("revoke")),1)]),_:2},1032,["loading","loading-text","onClick"])):Object(i["createCommentVNode"])("",!0)],64))]),Object(i["createElementVNode"])("div",Qr,[Object(i["createElementVNode"])("span",{class:"label",style:Object(i["normalizeStyle"])({"min-width":"en"===e.$store.getters.language?"30px":"20px"})},Object(i["toDisplayString"])(e.$t("to")),5),o.to_token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gr,[Object(i["createElementVNode"])("div",Wr,[Object(i["createVNode"])(c,{class:"icon-token",src:e.$f.formatIcon({logo_url:o.to_token_logo_url}),lazy:""},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.to_token_symbol)},null,8,Yr)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(o,null===o||void 0===o?void 0:o.to_token_symbol)},null,8,Jr)]),_:2},1032,["src"]),null!==o&&void 0!==o&&o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-chain",src:`${e.$store.state.s3BaseUrl}chain/${null===o||void 0===o?void 0:o.chain}.png`,alt:"",srcset:""},null,8,Kr)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",{class:"mr-5",innerHTML:e.$f.formatNumber3(a.formatUnits(o.to_amount,o.to_token_decimals))},null,8,Zr),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===o||void 0===o?void 0:o.to_token_symbol)||""),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Xr,[Object(i["createElementVNode"])("span",ed,Object(i["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(i["toDisplayString"])(a.solanaPriceSymbol(o))+")",1),Object(i["createElementVNode"])("div",td,[Object(i["createElementVNode"])("span",od,"$"+Object(i["toDisplayString"])(a.solanaPriceU(o)),1),Object(i["createElementVNode"])("span",id,"("+Object(i["toDisplayString"])(a.solanaPrice(o))+")",1)])]),Object(i["createElementVNode"])("div",ld,[Object(i["createElementVNode"])("span",nd,Object(i["toDisplayString"])(e.$t("amount1")),1),a.solanaTarget(o)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ad,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(a.formatUnits(o.from_amount_used||0,o.from_token_decimals)))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(a.formatUnits(o.from_amount||0,o.from_token_decimals)))+" "+Object(i["toDisplayString"])(o.from_token_symbol),1),Object(i["createElementVNode"])("span",sd,"("+Object(i["toDisplayString"])(e.$f.formatNumber2(o.percent||0))+"%)",1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",cd,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2(a.formatUnits(o.to_amount_used||0,o.to_token_decimals)))+"/"+Object(i["toDisplayString"])(e.$f.formatNumber2(a.formatUnits(o.to_amount||0,o.to_token_decimals)))+" "+Object(i["toDisplayString"])(o.to_token_symbol),1),Object(i["createElementVNode"])("span",rd,"("+Object(i["toDisplayString"])(e.$f.formatNumber2(o.percent||0))+"%)",1)]))]),void 0!==o.expiredAt?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dd,[Object(i["createElementVNode"])("span",ud,Object(i["toDisplayString"])(e.$t("expiredTime")),1),Object(i["createElementVNode"])("span",md,Object(i["toDisplayString"])(o.expiredAt?e.$f.formatDate(o.expiredAt):e.$t("never")),1)])):Object(i["createCommentVNode"])("",!0)],64))],8,fr))),128)),o.tableList&&0!==(null===(s=o.tableList)||void 0===s?void 0:s.length)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,"image-size":100,image:"light"===e.$store.state.mode?n.imageEmptyWhite:n.imageEmptyBlack},null,8,["image"]))])}var hd=o("5913"),pd=o("2e1b"),vd={name:"LimitTxItem",props:{tableList:Array},components:{"van-loading":hd["a"],"van-button":pd["a"]},emits:["refresh"],data(){return{imageEmptyWhite:Co.a,imageEmptyBlack:Io.a,loading:!1,LimitExpiredTime:Ki["e"],NATIVE_TOKEN:Ki["i"],loadingSolana:{}}},methods:{formatUnits:Ae["h"].formatUnits,goLink(e){if("solana"===e.chain){if("Sending"===(null===e||void 0===e?void 0:e.state))return;let t=(null===e||void 0===e?void 0:e.closeTx)||(null===e||void 0===e?void 0:e.openTx);if(!t)return;this.$f.openBrowser(this.$f.formatExplorerUrl("solana",t,"tx"))}else 2===e.status&&this.$f.openBrowser(this.$f.formatExplorerUrl(e.chain,e.executed_tx_hash,"tx"))},confirmCancel(e){let t="solana"===(null===e||void 0===e?void 0:e.chain)?this.$t("cancelOrderConfirmingSolana"):this.$t("confirmCancelMessage");this.$messageBox.confirm(t,this.$t("cancelOrderConfirming"),{confirmButtonText:this.$t("confirm"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel"),customClass:this.$store.state.mode,beforeClose:(t,o,i)=>{"confirm"===t?(o.confirmButtonLoading=!0,"solana"===e.chain?this.cancelSolanaLimitOrder(e,()=>{i(),o.confirmButtonLoading=!1}):this.cancelLimitOrder(e)):i()}}).then(()=>{})},cancelLimitOrder(e){if("solana"===e.chain)return void this.cancelSolanaLimitOrder(e);let t={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};this.loading=!0,Object(De["Z"])(t).then(e=>{this.$message.success(this.$t("cancelledOrderSuccessfully")),this.$emit("refresh")}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loading=!1})},cancelSolanaLimitOrder(e,t=null){this.loadingSolana[e.orderKey]=!0;let o="v1"===(null===e||void 0===e?void 0:e.version)?De["bb"]:De["ab"];return o(e.orderKey).then(e=>(t&&t(),e.wait())).then(t=>{setTimeout(()=>{this.$emit("refresh",e,this.loadingSolana)},3e3)}).catch(t=>{this.$f.handleError(t,"solana"),this.loadingSolana[e.orderKey]=!1}).finally(()=>{})},formatStatus(e){var t;if((0===e.status||-1===e.status)&&1e3*e.created_at+Ki["e"]<Date.now())return this.$t("expired1");let o=e.status,i={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),4:this.$t("notEnoughBalance"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),10:this.$t("fail1"),11:this.$t("fail1"),12:this.$t("fail1"),13:this.$t("fail1"),"-1":""};return null!==(t=i[o])&&void 0!==t?t:o},formatStatusColor(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+Ki["e"]<Date.now())return"#999999";let t=e.status;return 1===t||10===t||11===t||12===t?"#999999":2===t?"#12B886":0===t?"#286DFF":"#FF0000"},solanaTarget(e){let t=["So11111111111111111111111111111111111111112","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"],o=t.indexOf(e.from_token),i=t.indexOf(e.to_token);return o<=i},solanaPriceSymbol(e){return this.solanaTarget(e)?(null===e||void 0===e?void 0:e.from_token_symbol)||"":(null===e||void 0===e?void 0:e.to_token_symbol)||""},solanaPriceU(e){return this.solanaTarget(e)?this.$f.formatNumber2(new Pe.a(e.to_amount).times(10**((null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))).times((null===e||void 0===e?void 0:e.to_token_price)||0).div(e.from_amount).toFixed()):this.$f.formatNumber2(new Pe.a(e.from_amount).times(10**((null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))).times((null===e||void 0===e?void 0:e.from_token_price)||0).div(e.to_amount).toFixed())},solanaPrice(e){return this.solanaTarget(e)?this.$f.formatNumber2(e.to_amount*10**((null===e||void 0===e?void 0:e.from_token_decimals)-(null===e||void 0===e?void 0:e.to_token_decimals))/e.from_amount)+" "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.from_token_symbol)||""):this.$f.formatNumber2(e.from_amount*10**((null===e||void 0===e?void 0:e.to_token_decimals)-(null===e||void 0===e?void 0:e.from_token_decimals))/e.to_amount)+" "+((null===e||void 0===e?void 0:e.from_token_symbol)||"")+" per "+((null===e||void 0===e?void 0:e.to_token_symbol)||"")},formatSolanaStatus(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return this.$t("expired1");let o=e.state,i={Pending:"",Completed:this.$t("completed"),Cancelled:this.$t("cancelled")};return null!==(t=i[o])&&void 0!==t?t:o},formatSolanaStatusColor(e){var t;if("Pending"===(null===e||void 0===e?void 0:e.state)&&null!==(null===e||void 0===e?void 0:e.expiredAt)&&Date.now()>1e3*Number((null===e||void 0===e?void 0:e.expiredAt)||0))return"#999999";let o=e.state,i={Pending:"",Completed:"#12B886",Cancelled:"#999999"};return null!==(t=i[o])&&void 0!==t?t:"#286DFF"},getSolanaLimitOrderTradeHistory(e,t){var o;return"Completed"!==e.state||null!==(o=e)&&void 0!==o&&null!==(o=o.orders)&&void 0!==o&&o.length?Promise.resolve(e):Object(De["kd"])({wallet:this.$store.state.currentAccount}).then(o=>{let i=null===o||void 0===o?void 0:o.filter(t=>t.order.id===e.id);var l,n;(null===i||void 0===i?void 0:i.length)>0&&(e={...e,orders:i},null===(l=this.tableList)||void 0===l||null===(n=l.splice)||void 0===n||n.call(l,t,1,e));return Promise.resolve(e)})}}};o("2c5e");const Od=wt()(vd,[["render",bd],["__scopeId","data-v-2d640e2b"]]);var fd=Od;const jd={class:"section-container color-999 text-size-12"},kd={class:"form-container"},gd={class:"card-container mt-10"},yd={class:"flex items-center"},wd=["innerHTML"],_d={class:"flex justify-between items-center mt-10"},$d={class:"icon-plus-container"},Nd={class:"card-container bottom"},Td={class:"flex items-center"},Vd=["innerHTML"],xd={class:"flex justify-between items-center mt-10"},Sd={class:"text-size-12 font-400 mb-20 mt-10 color-text-2-1"},Ed={class:"flex items-center justify-between text-size-12"},Bd={class:"flex items-center color-text-1"},Cd={class:"ml-5"},Dd={class:"flex items-center justify-between mt-5"},Id=["innerHTML"],Ad={class:"flex items-center justify-between mt-5"},Ld=["innerHTML"],Pd={class:"flex items-center justify-between mt-5"},Fd=["innerHTML"],Rd={class:"flex items-center justify-between mt-5"},Md=["innerHTML"],Ud={class:"flex items-center justify-between mt-5"},zd={class:"color-text-1"},Hd=["innerHTML"],qd={class:"flex items-center justify-between mt-5"},Qd={class:"color-text-1"},Gd=["innerHTML"],Wd={class:"flex items-center justify-between mt-5"},Yd=["innerHTML"],Jd={class:"flex items-center justify-between mt-5"},Kd=["innerHTML"],Zd={class:"flex items-center justify-between mt-5"},Xd=["innerHTML"],eu={class:"flex items-center justify-between mt-5"},tu={class:"flex items-center"},ou={class:"mr-5",style:{color:"var(--custom-text-1-color)"}},iu={class:"flex justify-center mt-15 text-size-12"},lu={class:"font-18 color-fff font-weight-400"},nu={class:"color-999 text-size-14"},au={class:"card flex items-center color-999 text-size-14 mt-10"},su=["src"],cu=["src"],ru=["src"],du=["src"],uu=["innerHTML"],mu={key:1},bu={class:"flex items-center justify-between color-999 text-size-14 mt-14"},hu={class:"flex items-center justify-between"},pu=["src"],vu=["src"],Ou={class:"ml-5 color-999 text-size-14"},fu=["innerHTML"],ju={class:"flex items-center justify-between color-999 text-size-14 mt-10"},ku={class:"flex items-center justify-between"},gu=["src"],yu=["src"],wu={class:"ml-5 color-999 text-size-14"},_u=["innerHTML"],$u={class:"flex items-center justify-between mt-5 text-size-12 mt-14"},Nu={class:"color-999"},Tu={class:"flex items-center"},Vu={class:"ml-5 color-999"},xu={class:"flex items-center justify-between mt-5 text-size-12"},Su={class:"color-999"},Eu=["innerHTML"],Bu={class:"flex items-center justify-between mt-5 text-size-12"},Cu=["innerHTML"],Du={class:"flex items-center justify-between mt-5 text-size-12"},Iu={class:"color-999"},Au=["innerHTML"],Lu={class:"flex items-center justify-between mt-5 text-size-12"},Pu=["innerHTML"],Fu={class:"flex items-center justify-between mt-5 text-size-12"},Ru={class:"color-999"},Mu=["innerHTML"],Uu={class:"flex items-center justify-between mt-5 text-size-12"},zu=["innerHTML"],Hu={class:"flex items-center justify-between mt-5 text-size-12 mb-30"},qu={class:"color-999"},Qu={class:"color-text-1 flex items-center"},Gu={class:"font-18 color-fff font-weight-400"},Wu={key:0,class:"swap-info center"},Yu={class:"mt-20"},Ju={class:"swap-info center"},Ku={class:"mt-20"},Zu={class:"footer"};function Xu(e,t,o,l,n,a){var s,c,r,d,u,m,b,h;const p=Object(i["resolveComponent"])("SelectSwap"),v=Object(i["resolveComponent"])("SelectToken"),O=Object(i["resolveComponent"])("van-field"),f=Object(i["resolveComponent"])("van-icon"),j=Object(i["resolveComponent"])("el-image"),k=Object(i["resolveComponent"])("Slippage"),g=Object(i["resolveComponent"])("van-button"),y=Object(i["resolveComponent"])("MyLiquidity"),w=Object(i["resolveComponent"])("van-form"),_=Object(i["resolveComponent"])("el-dialog"),$=Object(i["resolveComponent"])("Refresh"),N=Object(i["resolveComponent"])("el-icon"),T=Object(i["resolveComponent"])("el-button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("section",jd,[Object(i["createElementVNode"])("div",kd,[Object(i["createVNode"])(p,{swaps:n.swaps,swap:n.swap,"onUpdate:swap":[t[0]||(t[0]=e=>n.swap=e),a.handleSelectSwap],chain:a.chain},null,8,["swaps","swap","chain","onUpdate:swap"]),Object(i["createElementVNode"])("div",gd,[Object(i["createElementVNode"])("div",yd,[Object(i["createVNode"])(v,{tokens:a.userTokens,token:n.token0,"onUpdate:token":[t[1]||(t[1]=e=>n.token0=e),a.handleSelectToken0],chain:a.chain,disabledToken:n.token1.address||""},null,8,["tokens","token","chain","disabledToken","onUpdate:token"]),t[15]||(t[15]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",{class:"s-text",innerHTML:`${e.$t("balance")}: ${e.$f.formatNumber3(n.token0.balance||n.token0.value||0)}`},null,8,wd),Object(i["createElementVNode"])("button",{class:"max-btn",type:"button",onClick:t[2]||(t[2]=Object(i["withModifiers"])((...e)=>a.handleMax0&&a.handleMax0(...e),["stop"]))},Object(i["toDisplayString"])(e.$t("max")),1)]),Object(i["createElementVNode"])("div",_d,[Object(i["createVNode"])(O,{modelValue:n.amount0,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.amount0=e),a.watchAmount0],"input-align":"right",placeholder:"0.0",type:"number",clearable:"",class:"input-number",border:!1},null,8,["modelValue","onUpdate:modelValue"])])]),Object(i["createElementVNode"])("div",$d,[Object(i["createVNode"])(f,{class:"icon-plus-1 color-primary p-8 rd-50 bg-F6F6F6",name:"plus"})]),Object(i["createElementVNode"])("div",Nd,[Object(i["createElementVNode"])("div",Td,[Object(i["createVNode"])(v,{tokens:a.userTokens,token:n.token1,"onUpdate:token":[t[4]||(t[4]=e=>n.token1=e),a.handleSelectToken1],chain:a.chain,disabledToken:n.token0.address||""},null,8,["tokens","token","chain","disabledToken","onUpdate:token"]),t[16]||(t[16]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",{class:"s-text",innerHTML:`${e.$t("balance")}: ${e.$f.formatNumber3(n.token1.balance||n.token1.value||0)}`},null,8,Vd),Object(i["createElementVNode"])("button",{class:"max-btn",type:"button",onClick:t[5]||(t[5]=Object(i["withModifiers"])((...e)=>a.handleMax1&&a.handleMax1(...e),["stop"]))},Object(i["toDisplayString"])(e.$t("max")),1)]),Object(i["createElementVNode"])("div",xd,[Object(i["createVNode"])(O,{modelValue:n.amount1,"onUpdate:modelValue":[t[6]||(t[6]=e=>n.amount1=e),a.watchAmount1],"input-align":"right",placeholder:"0.0",type:"number",border:!1,clearable:"",class:"input-number"},null,8,["modelValue","onUpdate:modelValue"])])]),Object(i["createElementVNode"])("ul",Sd,[Object(i["createElementVNode"])("li",Ed,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("currentPool")),1),Object(i["createElementVNode"])("div",Bd,[n.swap.name?(Object(i["openBlock"])(),Object(i["createBlock"])(j,{key:0,class:"icon-token",style:{width:"16px",height:"16px","border-radius":"50%"},src:`${e.$store.state.s3BaseUrl}swap/${n.swap.name}.jpeg`,lazy:""},{error:Object(i["withCtx"])(()=>t[17]||(t[17]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[18]||(t[18]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),_:1},8,["src"])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",Cd,Object(i["toDisplayString"])(n.swap.show_name||""),1)])]),n.reserves.pair===n.ZERO_ADDRESS?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("li",Dd,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("rate")),1),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${n.token1.symbol||""} = ${n.amount0&&n.amount1?e.$f.formatNumber3(Number(n.amount0||0)/Number(n.amount1)):0} ${n.token0.symbol||""}`},null,8,Id)]),Object(i["createElementVNode"])("li",Ad,[t[19]||(t[19]=Object(i["createElementVNode"])("span",null,null,-1)),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${n.token0.symbol||""} = ${n.amount0&&n.amount1?e.$f.formatNumber3(Number(n.amount1||0)/Number(n.amount0)):0} ${n.token1.symbol||""}`},null,8,Ld)]),null!==(s=n.token0)&&void 0!==s&&s.current_price_usd&&null!==(c=n.token1)&&void 0!==c&&c.current_price_usd?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("li",Pd,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("referenceRate1")),1),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${n.token1.symbol||""} = ${e.$f.formatNumber3(Number(null===(r=n.token1)||void 0===r?void 0:r.current_price_usd)/Number(null===(d=n.token0)||void 0===d?void 0:d.current_price_usd))} ${n.token0.symbol||""}`},null,8,Fd)]),Object(i["createElementVNode"])("li",Rd,[t[20]||(t[20]=Object(i["createElementVNode"])("span",null,null,-1)),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${n.token0.symbol||""} = ${e.$f.formatNumber3(Number(null===(u=n.token0)||void 0===u?void 0:u.current_price_usd)/Number(null===(m=n.token1)||void 0===m?void 0:m.current_price_usd))} ${n.token1.symbol||""}`},null,8,Md)]),Object(i["createElementVNode"])("li",Ud,[Object(i["createElementVNode"])("span",zd,Object(i["toDisplayString"])(n.token0.symbol||"")+" "+Object(i["toDisplayString"])(e.$t("referencePrice")),1),Object(i["createElementVNode"])("span",{innerHTML:"$"+e.$f.formatNumber3((null===(b=n.token0)||void 0===b?void 0:b.current_price_usd)||0)},null,8,Hd)]),Object(i["createElementVNode"])("li",qd,[Object(i["createElementVNode"])("span",Qd,Object(i["toDisplayString"])(n.token1.symbol||"")+" "+Object(i["toDisplayString"])(e.$t("referencePrice")),1),Object(i["createElementVNode"])("span",{innerHTML:"$"+e.$f.formatNumber3(null===(h=n.token1)||void 0===h?void 0:h.current_price_usd)},null,8,Gd)])],64)):Object(i["createCommentVNode"])("",!0)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("li",Wd,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("rate")),1),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${n.token1.symbol||""} = ${n.reserves.reserve0&&n.reserves.reserve1?e.$f.formatNumber3(Number(n.reserves.reserve0)/Number(n.reserves.reserve1)):""} ${n.token0.symbol||""}`},null,8,Yd)]),Object(i["createElementVNode"])("li",Jd,[t[21]||(t[21]=Object(i["createElementVNode"])("span",null,null,-1)),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${n.token0.symbol||""} = ${n.reserves.reserve0&&n.reserves.reserve1?e.$f.formatNumber3(Number(n.reserves.reserve1)/Number(n.reserves.reserve0)):""} ${n.token1.symbol||""}`},null,8,Kd)])],64)),Object(i["createElementVNode"])("li",Zd,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("shareRatio")),1),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:(n.reserves.reserve0&&n.amount0?e.$f.formatNumber3(Math.min(100*Number(n.amount0)/Number(n.utils.formatUnits(n.reserves.reserve0,n.token0.decimals)),100)):0)+"%"},null,8,Xd)]),Object(i["createElementVNode"])("li",eu,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti ml-5",style:{cursor:"pointer"},onClick:t[7]||(t[7]=Object(i["withModifiers"])(t=>a.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips")),["stop"]))}),t[22]||(t[22]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("div",tu,[Object(i["createElementVNode"])("span",ou,Object(i["toDisplayString"])(n.slippage)+"%",1),Object(i["createVNode"])(k,{slippage:n.slippage,"onUpdate:slippage":t[8]||(t[8]=e=>n.slippage=e)},null,8,["slippage"])])])]),Object(i["createElementVNode"])("div",null,[!a.isApprove0&&a.error<=0?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:0,type:"primary",color:"#743FF7",block:"",loading:n.loading0,"loading-text":e.$t("approve"),disabled:""===a.walletAddress||""===n.token0.address||void 0===n.token0.address,class:"mb-10 br-6 h-40",onClick:Object(i["withModifiers"])(a._approve0,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("approve"))+" "+Object(i["toDisplayString"])(n.token0.symbol||""),1)]),_:1},8,["loading","loading-text","disabled","onClick"])):Object(i["createCommentVNode"])("",!0),!a.isApprove1&&a.error<=0?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:1,type:"primary",color:"#743FF7",block:"",loading:n.loading1,"loading-text":e.$t("approve"),disabled:""===a.walletAddress||""===n.token1.address||void 0===n.token1.address,class:"mb-10 br-6 h-40",onClick:Object(i["withModifiers"])(a._approve1,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("approve"))+" "+Object(i["toDisplayString"])(n.token1.symbol||""),1)]),_:1},8,["loading","loading-text","disabled","onClick"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(g,{color:a.error>2?"#999":"#286DFF",block:"",class:"br-6 h-40",loading:n.loadingSubmit,"loading-text":e.$t("add"),disabled:a.disabled,onClick:t[9]||(t[9]=Object(i["withModifiers"])(e=>n.confirmSubmitVisible=!0,["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(a.errorMessage),1)]),_:1},8,["color","loading","loading-text","disabled"]),Object(i["createElementVNode"])("div",iu,[Object(i["createVNode"])(y,{onRefresh:t[10]||(t[10]=t=>e.$emit("refresh"))})])])]),Object(i["createVNode"])(_,{class:"dialog-zixuan dialog",modelValue:n.confirmSubmitVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>n.confirmSubmitVisible=e),width:"450px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",lu,Object(i["toDisplayString"])(n.reserves.pair===n.ZERO_ADDRESS?e.$t("createLiquidityConfirm"):e.$t("addLiquidityConfirm")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(w,{onSubmit:a._addLiquidity,class:"pop-content"},{default:Object(i["withCtx"])(()=>{var o,l,s,c,r,d,u,m,b;return[Object(i["createElementVNode"])("div",nu,Object(i["toDisplayString"])(e.$t("youWillReceive")),1),Object(i["createElementVNode"])("div",au,[Object(i["createVNode"])(j,{class:"w-20 h-20 round",src:e.$f.formatIcon(n.token0,null===(o=n.token0)||void 0===o?void 0:o.symbol),lazy:""},{error:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token0,null===(t=n.token0)||void 0===t?void 0:t.symbol)},null,8,su)]}),placeholder:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token0,null===(t=n.token0)||void 0===t?void 0:t.symbol)},null,8,cu)]}),_:1},8,["src"]),Object(i["createVNode"])(j,{class:"ml-4 mr-6 w-20 h-20 round",src:e.$f.formatIcon(n.token1,null===(l=n.token1)||void 0===l?void 0:l.symbol),lazy:""},{error:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token1,null===(t=n.token1)||void 0===t?void 0:t.symbol)},null,8,ru)]}),placeholder:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token1,null===(t=n.token1)||void 0===t?void 0:t.symbol)},null,8,du)]}),_:1},8,["src"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.token0.symbol),1),t[23]||(t[23]=Object(i["createElementVNode"])("span",null,"/",-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.token1.symbol),1),t[24]||(t[24]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),"-"!==a.lpAmount?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:"+ "+e.$f.formatNumber3(a.lpAmount)},null,8,uu)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",mu))]),Object(i["createElementVNode"])("div",bu,[Object(i["createElementVNode"])("div",hu,[Object(i["createVNode"])(j,{class:"ml-4 mr-6 w-24 h-24 round",src:e.$f.formatIcon(n.token0,null===(s=n.token0)||void 0===s?void 0:s.symbol),lazy:""},{error:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token0,null===(t=n.token0)||void 0===t?void 0:t.symbol)},null,8,pu)]}),placeholder:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token0,null===(t=n.token0)||void 0===t?void 0:t.symbol)},null,8,vu)]}),_:1},8,["src"]),Object(i["createElementVNode"])("span",Ou,Object(i["toDisplayString"])(n.token0.symbol||""),1)]),Object(i["createElementVNode"])("div",{innerHTML:"- "+e.$f.formatNumber3(n.amount0)},null,8,fu)]),Object(i["createElementVNode"])("div",ju,[Object(i["createElementVNode"])("div",ku,[Object(i["createVNode"])(j,{class:"ml-4 mr-6 w-24 h-24 round",src:e.$f.formatIcon(n.token1,n.token1.symbol),lazy:""},{error:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token1,null===(t=n.token1)||void 0===t?void 0:t.symbol)},null,8,gu)]}),placeholder:Object(i["withCtx"])(()=>{var t;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(n.token1,null===(t=n.token1)||void 0===t?void 0:t.symbol)},null,8,yu)]}),_:1},8,["src"]),Object(i["createElementVNode"])("span",wu,Object(i["toDisplayString"])(n.token1.symbol||""),1)]),Object(i["createElementVNode"])("div",{innerHTML:"- "+e.$f.formatNumber3(n.amount1)},null,8,_u)]),Object(i["createElementVNode"])("div",$u,[Object(i["createElementVNode"])("span",Nu,Object(i["toDisplayString"])(e.$t("currentPool")),1),Object(i["createElementVNode"])("div",Tu,[n.swap.name?(Object(i["openBlock"])(),Object(i["createBlock"])(j,{key:0,class:"w-24 h-24 round",src:`${e.$store.state.s3BaseUrl}swap/${n.swap.name}.jpeg`,lazy:""},{error:Object(i["withCtx"])(()=>t[25]||(t[25]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[26]||(t[26]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),_:1},8,["src"])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",Vu,Object(i["toDisplayString"])(n.swap.show_name||""),1)])]),n.reserves.pair===n.ZERO_ADDRESS&&null!==(c=n.token0)&&void 0!==c&&c.current_price_usd&&null!==(r=n.token1)&&void 0!==r&&r.current_price_usd?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("li",xu,[Object(i["createElementVNode"])("span",Su,Object(i["toDisplayString"])(e.$t("rate")),1),Object(i["createElementVNode"])("span",{class:"color-999",innerHTML:`1 ${n.token1.symbol||""} = ${n.amount0&&n.amount1?e.$f.formatNumber3(Number(n.amount0||0)/Number(n.amount1)):0} ${n.token0.symbol||""}`},null,8,Eu)]),Object(i["createElementVNode"])("li",Bu,[t[27]||(t[27]=Object(i["createElementVNode"])("span",{class:"color-999"},null,-1)),Object(i["createElementVNode"])("span",{class:"color-999",innerHTML:`1 ${n.token0.symbol||""} = ${n.amount0&&n.amount1?e.$f.formatNumber3(Number(n.amount1||0)/Number(n.amount0)):0} ${n.token1.symbol||""}`},null,8,Cu)]),Object(i["createElementVNode"])("li",Du,[Object(i["createElementVNode"])("span",Iu,Object(i["toDisplayString"])(e.$t("referenceRate1")),1),Object(i["createElementVNode"])("span",{class:"color-999",innerHTML:`1 ${n.token1.symbol||""} = ${e.$f.formatNumber3(Number(null===(d=n.token1)||void 0===d?void 0:d.current_price_usd)/Number(null===(u=n.token0)||void 0===u?void 0:u.current_price_usd))} ${n.token0.symbol||""}`},null,8,Au)]),Object(i["createElementVNode"])("li",Lu,[t[28]||(t[28]=Object(i["createElementVNode"])("span",{class:"color-999"},null,-1)),Object(i["createElementVNode"])("span",{class:"color-999",innerHTML:`1 ${n.token0.symbol||""} = ${e.$f.formatNumber3(Number(null===(m=n.token0)||void 0===m?void 0:m.current_price_usd)/Number(null===(b=n.token1)||void 0===b?void 0:b.current_price_usd))} ${n.token1.symbol||""}`},null,8,Pu)])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("li",Fu,[Object(i["createElementVNode"])("span",Ru,Object(i["toDisplayString"])(e.$t("rate")),1),Object(i["createElementVNode"])("span",{class:"color-999",innerHTML:`1 ${n.token1.symbol||""} = ${n.reserves.reserve0&&n.reserves.reserve1?e.$f.formatNumber3(Number(n.reserves.reserve0)/Number(n.reserves.reserve1)):""} ${n.token0.symbol||""}`},null,8,Mu)]),Object(i["createElementVNode"])("li",Uu,[t[29]||(t[29]=Object(i["createElementVNode"])("span",{class:"color-999"},null,-1)),Object(i["createElementVNode"])("span",{class:"color-999",innerHTML:`1 ${n.token0.symbol||""} = ${n.reserves.reserve0&&n.reserves.reserve1?e.$f.formatNumber3(Number(n.reserves.reserve1)/Number(n.reserves.reserve0)):""} ${n.token1.symbol||""}`},null,8,zu)])],64)),Object(i["createElementVNode"])("div",Hu,[Object(i["createElementVNode"])("span",qu,Object(i["toDisplayString"])(e.$t("slippage")),1),Object(i["createElementVNode"])("div",Qu,Object(i["toDisplayString"])(n.slippage)+"%",1)]),Object(i["createVNode"])(g,{color:"#286DFF",block:"",class:"br-6 h-40",loading:n.loadingSubmit,"loading-text":n.reserves.pair===n.ZERO_ADDRESS?e.$t("confirmCreate"):e.$t("confirmAdd"),disabled:a.disabled,"native-type":"submit"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.reserves.pair===n.ZERO_ADDRESS?e.$t("confirmCreate"):e.$t("confirmAdd")),1)]),_:1},8,["loading","loading-text","disabled"])]}),_:1},8,["onSubmit"])]),_:1},8,["modelValue"]),Object(i["createVNode"])(_,{class:"dialog-zixuan dialog",modelValue:n.confirmTxVisible,"onUpdate:modelValue":t[13]||(t[13]=e=>n.confirmTxVisible=e),width:"420px",onClosed:t[14]||(t[14]=e=>n.loadingSubmit=!1)},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Gu,Object(i["toDisplayString"])(1===n.confirmTxStep?e.$t("waitForConfirming"):e.$t("tradeConfirmed")),1)]),default:Object(i["withCtx"])(()=>[1===n.confirmTxStep?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Wu,[Object(i["createVNode"])(N,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])($)]),_:1}),Object(i["createElementVNode"])("span",Yu,Object(i["toDisplayString"])(e.$t("plsConfirmWallet")),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Ju,[t[30]||(t[30]=Object(i["createElementVNode"])("i",{class:"iconfont icon-arrow-up-circle font-110"},null,-1)),Object(i["createElementVNode"])("span",Ku,Object(i["toDisplayString"])(e.$t("plsViewBlockChainExplorer")),1)]),Object(i["createElementVNode"])("div",Zu,[Object(i["createVNode"])(T,{class:"swap-button width100",type:"primary",size:"large",block:"",onClick:t[12]||(t[12]=Object(i["withModifiers"])(t=>e.$f.openBrowser(n.transaction,"tx",a.chain),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("viewTransition")),1)]),_:1})])],64))]),_:1},8,["modelValue"])])}const em={key:0,class:"icon-token-container"},tm=["src"],om=["src"],im={class:"font-14 color-fff font-weight-400 ml-3"},lm={key:1},nm={class:"font-18 color-fff font-weight-400"},am={class:"search-content",style:{"padding-top":"10px"}};var sm={__name:"selectToken",props:{tokens:Array,token:Object,chain:String,disabledToken:String},emits:["update:token"],setup(e,{emit:t}){const{t:o}=Object(pa["b"])(),l=e,n=t;let a=Object(i["ref"])(!1),s=Object(i["ref"])(""),c=Object(i["ref"])(l.tokens||[]),r=Object(i["ref"])(!1),d=Object(Gi["useStorage"])("selectTokenHistory",[],localStorage),u=Object(i["computed"])(()=>{var e;return(null===(e=c.value)||void 0===e?void 0:e.length)>0?c.value:l.tokens||[]});Object(i["watch"])(s,e=>{""!==e?b():c.value=l.tokens}),Object(i["watch"])(a,e=>{e&&(c.value=l.tokens||[],s.value="")});let m=null;function b(){m&&(clearTimeout(m),m=null),m=setTimeout(()=>{h()},500)}function h(){if(""!==s.value){var e;let t=new RegExp(s.value,"i"),o=(null===(e=l.tokens)||void 0===e?void 0:e.filter(e=>t.test((null===e||void 0===e?void 0:e.address)||"")||t.test((null===e||void 0===e?void 0:e.symbol)||"")||t.test((null===e||void 0===e?void 0:e.name)||"")))||[];(null===o||void 0===o?void 0:o.length)>0?c.value=o:(r.value=!0,Object(De["Pe"])(s.value,l.chain).then(e=>{var t,o;c.value=null===(t=e.filter)||void 0===t||null===(t=t.call(e,e=>e.chain===l.chain))||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,e=>({...e,address:e.token}))}).catch(e=>{c.value=[]}).finally(()=>{r.value=!1}))}else c.value=l.tokens}function p(e){if(e.address!==l.disabledToken&&(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token)){var t,o,i;let l=Object(ha["formatIcon"])(e),s=null===(t=d.value)||void 0===t?void 0:t.filter(e=>e.logo!==l);d.value=null===(o=[{symbol:e.symbol,logo:l,chain:e.chain},...s])||void 0===o||null===(i=o.slice)||void 0===i?void 0:i.call(o,0,4),n("update:token",e),a.value=!1}}return(e,t)=>{var n,c,d,m,h,v;const O=Object(i["resolveComponent"])("Search"),f=Object(i["resolveComponent"])("el-icon"),j=Object(i["resolveComponent"])("el-input"),k=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("button",{class:"select-token",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>Object(i["isRef"])(a)?a.value=!0:a=!0,["stop"])),type:"button"},[null!==(n=l.token)&&void 0!==n&&n.address||null!==(c=l.token)&&void 0!==c&&c.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[null!==(d=l.token)&&void 0!==d&&d.address||null!==(m=l.token)&&void 0!==m&&m.token?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",em,[Object(i["createElementVNode"])("img",{class:"token-icon",src:Object(i["unref"])(ha["formatIcon"])(l.token),height:"22",onerror:"this.src='/icon-default.png'"},null,8,tm),null!==(h=l.token)&&void 0!==h&&h.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-chain",src:`${e.$store.state.s3BaseUrl}chain/${l.token.chain}.png`,alt:"",srcset:""},null,8,om)):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",im,Object(i["toDisplayString"])((null===(v=l.token)||void 0===v?void 0:v.symbol)||""),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",lm,Object(i["toDisplayString"])(e.$t("pleaseSelectToken")),1)),Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["arrow-up iconfont icon-xiala",{active:!0===Object(i["unref"])(a)}])},null,2)]),Object(i["createVNode"])(k,{class:"dialog-zixuan dialog",modelValue:Object(i["unref"])(a),"onUpdate:modelValue":t[3]||(t[3]=e=>Object(i["isRef"])(a)?a.value=e:a=e),width:"420px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",nm,Object(i["toDisplayString"])(Object(i["unref"])(o)("selectToken")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"search-dialog-container",onClick:t[2]||(t[2]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createVNode"])(j,{ref:"inputSearch",placeholder:Object(i["unref"])(o)("enterAddress/token"),modelValue:Object(i["unref"])(s),"onUpdate:modelValue":t[1]||(t[1]=e=>Object(i["isRef"])(s)?s.value=e:s=e),modelModifiers:{trim:!0},onKeydown:Object(i["withKeys"])(b,["enter"]),clearable:""},{prefix:Object(i["withCtx"])(()=>[Object(i["createVNode"])(f,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(O)]),_:1})]),_:1},8,["placeholder","modelValue"]),Object(i["createElementVNode"])("div",am,[Object(i["createVNode"])(Object(i["unref"])(ba),{searchTokens:Object(i["unref"])(u),onOnSelect:p,loading:Object(i["unref"])(r),disabledToken:l.disabledToken||l.token.address},null,8,["searchTokens","loading","disabledToken"])])])]),_:1},8,["modelValue"])])}}};o("7502");const cm=wt()(sm,[["__scopeId","data-v-1ac2d9be"]]);var rm=cm;const dm={key:0,class:"icon-token-container"},um=["src"],mm={class:"font-14 color-fff font-weight-400 ml-3"},bm={key:1},hm={key:1,type:"button",class:"select-token",disabled:""},pm={key:0,class:"icon-token-container"},vm=["src"],Om={class:"font-18 color-fff font-weight-400"},fm={style:{"padding-top":"10px"}},jm=["onClick"],km={class:"right-label"};var gm={__name:"selectSwap",props:{swaps:Array,chain:String,swap:Object},emits:["update:swap"],setup(e,{emit:t}){const{t:o}=Object(pa["b"])(),l=e,n=t;let a=Object(i["ref"])(!1),s=Object(i["ref"])(""),c=Object(i["ref"])(l.swaps||[]),r=Object(i["ref"])(!1);Object(i["watch"])(s,e=>{""!==e?u():c.value=l.swaps}),Object(i["watch"])(a,e=>{e?c.value=l.swaps||[]:s.value=""});let d=null;function u(){d&&(clearTimeout(d),d=null),d=setTimeout(()=>{m()},500)}function m(){if(""!==s.value){var e;let t=new RegExp(s.value,"i"),o=(null===(e=l.swaps)||void 0===e?void 0:e.filter(e=>t.test((null===e||void 0===e?void 0:e.name)||"")||t.test((null===e||void 0===e?void 0:e.show_name)||"")||t.test((null===e||void 0===e?void 0:e.factory_address)||"")||t.test((null===e||void 0===e?void 0:e.router_address)||"")))||[];(null===o||void 0===o?void 0:o.length)>0&&(c.value=o)}else c.value=l.swaps}function b(e){d&&(clearTimeout(d),d=null),m()}function h(e){(null!==e&&void 0!==e&&e.name||null!==e&&void 0!==e&&e.router_address)&&(n("update:swap",e),a.value=!1)}return(e,t)=>{var n,d,u,m,p;const v=Object(i["resolveComponent"])("Search"),O=Object(i["resolveComponent"])("el-icon"),f=Object(i["resolveComponent"])("el-input"),j=Object(i["resolveComponent"])("el-empty"),k=Object(i["resolveComponent"])("el-image"),g=Object(i["resolveComponent"])("el-scrollbar"),y=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,["solana"!==(null===l||void 0===l?void 0:l.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"select-token",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>Object(i["isRef"])(a)?a.value=!0:a=!0,["stop"])),type:"button"},[null!==l&&void 0!==l&&null!==(n=l.swap)&&void 0!==n&&n.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[null!==l&&void 0!==l&&null!==(d=l.swap)&&void 0!==d&&d.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dm,[Object(i["createElementVNode"])("img",{class:"token-icon",src:`${e.$store.state.s3BaseUrl}swap/${null===l||void 0===l||null===(u=l.swap)||void 0===u?void 0:u.name}.jpeg`,height:"22",onerror:"this.src='/icon-default.png'"},null,8,um)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",mm,Object(i["toDisplayString"])((null===l||void 0===l||null===(m=l.swap)||void 0===m?void 0:m.show_name)||""),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",bm,Object(i["toDisplayString"])(Object(i["unref"])(o)("plsSelectSwap")),1)),t[4]||(t[4]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["arrow-up iconfont icon-xiala",{active:1==Object(i["unref"])(a)}])},null,2)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",hm,[null!==l&&void 0!==l&&null!==(p=l.swap)&&void 0!==p&&p.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",pm,[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$store.state.s3BaseUrl+"swap/raydium.jpeg",height:"22",onerror:"this.src='/icon-default.png'"},null,8,vm)])):Object(i["createCommentVNode"])("",!0),t[5]||(t[5]=Object(i["createElementVNode"])("span",{class:"font-14 color-fff font-weight-400 ml-3"},"Raydium",-1)),t[6]||(t[6]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1))])),Object(i["createVNode"])(y,{class:"dialog-select",modelValue:Object(i["unref"])(a),"onUpdate:modelValue":t[3]||(t[3]=e=>Object(i["isRef"])(a)?a.value=e:a=e),width:"420px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Om,Object(i["toDisplayString"])(Object(i["unref"])(o)("selectSwap")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:"search-dialog-container",onClick:t[2]||(t[2]=Object(i["withModifiers"])(()=>{},["stop"]))},[Object(i["createVNode"])(f,{ref:"inputSearch",placeholder:Object(i["unref"])(o)("searchPool"),modelValue:Object(i["unref"])(s),"onUpdate:modelValue":t[1]||(t[1]=e=>Object(i["isRef"])(s)?s.value=e:s=e),modelModifiers:{trim:!0},onKeydown:Object(i["withKeys"])(b,["enter"]),clearable:""},{prefix:Object(i["withCtx"])(()=>[Object(i["createVNode"])(O,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(v)]),_:1})]),_:1},8,["placeholder","modelValue"]),Object(i["createVNode"])(g,{height:"calc(60vh - 50px)"},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("ul",fm,[Object(i["withDirectives"])(Object(i["createVNode"])(j,{class:"empty","image-size":100,image:"light"===e.$store.state.mode?Object(i["unref"])(Co.a):Object(i["unref"])(Io.a),description:e.$t("emptyNoData")},null,8,["image","description"]),[[i["vShow"],Object(i["unref"])(c)&&0===Object(i["unref"])(c).length&&!Object(i["unref"])(r)]]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(c),(o,n)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{class:"token-item",key:n,onClick:Object(i["withModifiers"])(e=>h(o),["stop"])},[Object(i["createVNode"])(k,{class:"icon-token",src:`${e.$store.state.s3BaseUrl}swap/${o.name}.jpeg`,lazy:""},{error:Object(i["withCtx"])(()=>t[7]||(t[7]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[8]||(t[8]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),_:2},1032,["src"]),Object(i["createElementVNode"])("div",km,Object(i["toDisplayString"])(o.show_name),1),t[9]||(t[9]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),o.name===l.swap.name?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(jt["a"]),{key:0,size:"20",color:"#286DFF",name:"success"})):(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(jt["a"]),{key:1,style:{opacity:"0"},size:"20",color:"#286DFF",name:"success"}))],8,jm))),128))])]),_:1})])]),_:1},8,["modelValue"])])}}};o("9a2f");const ym=wt()(gm,[["__scopeId","data-v-1225f862"]]);var wm=ym,_m=o("c9a1"),$m=o("4360");const Nm={class:"font-18 color-fff font-weight-400"},Tm={class:"slippage-label"},Vm={class:"mt-10"},xm=["id","value"],Sm=["for"],Em={class:"slippage-input"},Bm={key:0,class:"tip"},Cm={class:"form-submit"};var Dm={__name:"slippage",props:{slippage:[String,Number]},emits:["update:slippage"],setup(e,{emit:t}){const{t:o}=Object(pa["b"])(),l=e,n=t;let a=Object(i["ref"])(!1),s=Object(i["ref"])([.1,.5,1]),c=Object(i["ref"])(Number(l.slippage)||1);function r(){n("update:slippage",String(c.value)),a.value=!1}function d(){_m["a"].alert(o("slippageTips"),{title:o("slippage"),confirmButtonText:o("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left",customClass:$m["a"].state.mode}).then(()=>{})}function u(){a.value&&Number(c.value)<0&&(c.value=0)}function m(e){return Number(e)<=49.99}return Object(i["watch"])(a,e=>{e&&(c.value=Number(l.slippage)||1)}),(t,o)=>{const l=Object(i["resolveComponent"])("QuestionFilled"),n=Object(i["resolveComponent"])("el-icon"),b=Object(i["resolveComponent"])("el-col"),h=Object(i["resolveComponent"])("el-input-number"),p=Object(i["resolveComponent"])("el-row"),v=Object(i["resolveComponent"])("el-button"),O=Object(i["resolveComponent"])("el-form"),f=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("i",{class:"iconfont icon-shezhi",style:{cursor:"pointer"},onClick:o[0]||(o[0]=Object(i["withModifiers"])(e=>Object(i["isRef"])(a)?a.value=!0:a=!0,["stop"]))}),Object(i["createVNode"])(f,{class:"dialog-zixuan",modelValue:Object(i["unref"])(a),"onUpdate:modelValue":o[3]||(o[3]=e=>Object(i["isRef"])(a)?a.value=e:a=e),width:"500px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Nm,Object(i["toDisplayString"])(t.$t("setSlippage")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(O,{class:"popup-content",onSubmit:Object(i["withModifiers"])(r,["prevent"])},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Tm,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(t.$t("slippage")),1),Object(i["createVNode"])(n,{onClick:Object(i["withModifiers"])(d,["stop"]),size:15,color:"#80838B",style:{cursor:"pointer","margin-left":"5px"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(l)]),_:1}),o[4]||(o[4]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1))]),Object(i["createElementVNode"])("div",Vm,[Object(i["createVNode"])(p,{gutter:10},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(s),(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(b,{span:6,key:t,class:"radio-group"},{default:Object(i["withCtx"])(()=>[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"radio-"+e,"onUpdate:modelValue":o[1]||(o[1]=e=>Object(i["isRef"])(c)?c.value=e:c=e),value:e,class:"radio-input"},null,8,xm),[[i["vModelRadio"],Object(i["unref"])(c),void 0,{number:!0}]]),Object(i["createElementVNode"])("label",{for:"radio-"+e,class:"radio-item"},Object(i["toDisplayString"])(e)+"%",9,Sm)]),_:2},1024))),128)),Object(i["createVNode"])(b,{span:6},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Em,[Object(i["createVNode"])(h,{class:"select bg-212847 width100",name:"slippage",min:0,max:49.99,step:.01,modelValue:Object(i["unref"])(c),"onUpdate:modelValue":o[2]||(o[2]=e=>Object(i["isRef"])(c)?c.value=e:c=e),onBlur:u,"controls-position":"right",clearable:"",rules:[{required:!0,message:t.$t("enterSlippage")},{validator:m,message:t.$t("slippageMaxTip")}]},null,8,["modelValue","rules"]),o[5]||(o[5]=Object(i["createElementVNode"])("span",{class:"color-fff"},"%",-1))])]),_:1})]),_:1}),void 0!==Object(i["unref"])(c)&&Number(Object(i["unref"])(c))<=.1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Bm,Object(i["toDisplayString"])(t.$t("slippageTip1")),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Cm,[Object(i["createVNode"])(v,{class:"swap-button width100",block:"",round:"","native-type":"submit",type:"primary",disabled:0===e.slippage},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.$t("confirm1")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["modelValue"])],64)}}};o("16e5");const Im=wt()(Dm,[["__scopeId","data-v-90189f56"]]);var Am=Im,Lm=o("da7a"),Pm=o("0a55"),Fm=o("e36d"),Rm=o("a6f0"),Mm=o("3ef4"),Um=o("aee2"),zm=o("4b9e"),Hm=o("671d"),qm=o("847c");const Qm={class:"section-container color-999 text-size-12 font-400"},Gm={class:"remove-container"},Wm={class:"flex items-center color-999"},Ym={class:"color-text-2"},Jm=["innerHTML"],Km={class:"flex items-center color-999 mt-10"},Zm={class:"color-text-2"},Xm={class:"flex items-center color-text-1"},eb={class:"flex items-center color-999 mt-10"},tb={class:"color-text-2"},ob={class:"color-text-1"},ib={class:"percent-container mt-20"},lb={class:"font-400 flex items-center mt-10 mb-15"},nb={class:"color-text-2 text-size-12 mr-5"},ab={class:"color-text-1 text-size-12"},sb={class:"text-size-14 font-400 color-text-1"},cb={class:"flex items-center justify-between"},rb={class:"flex items-center"},db=["innerHTML"],ub={class:"flex items-center justify-between mt-15"},mb={class:"flex items-center"},bb=["innerHTML"],hb={class:"flex items-center justify-between mt-10 text-size-12"},pb=["innerHTML"],vb={class:"flex items-center justify-between mt-4 text-size-12"},Ob=["innerHTML"],fb={class:"flex items-center justify-between mt-5 text-size-12"},jb={class:"color-text-1 flex items-center"},kb={class:"mr-5"},gb={class:"btn-container mt-10"},yb={class:"font-18 color-fff font-weight-400"},wb={class:"color-text-2 text-size-14"},_b={class:"card flex items-center color-text-1 text-size-14 mt-10"},$b=["innerHTML"],Nb={class:"flex items-center justify-between color-text-1 text-size-14 mt-14"},Tb={class:"flex items-center justify-between"},Vb={class:"ml-5 color-text-1 text-size-14"},xb=["innerHTML"],Sb={class:"flex items-center justify-between color-text-1 text-size-14 mt-10"},Eb={class:"flex items-center justify-between"},Bb={class:"ml-5 color-text-1 text-size-14"},Cb=["innerHTML"],Db={class:"flex items-center justify-between mt-5 text-size-12 mt-14"},Ib={class:"color-text-2"},Ab={class:"flex items-center"},Lb={class:"ml-5 color-text-1"},Pb={class:"flex items-center justify-between mt-5 text-size-12"},Fb={class:"color-text-2"},Rb=["innerHTML"],Mb={class:"flex items-center justify-between mt-5 text-size-12"},Ub=["innerHTML"],zb={class:"flex items-center justify-between mt-5 text-size-12 mb-30"},Hb={class:"color-text-2"},qb={class:"color-text-1 flex items-center"},Qb={class:"font-18 color-fff font-weight-400"},Gb={key:0,class:"swap-info center"},Wb={class:"mt-20"},Yb={class:"swap-info center"},Jb={class:"mt-20"},Kb={class:"footer"},Zb="/icon-default.png";var Xb={__name:"remove",props:{lpInfo:Object},emits:["refresh","update:lpInfo"],setup(e,{emit:t}){const o=e,l=t,{t:n}=Object(pa["b"])();let a=$m["a"].getters.netId,s=Object(i["ref"])(o.lpInfo),c=Object(i["ref"])(0),r=Object(i["computed"])(()=>{var e;if("solana"===$m["a"].getters.netId)return!0;let t=Fm["a"].from(s.value.balance||0);return t=t.mul(c.value).div(100),Fm["a"].from((null===(e=s.value)||void 0===e?void 0:e.allowance)||"0").gte(t)});function d(){if(s.value.pair&&(s.value.amm||s.value.router_address)){var e,t,o,i;let n=s.value.router_address||(null===(e=Object(ha["formatSwapInfo"])(null===(t=s.value)||void 0===t?void 0:t.chain,s.value.amm))||void 0===e?void 0:e.router_address)||"";"arbitrum"===a&&"0x6a78e84fa0edad4d99eb90edc041cdbf85925961"===(null===(o=s.value.pair)||void 0===o||null===(i=o.toLowerCase)||void 0===i?void 0:i.call(o))&&(n="0x9CB9aA2216c69f4DF8B27B52307824aCB7c7Cb49"),Object(De["Nc"])(s.value.pair,s.value.chain,n).then(e=>{s.value={...s.value,...e},l("update:lpInfo",s.value)})}}let u=Object(i["ref"])(!1);function m(){if(s.value.pair&&(s.value.amm||s.value.router_address)){var e,t,o,i,l,a;let c=s.value.router_address||(null===(e=Object(ha["formatSwapInfo"])(null===(t=s.value)||void 0===t?void 0:t.chain,s.value.amm))||void 0===e?void 0:e.router_address)||"";"arbitrum"===(null===(o=s.value)||void 0===o?void 0:o.chain)&&"0x6a78e84fa0edad4d99eb90edc041cdbf85925961"===(null===(i=s.value.pair)||void 0===i||null===(l=i.toLowerCase)||void 0===l?void 0:l.call(i))&&(c="0x9CB9aA2216c69f4DF8B27B52307824aCB7c7Cb49"),u.value=!0,Object(De["n"])(null===(a=s.value)||void 0===a?void 0:a.pair,c).then(e=>e.wait()).then(e=>{Object(Mm["a"])({message:n("approveSuccess"),type:"success",plain:!0}),d()}).catch(e=>{Object(ha["handleError"])(e)}).finally(()=>{u.value=!1})}}let b=Object(i["ref"])(!1),h=Object(i["ref"])(!1),p=Object(i["ref"])(1),v=Object(i["ref"])(""),O=Object(i["ref"])(2),f=Object(i["ref"])(!1);function j(){var e,t,o,i,l,r,u,m;let j=new Pe.a((null===(e=s.value)||void 0===e?void 0:e.token0_value_d)||0).times(c.value).div(100).toFixed(0),g=new Pe.a((null===(t=s.value)||void 0===t?void 0:t.token1_value_d)||0).times(c.value).div(100).toFixed(0),y=new Pe.a((null===(o=s.value)||void 0===o?void 0:o.balance)||0).times(c.value).div(100).toFixed(0);var w,_;if(f.value=!0,h.value=!0,p.value=1,"solana"===a)return null!==s&&void 0!==s&&null!==(w=s.value)&&void 0!==w&&w.ammId?void Object(Hm["a"])({targetPool:(null===s||void 0===s||null===(_=s.value)||void 0===_?void 0:_.ammId)||"",removeLpTokenAmount:y}).then(e=>(v.value=e.hash,""!==v.value&&(b.value=!1,p.value=2),e.wait())).then(e=>{var t,o,i;Object(qm["g"])({hash:v,token0:null===s||void 0===s||null===(t=s.value)||void 0===t?void 0:t.token0_address,token1:null===s||void 0===s||null===(o=s.value)||void 0===o?void 0:o.token1_address,lpToken:null===s||void 0===s||null===(i=s.value)||void 0===i?void 0:i.pair,parsedTransaction:e}),c.value=0,d(),k(),Object(Mm["a"])({message:n("removeLqSuccess"),type:"success",plain:!0})}).catch(e=>{h.value=!1,Object(ha["handleError"])(e)}).finally(()=>{f.value=!1}):void(f=!1);Object(De["Le"])({token0:(null===(i=s.value)||void 0===i?void 0:i.token0_address)||"",token1:(null===(l=s.value)||void 0===l?void 0:l.token1_address)||"",liquidity:y,amount0:j,amount1:g,slippage:O.value,router:null===(r=s.value)||void 0===r?void 0:r.router_address},null===(u=s.value)||void 0===u?void 0:u.pair,(null===(m=s.value)||void 0===m?void 0:m.chain)||a).then(e=>(v.value=e.hash,""!==v.value&&(b.value=!1,p.value=2),e.wait())).then(e=>{c.value=0,1===e.status?(d(),k(),Object(Mm["a"])({message:n("removeLqSuccess"),type:"success",plain:!0})):Object(Mm["a"])({message:n("removeLqFailed"),type:"error",plain:!0})}).catch(e=>{h.value=!1,Object(ha["handleError"])(e)}).finally(()=>{f.value=!1})}function k(){s.value.pair&&Object(De["ef"])(s.value.pair,s.value.chain||a).finally(()=>{l("refresh")})}function g(){d()}return Object(i["onMounted"])(()=>{g()}),(e,t)=>{var o,l,d,k,g,y,w,_,$,N,T;const V=Object(i["resolveComponent"])("el-image"),x=Object(i["resolveComponent"])("el-dialog"),S=Object(i["resolveComponent"])("Refresh"),E=Object(i["resolveComponent"])("el-icon"),B=Object(i["resolveComponent"])("el-button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("section",Qm,[Object(i["createElementVNode"])("div",Gm,[Object(i["createElementVNode"])("div",Wm,[Object(i["createElementVNode"])("span",Ym,Object(i["toDisplayString"])(Object(i["unref"])(n)("shareOfPool")),1),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:Object(i["unref"])(ha["formatNumber3"])(100*Number(Object(i["unref"])(s).token0_value)/Number(Object(i["unref"])(s).reserve0))+"%"},null,8,Jm)]),Object(i["createElementVNode"])("div",Km,[Object(i["createElementVNode"])("span",Zm,Object(i["toDisplayString"])(Object(i["unref"])(n)("currentPool")),1),Object(i["createElementVNode"])("div",Xm,[Object(i["createVNode"])(V,{class:"w-16 h-16 mr-5 round",src:`${e.$store.state.s3BaseUrl}swap/${Object(i["unref"])(s).amm}.jpeg`,lazy:""},{error:Object(i["withCtx"])(()=>t[11]||(t[11]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[12]||(t[12]=[Object(i["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),_:1},8,["src"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])((null===(o=Object(i["unref"])(s))||void 0===o?void 0:o.show_name)||(null===(l=Object(i["unref"])(ha["formatSwapInfo"])(Object(i["unref"])(s).chain,Object(i["unref"])(s).amm))||void 0===l?void 0:l.show_name)||Object(i["unref"])(s).amm),1)])]),Object(i["createElementVNode"])("div",eb,[Object(i["createElementVNode"])("span",tb,Object(i["toDisplayString"])(Object(i["unref"])(n)("removeAmount")),1),Object(i["createElementVNode"])("span",ob,Object(i["toDisplayString"])(Object(i["unref"])(c))+"%",1)]),Object(i["createVNode"])(Object(i["unref"])(Rm["a"]),{class:"mt-10 mb-10",modelValue:Object(i["unref"])(c),"onUpdate:modelValue":t[0]||(t[0]=e=>Object(i["isRef"])(c)?c.value=e:c=e),modelModifiers:{number:!0},lazy:!1,tooltips:!1},null,8,["modelValue"]),Object(i["createElementVNode"])("ul",ib,[Object(i["createElementVNode"])("li",{onClick:t[1]||(t[1]=Object(i["withModifiers"])(e=>Object(i["isRef"])(c)?c.value=25:c=25,["stop"]))},"25%"),Object(i["createElementVNode"])("li",{onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>Object(i["isRef"])(c)?c.value=50:c=50,["stop"]))},"50%"),Object(i["createElementVNode"])("li",{onClick:t[3]||(t[3]=Object(i["withModifiers"])(e=>Object(i["isRef"])(c)?c.value=75:c=75,["stop"]))},"75%"),Object(i["createElementVNode"])("li",{onClick:t[4]||(t[4]=Object(i["withModifiers"])(e=>Object(i["isRef"])(c)?c.value=100:c=100,["stop"]))},"100%")]),Object(i["createElementVNode"])("div",lb,[Object(i["createElementVNode"])("span",nb,Object(i["toDisplayString"])(Object(i["unref"])(n)("estimatedReceived")),1),Object(i["createElementVNode"])("span",ab,"*"+Object(i["toDisplayString"])(Object(i["unref"])(n)("slippageTips1",{slippage:Object(i["unref"])(O)})),1)]),Object(i["createElementVNode"])("ul",sb,[Object(i["createElementVNode"])("li",cb,[Object(i["createElementVNode"])("div",rb,[Object(i["createVNode"])(Object(i["unref"])(Um["a"]),{class:"w-20 h-20 mr-5",round:"","lazy-load":"",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(d=Object(i["unref"])(s))||void 0===d?void 0:d.token0_logo_url}),"error-icon":Zb},null,8,["src"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null!==(k=Object(i["unref"])(s))&&void 0!==k&&k.token0_is_wmain_warpper?null===(g=Object(i["unref"])(s))||void 0===g?void 0:g.main_name:Object(i["unref"])(s).token0_symbol||""),1)]),Object(i["createElementVNode"])("div",{innerHTML:Object(i["unref"])(ha["formatNumber3"])(Number(Object(i["unref"])(s).token0_value||0)*Object(i["unref"])(c)/100||0)},null,8,db)]),Object(i["createElementVNode"])("li",ub,[Object(i["createElementVNode"])("div",mb,[Object(i["createVNode"])(Object(i["unref"])(Um["a"]),{class:"w-20 h-20 mr-5",round:"","lazy-load":"",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(y=Object(i["unref"])(s))||void 0===y?void 0:y.token1_logo_url}),"error-icon":Zb},null,8,["src"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null!==(w=Object(i["unref"])(s))&&void 0!==w&&w.token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""),1)]),Object(i["createElementVNode"])("div",{innerHTML:Object(i["unref"])(ha["formatNumber3"])(Number(Object(i["unref"])(s).token1_value||0)*Object(i["unref"])(c)/100||0)},null,8,bb)]),Object(i["createElementVNode"])("li",hb,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(Object(i["unref"])(n)("rate")),1),Object(i["createElementVNode"])("span",{innerHTML:`1 ${Object(i["unref"])(s).token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""} = ${Object(i["unref"])(ha["formatNumber3"])(Number(null===(_=Object(i["unref"])(s))||void 0===_?void 0:_.reserve0)/Number(null===($=Object(i["unref"])(s))||void 0===$?void 0:$.reserve1))} ${Object(i["unref"])(s).token0_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token0_symbol||""}`},null,8,pb)]),Object(i["createElementVNode"])("li",vb,[t[13]||(t[13]=Object(i["createElementVNode"])("span",null,null,-1)),Object(i["createElementVNode"])("span",{innerHTML:`1 ${Object(i["unref"])(s).token0_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token0_symbol||""} = ${Object(i["unref"])(ha["formatNumber3"])(Number(null===(N=Object(i["unref"])(s))||void 0===N?void 0:N.reserve1)/Number(null===(T=Object(i["unref"])(s))||void 0===T?void 0:T.reserve0))} ${Object(i["unref"])(s).token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""}`},null,8,Ob)]),Object(i["createElementVNode"])("li",fb,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(Object(i["unref"])(n)("slippage")),1),Object(i["createElementVNode"])("div",jb,[Object(i["createElementVNode"])("span",kb,Object(i["toDisplayString"])(Object(i["unref"])(O))+"%",1),Object(i["createVNode"])(Am,{slippage:Object(i["unref"])(O),"onUpdate:slippage":t[5]||(t[5]=e=>Object(i["isRef"])(O)?O.value=e:O=e)},null,8,["slippage"])])])])]),Object(i["createElementVNode"])("div",gb,[Object(i["unref"])(r)?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(pd["a"]),{key:0,color:"#743FF7",block:"",class:"h-40 mb-10",loading:Object(i["unref"])(u),"loading-text":Object(i["unref"])(n)("approving"),onClick:Object(i["withModifiers"])(m,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Object(i["unref"])(n)("approve")),1)]),_:1},8,["loading","loading-text"])),Object(i["createVNode"])(Object(i["unref"])(pd["a"]),{color:"#286DFF",block:"",class:"h-40",loading:Object(i["unref"])(f),"loading-text":Object(i["unref"])(n)("remove"),disabled:!Object(i["unref"])(r)||0===Object(i["unref"])(c)||!Number(Object(i["unref"])(s).value),onClick:t[6]||(t[6]=Object(i["withModifiers"])(e=>Object(i["isRef"])(b)?b.value=!0:b=!0,["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Object(i["unref"])(n)("remove")),1)]),_:1},8,["loading","loading-text","disabled"])]),Object(i["createVNode"])(x,{class:"dialog-zixuan dialog",modelValue:Object(i["unref"])(b),"onUpdate:modelValue":t[7]||(t[7]=e=>Object(i["isRef"])(b)?b.value=e:b=e),width:"420px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",yb,Object(i["toDisplayString"])(Object(i["unref"])(n)("removeLiquidityConfirm")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(Object(i["unref"])(zm["a"]),{onSubmit:j,class:"pop-content"},{default:Object(i["withCtx"])(()=>{var o,l,a,d,u,m,b,h;return[Object(i["createElementVNode"])("div",wb,Object(i["toDisplayString"])(Object(i["unref"])(n)("youWillReceive")),1),Object(i["createElementVNode"])("div",_b,[Object(i["createVNode"])(Object(i["unref"])(Um["a"]),{class:"w-20 h-20",round:"","lazy-load":"",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(o=Object(i["unref"])(s))||void 0===o?void 0:o.token0_logo_url}),"error-icon":Zb},null,8,["src"]),Object(i["createVNode"])(Object(i["unref"])(Um["a"]),{class:"w-20 h-20 ml-4 mr-5",round:"","lazy-load":"",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(l=Object(i["unref"])(s))||void 0===l?void 0:l.token1_logo_url}),"error-icon":Zb},null,8,["src"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(Object(i["unref"])(s).token0_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token0_symbol||""),1),t[14]||(t[14]=Object(i["createElementVNode"])("span",null,"/",-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(Object(i["unref"])(s).token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""),1),t[15]||(t[15]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("span",{innerHTML:"- "+Object(i["unref"])(ha["formatNumber3"])(Number(Object(i["unref"])(s).value||0)*Object(i["unref"])(c)/100||0)},null,8,$b)]),Object(i["createElementVNode"])("div",Nb,[Object(i["createElementVNode"])("div",Tb,[Object(i["createVNode"])(Object(i["unref"])(Um["a"]),{class:"w-20 h-20",round:"","lazy-load":"",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(a=Object(i["unref"])(s))||void 0===a?void 0:a.token0_logo_url}),"error-icon":Zb},null,8,["src"]),Object(i["createElementVNode"])("span",Vb,Object(i["toDisplayString"])(Object(i["unref"])(s).token0_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token0_symbol||""),1)]),Object(i["createElementVNode"])("div",{innerHTML:"+ "+Object(i["unref"])(ha["formatNumber3"])(Number(Object(i["unref"])(s).token0_value||0)*Object(i["unref"])(c)/100||0)},null,8,xb)]),Object(i["createElementVNode"])("div",Sb,[Object(i["createElementVNode"])("div",Eb,[Object(i["createVNode"])(Object(i["unref"])(Um["a"]),{class:"w-20 h-20",round:"","lazy-load":"",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(d=Object(i["unref"])(s))||void 0===d?void 0:d.token1_logo_url}),"error-icon":Zb},null,8,["src"]),Object(i["createElementVNode"])("span",Bb,Object(i["toDisplayString"])(Object(i["unref"])(s).token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""),1)]),Object(i["createElementVNode"])("div",{innerHTML:"+ "+Object(i["unref"])(ha["formatNumber3"])(Number(Object(i["unref"])(s).token1_value||0)*Object(i["unref"])(c)/100||0)},null,8,Cb)]),Object(i["createElementVNode"])("div",Db,[Object(i["createElementVNode"])("span",Ib,Object(i["toDisplayString"])(Object(i["unref"])(n)("currentPool")),1),Object(i["createElementVNode"])("div",Ab,[Object(i["unref"])(s).amm?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(Um["a"]),{key:0,class:"w-16 h-16",round:"","lazy-load":"",src:`${e.$store.state.s3BaseUrl}swap/${Object(i["unref"])(s).amm}.jpeg`,"error-icon":Zb},null,8,["src"])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",Lb,Object(i["toDisplayString"])(Object(i["unref"])(s).show_name||""),1)])]),Object(i["createElementVNode"])("div",Pb,[Object(i["createElementVNode"])("span",Fb,Object(i["toDisplayString"])(Object(i["unref"])(n)("rate")),1),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${Object(i["unref"])(s).token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""} = ${Object(i["unref"])(ha["formatNumber3"])(Number(null===(u=Object(i["unref"])(s))||void 0===u?void 0:u.reserve0)/Number(null===(m=Object(i["unref"])(s))||void 0===m?void 0:m.reserve1))} ${Object(i["unref"])(s).token0_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token0_symbol||""}`},null,8,Rb)]),Object(i["createElementVNode"])("div",Mb,[t[16]||(t[16]=Object(i["createElementVNode"])("span",{class:"color-text-2"},null,-1)),Object(i["createElementVNode"])("span",{class:"color-text-1",innerHTML:`1 ${Object(i["unref"])(s).token0_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token0_symbol||""} = ${Object(i["unref"])(ha["formatNumber3"])(Number(null===(b=Object(i["unref"])(s))||void 0===b?void 0:b.reserve1)/Number(null===(h=Object(i["unref"])(s))||void 0===h?void 0:h.reserve0))} ${Object(i["unref"])(s).token1_is_wmain_warpper?Object(i["unref"])(s).main_name:Object(i["unref"])(s).token1_symbol||""}`},null,8,Ub)]),Object(i["createElementVNode"])("div",zb,[Object(i["createElementVNode"])("span",Hb,Object(i["toDisplayString"])(Object(i["unref"])(n)("slippage")),1),Object(i["createElementVNode"])("div",qb,Object(i["toDisplayString"])(Object(i["unref"])(O))+"%",1)]),Object(i["createVNode"])(Object(i["unref"])(pd["a"]),{color:"#286DFF",block:"",class:"h-40",loading:Object(i["unref"])(f),"loading-text":Object(i["unref"])(n)("confirmRemove"),disabled:!Object(i["unref"])(r)||0===Object(i["unref"])(c)||!Number(Object(i["unref"])(s).value),"native-type":"submit"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Object(i["unref"])(n)("confirmRemove")),1)]),_:1},8,["loading","loading-text","disabled"])]}),_:1})]),_:1},8,["modelValue"]),Object(i["createVNode"])(x,{class:"dialog-zixuan dialog",modelValue:Object(i["unref"])(h),"onUpdate:modelValue":t[9]||(t[9]=e=>Object(i["isRef"])(h)?h.value=e:h=e),width:"420px",onClosed:t[10]||(t[10]=e=>Object(i["isRef"])(f)?f.value=!1:f=!1)},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",Qb,Object(i["toDisplayString"])(1===Object(i["unref"])(p)?e.$t("waitForConfirming"):e.$t("tradeConfirmed")),1)]),default:Object(i["withCtx"])(()=>[1===Object(i["unref"])(p)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Gb,[Object(i["createVNode"])(E,{size:110,color:"#747782",style:{animation:"rotating 2s linear infinite normal"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(S)]),_:1}),Object(i["createElementVNode"])("span",Wb,Object(i["toDisplayString"])(e.$t("plsConfirmWallet")),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Yb,[t[17]||(t[17]=Object(i["createElementVNode"])("i",{class:"iconfont icon-arrow-up-circle font-110"},null,-1)),Object(i["createElementVNode"])("span",Jb,Object(i["toDisplayString"])(e.$t("plsViewBlockChainExplorer")),1)]),Object(i["createElementVNode"])("div",Kb,[Object(i["createVNode"])(B,{class:"swap-button width100",type:"primary",size:"large",block:"",onClick:t[8]||(t[8]=Object(i["withModifiers"])(e=>Object(i["unref"])(ha["openBrowser"])(Object(i["unref"])(v),"tx",Object(i["unref"])(s).chain||Object(i["unref"])(a)),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("viewTransition")),1)]),_:1})])],64))]),_:1},8,["modelValue"])])}}};o("38a7");const eh=wt()(Xb,[["__scopeId","data-v-5ab15fd3"]]);var th=eh;const oh={class:"font-18 color-fff font-weight-400"},ih={key:0,class:"empty"},lh={class:"flex items-center justify-start color-eaecef"},nh=["innerHTML"];var ah={__name:"myLiquidity",emits:["refresh"],setup(e,{emit:t}){const{t:o}=Object(pa["b"])(),l=Object(i["ref"])(!1),n=t;Object(i["watch"])(l,e=>{e&&m()});let a=Object(i["ref"])([]),s=Object(i["ref"])(""),c=Object(i["ref"])(!1);function r(){c.value=!0;let e=$m["a"].getters.netId;Object(De["Yd"])(e).then(e=>{a.value=(e||[]).filter(e=>""!==e.chain&&0!==e.value)}).finally(()=>{c.value=!1})}function d(e){}function u(){r(),n("refresh")}function m(){r()}return(e,t)=>{const n=Object(i["resolveComponent"])("el-empty"),r=Object(i["resolveComponent"])("el-image"),m=Object(i["resolveComponent"])("el-scrollbar"),b=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createElementVNode"])("button",{class:"border-none clickable color-3f80f7 button-text",type:"button",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>l.value=!0,["stop"]))},Object(i["toDisplayString"])(e.$t("myLiquidity")),1),Object(i["createVNode"])(b,{class:"dialog-zixuan dialog",modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e),width:"490px"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",oh,Object(i["toDisplayString"])(Object(i["unref"])(o)("selectToken")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["lq-container",e.$store.state.mode])},[Object(i["unref"])(c)||0!==Object(i["unref"])(a).length?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ih,[Object(i["withDirectives"])(Object(i["createVNode"])(n,{"image-size":100,image:"light"===e.$store.state.mode?Object(i["unref"])(Co.a):Object(i["unref"])(Io.a),description:e.$t("noLq")},null,8,["image","description"]),[[i["vShow"],Object(i["unref"])(a)&&0===Object(i["unref"])(a).length&&!Object(i["unref"])(c)]])])),Object(i["createVNode"])(m,{height:"500px","max-height":"calc(100vh - 200px)"},{default:Object(i["withCtx"])(()=>{var o;return[(null===(o=Object(i["unref"])(a))||void 0===o?void 0:o.length)>0?(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(Lm["a"]),{key:0,modelValue:Object(i["unref"])(s),"onUpdate:modelValue":t[1]||(t[1]=e=>Object(i["isRef"])(s)?s.value=e:s=e),accordion:"",border:!1,onChange:d},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(Object(i["unref"])(a),o=>(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["unref"])(Pm["a"]),{key:o.pair,name:o.pair,style:Object(i["normalizeStyle"])({"--van-collapse-item-content-background-color":o.pair===Object(i["unref"])(s)?"light"===e.$store.state.mode?"#F5F5F5":"#202429":"transparent","--van-cell-background-color":o.pair===Object(i["unref"])(s)?"light"===e.$store.state.mode?"#F5F5F5":"#202429":"transparent"})},{title:Object(i["withCtx"])(()=>{var e,l;return[Object(i["createElementVNode"])("div",lh,[Object(i["createVNode"])(r,{class:"w-20 h-20 round",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(e=o)||void 0===e?void 0:e.token0_logo_url}),lazy:""},{error:Object(i["withCtx"])(()=>t[3]||(t[3]=[Object(i["createElementVNode"])("img",{class:"token-icon w-20 h-20 round",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[4]||(t[4]=[Object(i["createElementVNode"])("img",{class:"token-icon w-20 h-20 round",src:"/icon-default.png"},null,-1)])),_:2},1032,["src"]),Object(i["createVNode"])(r,{class:"w-20 h-20 ml-4 mr-6 round",src:Object(i["unref"])(ha["formatIcon"])({logo_url:null===(l=o)||void 0===l?void 0:l.token1_logo_url}),lazy:""},{error:Object(i["withCtx"])(()=>t[5]||(t[5]=[Object(i["createElementVNode"])("img",{class:"token-icon w-20 h-20 round",src:"/icon-default.png"},null,-1)])),placeholder:Object(i["withCtx"])(()=>t[6]||(t[6]=[Object(i["createElementVNode"])("img",{class:"token-icon w-20 h-20 round",src:"/icon-default.png"},null,-1)])),_:2},1032,["src"]),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.token0_is_wmain_warpper?o.main_name:o.token0_symbol||""),1),t[7]||(t[7]=Object(i["createElementVNode"])("span",null,"/",-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.token1_is_wmain_warpper?o.main_name:o.token1_symbol||""),1),t[8]||(t[8]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("span",{class:"mr-5",innerHTML:`${Object(i["unref"])(ha["formatNumber3"])(o.value)} ($${Object(i["unref"])(ha["formatNumber3"])(Number(o.token0_price_usd||0)*Number(o.token0_value||0)+Number(o.token1_price_usd||0)*Number(o.token1_value||0))})`},null,8,nh)])]}),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(th,{lpInfo:o,onRefresh:u,"onUpdate:lpInfo":e=>o={...e}},null,8,["lpInfo","onUpdate:lpInfo"])]),_:2},1032,["name","style"]))),128))]),_:1},8,["modelValue"])):Object(i["createCommentVNode"])("",!0)]}),_:1})],2)]),_:1},8,["modelValue"])])}}};o("c08b");const sh=wt()(ah,[["__scopeId","data-v-24e365d9"]]);var ch=sh,rh=o("f23a"),dh=o("5206");function uh(e){return new Promise(t=>{setTimeout(t,e)})}var mh={name:"Liquidity",emits:["refresh"],components:{SelectToken:rm,SelectSwap:wm,Slippage:Am,MyLiquidity:ch,"van-field":rh["a"],"van-button":pd["a"],"van-icon":jt["a"],"van-form":zm["a"]},data(){return{utils:Ae["h"],ZERO_ADDRESS:Ki["n"],swaps:[],swap:{chain:"",name:"",show_name:"",factory_address:"",router_address:""},amount0:"",amount1:"",token0:{address:"",chain:""},token1:{address:"",chain:""},reserves:{},userBalanceTokens:[],tokenList:[],loading0:!1,loading1:!1,confirmSubmitVisible:!1,confirmTxVisible:!1,confirmTxStep:1,transaction:"",slippage:.5,loadingSubmit:!1,historyList:[],loadingHistory:!1,solanaLiquidityInfo:{},lastLp:["",""]}},computed:{chain(){return this.$store.getters.netId},walletAddress(){return this.$store.state.currentAccount},isApprove0(){var e;if("solana"===this.chain)return!0;let t=Ae["h"].parseUnits(this.amount0||"0",this.token0.decimals||0);return Fm["a"].from((null===(e=this.token0)||void 0===e?void 0:e.allowance)||"0").gte(t)},isApprove1(){var e;if("solana"===this.chain)return!0;let t=Ae["h"].parseUnits(this.amount1||"0",this.token1.decimals||0);return Fm["a"].from((null===(e=this.token1)||void 0===e?void 0:e.allowance)||"0").gte(t)},userTokens(){let e=[...this.userBalanceTokens.slice()],t=this.tokenList,o=t.slice().filter(t=>e.every(e=>e.id!==t.id)&&!("solana"===t.chain&&"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"===t.token));return t.slice().forEach(t=>{let o=e.find(e=>e.id===t.id);o&&(o.logo_url=t.logo_url)}),e=e.concat(o),e.length>0?e:t.slice()},routerAddress(){return this.swap.router_address},tips(){return this.reserves.pair===Ki["n"]?this.$t("createLpTip"):this.$t("addLpTip")},error(){var e,t;let o=this.token0,i=this.token1,l=this.reserves;if(null!==o&&void 0!==o&&o.address&&(null===o||void 0===o||null===(e=o.address)||void 0===e?void 0:e.toLowerCase())===(null===i||void 0===i||null===(t=i.address)||void 0===t?void 0:t.toLowerCase()))return 4;if(""===this.amount0||""===this.amount1)return l.pair===Ki["n"]?1:2;let n=new Pe.a(this.amount0||0),a=new Pe.a(o.balance||0),s=new Pe.a(this.amount1||0),c=new Pe.a(i.balance||0);return n.gt(a)||s.gt(c)?3:l.pair===Ki["n"]?-1:0},errorMessage(){let e={0:this.$t("add"),"-1":this.$t("create"),1:this.$t("create"),2:this.$t("add"),3:this.$t("insufficientBalance1"),4:this.$t("twoTokenCannotBeSame")};return e[this.error]||""},lpAmount(){var e;return""===this.amount0||""===this.amount1?"0":"0"===this.reserves.reserve0||"1"===this.reserves.reserve0?"-":Ae["h"].formatUnits(new Pe.a(this.amount0||0).times(new Pe.a(10).exponentiatedBy((null===(e=this.token0)||void 0===e?void 0:e.decimals)||0)).times(this.reserves.totalSupply||0).div(this.reserves.reserve0||1).toFixed(0),this.reserves.decimals||0)},disabled(){var e,t;return!this.isApprove0||!this.isApprove1||""===this.walletAddress||""===this.token0.address||void 0===this.token0.address||""===this.token1.address||void 0===this.token1.address||this.error>0||(null===(e=this.token0)||void 0===e||null===(e=e.address)||void 0===e?void 0:e.toLowerCase())===(null===(t=this.token1)||void 0===t||null===(t=t.address)||void 0===t?void 0:t.toLowerCase())}},methods:{init(){this.initLP(),this._getUserTokenList(),this._getTokenList(),this.getToken0Balance(),this.getToken1Balance(),this._getReserves(),this._getChainSwaps()},handleSelectSwap(e){this.swap=e,this.amount0="",this.amount1="",this.getToken0Balance(),this.getToken1Balance(),this._getReserves(),sessionStorage.LP_swap=JSON.stringify(e)},initLP(){let e=this.$store.state.tokenInfo,t={...this.$store.state.pair};t={...t,swap:t.amm,token0:t.token0_address,token1:t.token1_address};let o=t.chain,i=this.chain||this.$store.getters.netId;if(!i||!o||i===o){if(i&&i===o){let o=t.swap?Object(ha["formatSwapInfo"])(i,t.swap):null;this.token0={address:t.token0||"",chain:i||"",...t.token0===e.address?{...e}:{}},this.token1={address:t.token1||"",chain:i||"",...t.token1===e.address?{...e}:{}},this.swap={chain:i||"",name:t.swap||"",show_name:(null===o||void 0===o?void 0:o.show_name)||"",factory_address:(null===o||void 0===o?void 0:o.factory_address)||"",router_address:(null===o||void 0===o?void 0:o.router_address)||""}}if(!t.swap||i!==o){let e=sessionStorage.LP_swap?JSON.parse(sessionStorage.LP_swap):null;!this.swap.name&&e&&i===e.chain&&(this.swap=e)}if(!t.token0||i!==o){let e=sessionStorage.LP_token0?JSON.parse(sessionStorage.LP_token0):null;!this.token0.address&&e&&i===e.chain&&(this.token0=e)}if(!t.token1||i!==o){let e=sessionStorage.LP_token1?JSON.parse(sessionStorage.LP_token1):null;!this.token1.address&&e&&i===e.chain&&(this.token1=e)}}},handleSelectToken0(e){this.token0=e,this.amount0="",this.getToken0Balance(),this._getReserves()},handleSelectToken1(e){this.token1=e,this.amount1="",this.getToken1Balance(),this._getReserves()},_getChainSwaps(){var e,t;Object(De["Ob"])((null===(e=this.token0)||void 0===e?void 0:e.chain)||(null===(t=this.token1)||void 0===t?void 0:t.chain)||this.chain||"bsc").then(e=>{this.swaps=e||[]})},watchAmount0(){if("solana"===this.chain){var e,t,o;if(this.token0.address&&this.token1.address&&this.amount0&&!Number.isNaN(this.amount0)&&0!==Number(this.amount0))Object(dh["c"])({token0:this.token0.address,token1:this.token1.address,amount0:this.amount0,slippage:this.slippage,targetPoolInfo:null===(e=this.solanaLiquidityInfo)||void 0===e?void 0:e.targetPoolInfo,extraPoolInfo:null===(t=this.solanaLiquidityInfo)||void 0===t?void 0:t.extraPoolInfo,poolInfo:null===(o=this.solanaLiquidityInfo)||void 0===o?void 0:o.poolInfo}).then(e=>{var t,o;this.amount1=null===e||void 0===e||null===(t=e.anotherAmount)||void 0===t||null===(t=t.toFixed())||void 0===t||null===(o=t.replace)||void 0===o?void 0:o.call(t,/\.0$/,""),this.solanaLiquidityInfo=e}).catch(e=>{this.solanaLiquidityInfo={},Object(ha["handleError"])(e,"solana")});else this.amount1="";return}let i=this.reserves;if("0"!==i.reserve0&&"0"!==i.reserve1)if(i.reserve0&&i.reserve1&&this.amount0&&!Number.isNaN(this.amount0)&&0!==Number(this.amount0)){var l,n,a,s;let e=new Pe.a(i.reserve0),t=new Pe.a(i.reserve1),o=Number(null===(l=this.token0)||void 0===l?void 0:l.decimals)||0,c=Number(null===(n=this.token1)||void 0===n?void 0:n.decimals)||0,r=new Pe.a(this.amount0);this.amount1=null===(a=Ae["h"].formatUnits(t.times(r).times(10**o).div(e).toFixed(0),c))||void 0===a||null===(s=a.replace)||void 0===s?void 0:s.call(a,/\.0$/,"")}else this.amount1=""},watchAmount1(){if("solana"===this.chain){var e,t,o;if(this.token0.address&&this.token1.address&&this.amount1&&!Number.isNaN(this.amount1)&&0!==Number(this.amount1))Object(dh["c"])({token0:this.token0.address,token1:this.token1.address,amount1:this.amount1,slippage:this.slippage,targetPoolInfo:null===(e=this.solanaLiquidityInfo)||void 0===e?void 0:e.targetPoolInfo,extraPoolInfo:null===(t=this.solanaLiquidityInfo)||void 0===t?void 0:t.extraPoolInfo,poolInfo:null===(o=this.solanaLiquidityInfo)||void 0===o?void 0:o.poolInfo}).then(e=>{var t,o;this.amount1&&!Number.isNaN(this.amount1)&&0!==Number(this.amount1)?this.amount0=null===e||void 0===e||null===(t=e.anotherAmount)||void 0===t||null===(t=t.toFixed())||void 0===t||null===(o=t.replace)||void 0===o?void 0:o.call(t,/\.0$/,""):this.amount0="";this.solanaLiquidityInfo=e}).catch(e=>{this.solanaLiquidityInfo={},Object(ha["handleError"])(e,"solana")});else this.amount0="";return}let i=this.reserves;if("0"!==i.reserve0&&"0"!==i.reserve1)if(i.reserve0&&i.reserve1&&this.amount1&&!Number.isNaN(this.amount1)&&0!==Number(this.amount1)){var l,n,a;let e=new Pe.a(i.reserve0),t=new Pe.a(i.reserve1),o=Number(null===(l=this.token0)||void 0===l?void 0:l.decimals)||0,s=Number(null===(n=this.token1)||void 0===n?void 0:n.decimals)||0,c=new Pe.a(this.amount1);this.amount0=null===Ae["h"]||void 0===Ae["h"]||null===(a=Ae["h"].formatUnits)||void 0===a?void 0:a.call(Ae["h"],e.times(c).times(10**s).div(t).toFixed(0),o)}else this.amount0=""},handleMax0(){if(this.token0.address===Ki["i"]){let e=new Pe.a(this.token0.balance||this.token0.value||0).minus(.01);this.amount0=e.lte(0)?"0":e.toFixed()}else this.amount0=this.token0.balance||this.token0.value?new Pe.a(this.token0.balance||this.token0.value||0).toFixed():"";this.watchAmount0()},handleMax1(){if(this.token1.address===Ki["i"]){let e=new Pe.a(this.token1.balance||this.token1.value||0).minus(.01);this.amount1=e.lte(0)?"0":e.toFixed()}else this.amount1=this.token1.balance||this.token1.value?new Pe.a(this.token1.balance||this.token1.value||0).toFixed():"";this.watchAmount1()},_getUserTokenList(){let e=this.chain;Object(De["yc"])().then(t=>{var o,i,l;"solana"===e?this.userBalanceTokens=null===t||void 0===t?void 0:t.map(e=>({...e,value:e.balance})):this.userBalanceTokens=null===(o=(null===t||void 0===t||null===(i=t.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token})))||void 0===i||null===(l=i.filter)||void 0===l?void 0:l.call(i,e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag))||[])||void 0===o?void 0:o.filter(e=>!!Number(e.value));this.userBalanceTokens.length>0&&"tron"!==e&&"brc20"!==e&&"solana"!==e&&/^0x[0-9a-zA-Z]{40}$/.test(this.$store.state.currentAccount)&&Object(De["Hb"])(this.userBalanceTokens.map(e=>e.token||"")).then(e=>{var t,o;this.userBalanceTokens=null===(t=this.userBalanceTokens)||void 0===t||null===(o=t.map)||void 0===o||null===(o=o.call(t,(t,o)=>({...t,value:Ae["h"].formatUnits(e[o],t.decimals||0)})))||void 0===o?void 0:o.filter(e=>!!Number(e.value))})})},_getTokenList(){this.chain&&Object(De["xc"])(this.chain).then(e=>{this.tokenList=(null===e||void 0===e?void 0:e.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token})))||[]})},getToken0Balance(){var e,t;Object(De["wc"])((null===(e=this.token0)||void 0===e?void 0:e.address)||"",this.routerAddress,(null===(t=this.token0)||void 0===t?void 0:t.chain)||this.chain,this.walletAddress).then(e=>{this.token0={...this.token0,...e},sessionStorage.LP_token0=JSON.stringify(this.token0)})},getToken1Balance(){var e,t;Object(De["wc"])((null===(e=this.token1)||void 0===e?void 0:e.address)||"",this.routerAddress,(null===(t=this.token1)||void 0===t?void 0:t.chain)||this.chain,this.walletAddress).then(e=>{this.token1={...this.token1,...e},sessionStorage.LP_token1=JSON.stringify(this.token1)})},async _getReserves(e){let t=this.token0,o=this.token1,i=this.routerAddress,l=this.chain;if("solana"===l&&null!==t&&void 0!==t&&t.address&&null!==o&&void 0!==o&&o.address)return this.lastLp[0]===(null===t||void 0===t?void 0:t.address)&&this.lastLp[1]===(null===o||void 0===o?void 0:o.address)?(await uh(1e3),void this._getReserves()):(this.lastLp=[null===t||void 0===t?void 0:t.address,null===o||void 0===o?void 0:o.address],void Object(dh["b"])({token0:null===t||void 0===t?void 0:t.address,token1:null===o||void 0===o?void 0:o.address}).then(e=>{this.solanaLiquidityInfo=e,this.reserves=e.reserves}).catch(e=>{this.solanaLiquidityInfo={},this.reserves={}}).finally(()=>{this.lastLp=["",""]}));t.address&&o.address&&i&&t.address!==o.address&&Object(De["Yc"])(t.address,o.address,i,(null===t||void 0===t?void 0:t.chain)||(null===o||void 0===o?void 0:o.chain)||l||"bsc").then(i=>{if(this.reserves=i,"0"!==this.reserves.reserve0&&"0"!==this.reserves.reserve0&&(this.amount0?this.watchAmount0():this.amount1&&this.watchAmount1()),this.reserves.pair===Ki["n"]){let e=`${t.address}-${t.chain}`,i=`${o.address}-${o.chain}`;Object(De["Hd"])([e,i]).then(t=>{let o=t[e],l=t[i];this.token0={...this.token0,current_price_usd:o.current_price_usd},this.token1={...this.token1,current_price_usd:l.current_price_usd}})}e&&e()})},_approve0(){var e;this.loading0=!0,Object(De["n"])((null===(e=this.token0)||void 0===e?void 0:e.address)||"",this.routerAddress).then(e=>e.wait()).then(e=>{this.$notify({type:"success",message:this.$t("approveSuccess")}),this.getToken0Balance()}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loading0=!1})},_approve1(){var e;this.loading1=!0,Object(De["n"])((null===(e=this.token1)||void 0===e?void 0:e.address)||"",this.routerAddress).then(e=>e.wait()).then(e=>{this.$notify({type:"success",message:this.$t("approveSuccess")}),this.getToken1Balance()}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loading1=!1})},_addLiquidity(){var e,t,o,i;let l=Ae["h"].parseUnits(this.amount0||"0",this.token0.decimals||0).toString(),n=Ae["h"].parseUnits(this.amount1||"0",this.token1.decimals||0).toString();this.loadingSubmit=!0,this.confirmTxVisible=!0,this.confirmTxStep=1,"solana"!==this.chain?Object(De["i"])({token0:(null===(e=this.token0)||void 0===e?void 0:e.address)||"",token1:(null===(t=this.token1)||void 0===t?void 0:t.address)||"",amount0:l,amount1:n,slippage:this.slippage,router:this.routerAddress},(null===(o=this.token0)||void 0===o?void 0:o.chain)||(null===(i=this.token1)||void 0===i?void 0:i.chain)||this.chain).then(e=>(this.transaction=e.hash,""!==this.transaction&&(this.confirmSubmitVisible=!1,this.confirmTxStep=2),e.wait())).then(e=>{1===e.status?(this.amount0="",this.amount1="",this.getToken0Balance(),this.getToken1Balance(),this._getReserves(this._updateUserLp),this._getUserTokenList(),this.$emit("refresh"),this.$message.success(this.$t("addLqSuccess"))):this.$message.error(this.$t("addLqFailed"))}).catch(e=>{this.confirmTxVisible=!1,this.$f.handleError(e)}).finally(()=>{this.loadingSubmit=!1}):Object(dh["a"])(this.solanaLiquidityInfo).then(e=>(this.transaction=e.hash,""!==this.transaction&&(this.confirmSubmitVisible=!1,this.confirmTxStep=2),e.wait())).then(e=>{var t,o,i;Object(qm["g"])({hash:this.transaction,token0:null===(t=this.token0)||void 0===t?void 0:t.address,token1:null===(o=this.token1)||void 0===o?void 0:o.address,lpToken:null===(i=this.solanaLiquidityInfo)||void 0===i||null===(i=i.targetPoolInfo)||void 0===i?void 0:i.lpMint,parsedTransaction:e}),1===e.status?(this.amount0="",this.amount1="",this.getToken0Balance(),this.getToken1Balance(),this._getReserves(this._updateUserLp),this._getUserTokenList(),this.$emit("refresh"),this.$message.success(this.$t("addLqSuccess"))):this.$message.error(this.$t("addLqFailed"))}).catch(e=>{this.$f.handleError(e,"solana"),this.confirmTxVisible=!1}).finally(()=>{this.loadingSubmit=!1})},_updateUserLp(){var e,t;this.reserves.pair&&this.reserves.pair!==Ki["n"]&&Object(De["ef"])(this.reserves.pair,(null===(e=this.token0)||void 0===e?void 0:e.chain)||(null===(t=this.token1)||void 0===t?void 0:t.chain)||this.chain)},_getUserLpHistory(){let e=this.$store.getters.netId,t=this.$store.state.currentAccount;this.loadingHistory=!0,Object(De["Xd"])(e,t).then(e=>{this.historyList=e}).finally(()=>{this.loadingHistory=!1})},goMyLiquidity(){var e,t,o;let i=((null===(e=this.globalConfig)||void 0===e?void 0:e.lp_url)||"https://m.jfliquidity.xyz/add").replace("/add","");if(null!==(t=window)&&void 0!==t&&null!==(t=t.WKWebViewJavascriptBridge)&&void 0!==t&&t.callHandler)location.href=i;else if(null!==(o=window)&&void 0!==o&&null!==(o=o._tw_)&&void 0!==o&&o.openLp){var l;null===(l=window)||void 0===l||null===(l=l._tw_)||void 0===l||l.openLp("","","my_lp")}else location.href=i},alertTips(e,t){this.$messageBox.alert(t,e,{confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode}).then(()=>{})}}};o("6695");const bh=wt()(mh,[["render",Xu],["__scopeId","data-v-4960034f"]]);var hh=bh;const ph={style:{position:"relative"}};function vh(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("el-option"),c=Object(i["resolveComponent"])("el-select");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ph,[Object(i["createElementVNode"])("div",{class:"select-container clickable",onClick:t[0]||(t[0]=Object(i["withModifiers"])(t=>{var o,i;return null===(o=e.$f.refs)||void 0===o||null===(o=o.select)||void 0===o||null===(i=o.focus)||void 0===i?void 0:i.call(o)},["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.expiredTimeName),1),t[2]||(t[2]=Object(i["createElementVNode"])("i",{class:"select-token iconfont icon-collapse-down"},null,-1))]),Object(i["createVNode"])(c,{ref:"select",modelValue:a.expiredTime1,"onUpdate:modelValue":t[1]||(t[1]=e=>a.expiredTime1=e),placeholder:"Select",size:"small",style:{width:"80px",opacity:"0",position:"absolute",right:"0",top:"50%",transform:"translateY(-50%)"}},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.actions,e=>(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:e.value,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])}var Oh={name:"SolanaLimitExpired",props:{expiredTime:[Number,null]},emits:["update:visible","update:expiredTime"],data(){return{dialogVisible:!1}},computed:{actions(){let e=[{name:this.$t("never"),value:""},{name:this.$t("10min"),value:600},{name:this.$t("1h"),value:3600},{name:this.$t("1d"),value:86400},{name:this.$t("3d"),value:259200},{name:this.$t("7d"),value:604800}];return e.map(e=>e.value===this.expiredTime?{...e,color:"#286DFF "}:e)},expiredTimeName(){var e;return null===(e=this.actions.find(e=>e.value===(null===this.expiredTime?"":this.expiredTime)))||void 0===e?void 0:e.name},expiredTime1:{get(){return null===this.expiredTime?"":this.expiredTime},set(e){this.$emit("update:expiredTime",""===e?null:e)}}},methods:{onSelect(e){this.$emit("update:expiredTime",e.value),this.dialogVisible=!1}}};o("e217");const fh=wt()(Oh,[["render",vh],["__scopeId","data-v-43d89174"]]);var jh=fh,kh=o("5208"),gh=o("f5b4");Qn["a"].props.components.default=()=>({OpenIndicator:{render:()=>Object(i["h"])("svg",{innerHTML:'<path d="M952.0384 975.01866633L1648.187733 277.33333333a149.845333 149.845333 0 0 0-105.813333-256H149.905067a149.845333 149.845333 0 0 0-105.813334 256l696.32 697.685333a149.333333 149.333333 0 0 0 211.626667 0z" fill="#999999"></path>',viewBox:"0 0 1706 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"10"})}});const yh="2";let wh=null,_h=null,$h=null,Nh=null,Th=null,Vh=null;var xh={name:"Swap",components:{SelectSwapToken:$a,PercentStep:Ba,SlippageSet:Ga,SelectRouter:rs,ConfirmSwap:bc,ConfirmLimit:Or,LimitTxItem:fd,Liquidity:hh,"van-field":rh["a"],"van-count-down":Ao["a"],"van-button":pd["a"],"van-image":Um["a"],"van-icon":jt["a"],SolanaLimitExpired:jh},setup(){var e,t;let o=Object(Gi["useStorage"])("solanaTxs",[]),i=Object(Yi["g"])("solanaTxs1",o.value.slice()),l=Object(Yi["g"])("suiTxs",[]);return l.value=null===(e=l.value)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,e=>1===(null===e||void 0===e?void 0:e.is_merged)||1!==e.is_merged&&1e3*(null===e||void 0===e?void 0:e.time)<=Date.now()-864e5),{solanaTxs:i,suiTxs:l}},data(){var e;let[t,o]=this.$f.getAddressAndChainFromId((null===(e=this.$route.params)||void 0===e?void 0:e.id)||"",1);o!==this.$store.getters.netId&&(t="",o="");let i=localStorage.swapSlippage||"auto";return{LimitExpiredDays:Ki["d"],value:"",nativeToken:Ki["i"],baseToken:{token:{symbol:""},pairs:[]},baseTokenExtra:{},activeTab:0,selected:2,tokens:[],token1:{address:t||"",chain:o||"",balance:0,symbol:""},token2:{address:"",chain:"",balance:0,symbol:""},autoSlippageValue:yh,customSlippage:i,loadingAllowance:!1,allowance:0,loadingGetLimitOrder:!1,limitAllowance:0,limitOrders:[],limitToken1:{address:t||"",chain:o||"",balance:0,symbol:"",price:0},limitAmount1:"",limitToken2:{address:"",chain:"",balance:0,symbol:"",price:0},limitAmount2:"",tabActive1:"limit",userBalanceTokens:[],swapQuoteInfo:{},fromAmount:"",toAmount:"",quoteLoading:!1,isAmount:!0,swapPathList:[],listRouter:[],selectedRouterIndex:0,loadingApprove:!1,loadingSwap:!1,dialogListRouterVisible:!1,swapInfo:{fromToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},toToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},isAmountOut:!1},swapRouterPath:[],nativePrice:0,activeShow:1,dialogVisibleSwap:!1,loadingConfirmSwap:!1,gasPrice:"0",initTxs:[],loadingLimit:!1,loadingLimitAllowance:!1,limitQuoteLoading:!1,limitPrice:"",triggerPrice:"",limitSlippage:localStorage.limitSlippage||"10",dialogVisibleLimit:!1,loadingConfirmLimit:!1,quoteLimitLoading:!1,loadingLimitApprove:!1,limitGasU:"0",limitInfo:{fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:t||"",chain:o||"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:""},isCurrentToken:!1,loadingLpHistory:!1,lpHistoryList:[],solanaQuoteResponse:{},swapTokenPrice:[0,0],quoteSolanaPreParams:{},isTax:!1,solanaSwapBaseTokenPrice:0,solanaSlippage:localStorage.solanaSlippage||"9",priceImpactSolana:0,limitSolanaPrice:0,solanaLimitExpiredTime:null,limitSolanaError:"",getSolanaLimitOrderTime:0,limitSolanaPriceU:0,isTron:!!window.tronLink,isERC314:!1,isPump:!1,isMoonshot:!1,isFourMeme:!1,isFlap:!1,amm:"",isSunPump:0,isDyorswapfun:!1,suiQuoteResponse:{},priceImpactSui:0,tonSlippage:localStorage.tonSlippage||"2",isCookPump:!1,isPopMeFun:!1}},computed:{tabs(){return[{name:this.$t("buy"),value:0},{name:this.$t("sell"),value:1},{name:this.$t("addLiquidity"),value:"liquidity"}]},tabs1(){return[{name:this.$t("historyLimitOrder"),value:"limit"}]},fromToken(){return 1===this.activeTab?this.token1:0===this.activeTab?this.token2:this.token1},toToken(){return 1===this.activeTab?this.token2:(this.activeTab,this.token1)},types(){var e,t;if(this.isERC314||this.isPump||this.isMoonshot||this.isFourMeme||this.isFlap||this.isSunPump>0||this.isDyorswapfun||this.isCookPump||this.isPopMeFun)return[{name:this.$t("swapT"),value:2}];let o=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(e=e.id)||void 0===e||null===(t=e.split)||void 0===t||null===(t=t.call(e,"-"))||void 0===t?void 0:t[1])||"";return"solana"===o?[{name:this.$t("swapT"),value:2},{name:this.$t("limitT"),value:0}]:[{name:this.$t("swapT"),value:2},{name:this.$t("limitT"),value:0},{name:this.$t("stopLimit"),value:1}]},swapTokens(){var e,t,o,i,l;let n=[...(null===(e=this.userBalanceTokens)||void 0===e||null===(t=e.slice)||void 0===t?void 0:t.call(e))||[]];return null!==n&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.chain&&(null===n||void 0===n||null===(i=n[0])||void 0===i?void 0:i.chain)!==(null===(l=this.tokens)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.chain)?n:(this.tokens.slice().forEach(e=>{let t=n.find(t=>t.token+"-"+t.chain===e.token+"-"+e.chain);t?t.logo_url=e.logo_url:n.push(e)}),n.length>0?n:this.tokens.slice())},slippage(){return"auto"===this.customSlippage?this.autoSlippageValue:this.customSlippage},chain(){var e;let t=this.$store.getters.netId||(null===(e=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===e?void 0:e.chain)||"";return t},isApprove(){let e=["solana","ton","sui"];if(e.includes(this.chain))return!0;if(!this.allowance)return!1;let t=this.fromToken.decimals||0;return Ae["h"].parseUnits(new Pe.a(this.fromAmount||0).toFixed(t),t).lte(this.allowance)},isLimitApprove(){let e=["solana","ton","sui"];if(e.includes(this.chain))return!0;if(!this.limitAllowance)return!1;let t=0===this.activeTab?this.limitToken2:this.limitToken1,o=t.decimals||0,i=0===this.activeTab?this.limitAmount2:this.limitAmount1;return Ae["h"].parseUnits(new Pe.a(i||0).toFixed(o),o).lte(this.limitAllowance)},swapButtonColor(){var e,t,o,i;return this.$store.state.currentAccount&&(window.ethereum||this.isTron||window.tronLink)?null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},limitButtonColor(){return this.$store.state.currentAccount&&window.ethereum?0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},priceImpactV(){var e;if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";let t=this.$store.getters.netId||(null===(e=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===e?void 0:e.chain)||"";if("solana"===t)return new Pe.a(this.priceImpactSolana||0);if("sui"===t)return new Pe.a(this.priceImpactSui||0);let o=this.swapQuoteInfo.routerPath,i=(null===o||void 0===o?void 0:o.length)>0?null===o||void 0===o?void 0:o[0]:null,l=(null===o||void 0===o?void 0:o.length)>0?null===o||void 0===o?void 0:o[o.length-1]:null;if(i&&l){let e=this.swapQuoteInfo.from_price,t=this.swapQuoteInfo.to_price,o=Ae["h"].formatUnits(i.amount,i.decimals),n=Ae["h"].formatUnits(l.amount,l.decimals);return new Pe.a(o).times(e).div(new Pe.a(n).times(t)).minus(1).abs()}return""},priceImpact(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},priceImpactColor(){var e,t,o,i,l,n;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":null!==(l=this.priceImpactV)&&void 0!==l&&null!==(n=l.gt)&&void 0!==n&&n.call(l,.05)?"#f8be46":""},txs(){var e,t;let o="solana"===this.chain?null===(e=this.solanaTxs)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,e=>e.wallet_address===this.$store.state.currentAccount||!e.wallet_address):this.initTxs;if(this.isCurrentToken){var i;let e=this.token1.address,t=this.token1.chain,l=null===(i=this.$store.state)||void 0===i||null===(i=i.chainConfig)||void 0===i?void 0:i[t],n=null===l||void 0===l?void 0:l.wmainWrapper;return e=e===Ki["i"]?n:e,null===o||void 0===o?void 0:o.filter(t=>t.from_address===e||t.to_address===e||(e===Ki["i"]||e===n)&&(t.from_address===Ki["i"]||t.from_address===n||t.to_address===Ki["i"]||t.to_address===n))}return o},filterLimitOrders(){if(this.isCurrentToken){var e;let t=this.limitToken1.address;return null===(e=this.limitOrders)||void 0===e?void 0:e.filter(e=>e.target_token===t)}return this.limitOrders},taxStr(){var e,t,o,i,l;let n=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.totalTax)||((null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.total_sell_tax)||0)+((null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.total_buy_tax)||0);return n>0?`(${this.$t("tax")}: ${this.$f.formatNumber3(n,1)}%)`:0===this.activeTab&&(null===(i=this.baseTokenExtra)||void 0===i?void 0:i.buy_tax)>0?`(${this.$t("tax")}: ${this.$f.formatNumber3(null===(a=this.baseTokenExtra)||void 0===a?void 0:a.buy_tax,1)}%)`:1===this.activeTab&&(null===(l=this.baseTokenExtra)||void 0===l?void 0:l.sell_tax)>0?`(${this.$t("tax")}: ${this.$f.formatNumber3(null===(s=this.baseTokenExtra)||void 0===s?void 0:s.sell_tax,1)}%)`:"";var a,s},disabled1(){var e;if(!Number(this.limitPrice))return!0;let t=null===(e=this.baseToken)||void 0===e||null===(e=e.token)||void 0===e?void 0:e.current_price_usd;return 1===this.activeTab&&this.limitPrice<t},disabled2(){var e;if(!Number(this.limitPrice))return!0;let t=null===(e=this.baseToken)||void 0===e||null===(e=e.token)||void 0===e?void 0:e.current_price_usd;return 0===this.activeTab&&this.limitPrice>t},estimatedFee(){let e=this.swapInfo.gasValue;if(!e)return"0";let t=this.gasPrice,o=this.nativePrice;return this.$f.formatNumber2(new Pe.a(e.toString()).times(o).times(t).div(String(10**18)).toFixed()||"0",2)},isViridian(){var e;return"viridian"===(null===(e=this.baseToken)||void 0===e||null===(e=e.pairs[0])||void 0===e?void 0:e.amm)||!1},isPumpCanSwap(){let e=(this.isPump||this.isMoonshot)&&"So11111111111111111111111111111111111111112"!==this.token2.address&&"solana"===this.token2.chain,t=(this.isFourMeme||this.isFlap)&&this.token2.address!==Ki["i"]&&"bsc"===this.token2.chain,o=this.isSunPump>0&&this.token2.address!==Ki["i"];return!e&&!t&&!o},isOnlyGetAmountsOut(){var e,t,o,i,l;let n=["viridian","aerodrome","flapswap"],a=(null===(e=this.baseToken)||void 0===e||null===(e=e.pairs)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.amm)&&(null===(t=["fourmeme","fourmemev2"])||void 0===t?void 0:t.includes(null===(o=this.baseToken)||void 0===o||null===(o=o.pairs)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.amm)),s=(null===(i=this.baseToken)||void 0===i||null===(i=i.pairs)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.amm)&&n.includes(null===(l=this.baseToken)||void 0===l||null===(l=l.pairs)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.amm);return"ton"===this.chain||"sui"===this.chain||s||a||this.isDyorswapfun||this.isCookPump||this.isPopMeFun}},watch:{"$store.state.id"(e){e&&(this.fromAmount="",this.toAmount="",this.init())},"$store.getters.netId"(e){e&&this.init()},types(e){let t=(e||[]).some(e=>e.value===this.selected);var o;t||(this.selected=(null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.value)||2)},selected(){var e,t;2===this.selected?(null===(e=this.$refs)||void 0===e||null===(e=e.percentStep)||void 0===e||null===(t=e.handleClick)||void 0===t||t.call(e,0),this.fromAmount="",this.toAmount="",this.getAllowance(),this.tabActive1="swap"):0===this.selected||1===this.selected?(this.supportChainLimit(),this.getLimitAllowance(),"solana"!==this.chain?(this.limitPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.triggerPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):""):this.limitSolanaPriceU=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.tabActive1="limit",this.quoteLimitSolana()):3===this.selected&&(this.supportChainLimit(),this.getLimitAllowance(),this.tabActive1="noGas");this.activeShow=1},"$store.state.currentAccount"(e){e&&(this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getLimitAllowance(),this.getLimitOrder())}},mounted(){this.init()},methods:{async init(){var e;let t=sessionStorage.swap_token1?JSON.parse(sessionStorage.swap_token1):"",[o,i]=this.$f.getAddressAndChainFromId(null===(e=this.$route.params)||void 0===e?void 0:e.id,1),l=this.$store.getters.netId;o&&(o!==this.token1.address||t&&t.address!==o)?(this.token1={address:o||"",chain:i||"",balance:0,symbol:""},this.limitToken1={...this.token1}):o||!t||l!==t.chain||this.token1.address||(this.limitToken1={...this.swap_token1});let n=sessionStorage.swap_token2?JSON.parse(sessionStorage.swap_token2):"";var a,s;(n&&l===n.chain&&!this.token2.address&&(this.token2={...n},this.limitToken2={...n}),"TronLink"!==localStorage.currentWallet||window.tronLink||(await new Promise(e=>setTimeout(e,1500)),this.isTron=!!window.tronLink),this.getInitData(),"liquidity"===this.activeTab)&&(null===(a=this.$refs)||void 0===a||null===(a=a.liquidity)||void 0===a||null===(s=a.init)||void 0===s||s.call(a));this.getUserLpHistory()},getInitData(){this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected||this.supportChainLimit(),this.getLimitAllowance(),this.getLimitOrder()},getUserLpHistory(){let e=this.$store.getters.netId,t=this.$store.state.currentAccount;this.loadingLpHistory=!0,Object(De["Xd"])(e,t).then(e=>{this.lpHistoryList=e}).finally(()=>{this.loadingLpHistory=!1})},handleWalletAddress(){window.ethereum||this.$messageBox.alert(this.$t("browserWalletNotDetected"),this.$t("tips"),{confirmButtonText:this.$t("confirm"),customClass:this.$store.state.mode})},switchTab(e){var t;if(this.activeTab=e,"liquidity"===e&&this.$nextTick(()=>{var e,t;null===(e=this.$refs)||void 0===e||null===(e=e.liquidity)||void 0===e||null===(t=e.init)||void 0===t||t.call(e)}),2===this.selected)null===(t=this.$refs)||void 0===t||null===(t=t.percentStep)||void 0===t||t.handleClick(0),this.fromAmount="",this.toAmount="",this.getAllowance();else if(0===this.selected||1===this.selected){var o;null===(o=this.$refs)||void 0===o||null===(o=o.percentStep1)||void 0===o||o.handleClick(0),this.limitAmount1="",this.limitAmount2="",this.getLimitAllowance(),this.getBaseToken()}},getBaseToken(){var e;let t=this.token1.address,o=this.token1.chain;if(!t||!o)return;let i=t+"-"+o;var l,n,a,s;(this.token1.address&&(t=this.token1.address),this.token1.chain&&(o=this.token1.chain),this.token1.address===(null===(e=this.$store.state.tokenInfo)||void 0===e||null===(e=e.token)||void 0===e?void 0:e.token))&&(this.baseToken={...this.$store.state.tokenInfo},this.token1={...this.token1,address:null===(l=this.baseToken)||void 0===l||null===(l=l.token)||void 0===l?void 0:l.token,...null===(n=this.baseToken)||void 0===n?void 0:n.token},this.limitToken1={...this.limitToken1,address:null===(a=this.baseToken)||void 0===a||null===(a=a.token)||void 0===a?void 0:a.token,...null===(s=this.baseToken)||void 0===s?void 0:s.token});if(t&&o){var c;let e=t+"-"+o,l=null===(c=this.$store.state)||void 0===c||null===(c=c.chainConfig)||void 0===c?void 0:c[o],n=null===l||void 0===l?void 0:l.wmainWrapper,a=null===l||void 0===l?void 0:l.mainName;t===Ki["i"]&&o&&n&&(e=n+"-"+o);let s=Object(De["zc"])(e).then(async i=>{var l,n,s,c,r,d,u,m,b,h,p;let v=null!==(l=i.data)&&void 0!==l?l:i;this.baseToken={...v,...t===Ki["i"]?{token:{...i.token,token:t,symbol:a,logoURI:this.$f.formatIcon(e)}}:{}},this.token1={...this.token1,address:null===(n=this.baseToken)||void 0===n||null===(n=n.token)||void 0===n?void 0:n.token,...null===(s=this.baseToken)||void 0===s?void 0:s.token},sessionStorage.swap_token1=JSON.stringify(this.token1),this.limitToken1={...this.limitToken1,address:null===(c=this.baseToken)||void 0===c||null===(c=c.token)||void 0===c?void 0:c.token,...null===(r=this.baseToken)||void 0===r?void 0:r.token},"solana"===o?this.limitSolanaPriceU=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"":(this.limitPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.triggerPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"");let O=null===i||void 0===i||null===(d=i.pairs)||void 0===d?void 0:d[0],f=null===O||void 0===O?void 0:O.pair;var j;if(!f||"moonshot"===(null===O||void 0===O?void 0:O.amm)||null!==O&&void 0!==O&&null!==(u=O.amm)&&void 0!==u&&u.includes("fourmeme")||"flapswap"===(null===O||void 0===O?void 0:O.amm)||"sunpump"===(null===O||void 0===O?void 0:O.amm)||"dyorswapfun"===(null===O||void 0===O?void 0:O.amm)||"cookpump"===(null===O||void 0===O?void 0:O.amm)||"popmefun"===(null===O||void 0===O?void 0:O.amm)||(null===O||void 0===O?void 0:O.target_token)!==f&&!new RegExp(null===O||void 0===O?void 0:O.target_token,"i").test(f))this.isERC314=!1;else if(this.isERC314=!0,this.token2.address!==Ki["i"]&&(null===(j=this.tokens)||void 0===j?void 0:j.length)>0){var k;let e={...null===(k=this.tokens)||void 0===k||null===(k=k.slice())||void 0===k?void 0:k.find(e=>e.address===Ki["i"])};this.token2={...e},setTimeout(()=>{this.handleSelectToken2(e)},1e3)}"moonshot"===(null===O||void 0===O?void 0:O.amm)?this.isMoonshot=!0:this.isMoonshot=!1,null!==O&&void 0!==O&&null!==(m=O.amm)&&void 0!==m&&m.includes("fourmeme")?this.isFourMeme=!0:this.isFourMeme=!1,"dyorswapfun"!==(null===O||void 0===O?void 0:O.amm)||"xlayer"!==(null===O||void 0===O?void 0:O.chain)&&"gatelayer"!==(null===O||void 0===O?void 0:O.chain)?this.isDyorswapfun=!1:this.isDyorswapfun=!0,"flapswap"===(null===O||void 0===O?void 0:O.amm)?this.isFlap=!0:this.isFlap=!1;let g=["TPeoxx1VhUMnAUyjwWfximDYFDQaxNQQ45","TXL6rJbvmjD46zeN1JssfgxvSo99qC8MRT","TAwAg9wtQzTMFsijnSFotJrpxhMm3AqW1d"];return"sunpump"===(null===O||void 0===O?void 0:O.amm)?this.isSunPump=1:null!==i&&void 0!==i&&null!==(b=i.pairs)&&void 0!==b&&b.some(e=>"sunpump"===e.amm)||null!==g&&void 0!==g&&null!==(h=g.includes)&&void 0!==h&&h.call(g,t)?this.isSunPump=2:this.isSunPump=0,null!==O&&void 0!==O&&null!==(p=O.amm)&&void 0!==p&&p.includes("cookpump")?this.isCookPump=!0:this.isCookPump=!1,"popmefun"===(null===O||void 0===O?void 0:O.amm)?this.isPopMeFun=!0:this.isPopMeFun=!1,this.amm=null===O||void 0===O?void 0:O.amm,this.getSolanaPumpInfo().catch(async()=>!1),this.quoteLimitSolana(),i}),r=Object(De["Dd"])(i).then(async e=>(this.baseTokenExtra={...e,buy_tax:Number(Number(e.buy_tax).toFixed(2)),sell_tax:Number(Number(e.sell_tax).toFixed(2))},this.handleTaxSlippage(),e));Promise.all([s,r]).finally(()=>{})}},getUserTokenList(){let e=this.$store.getters.netId||"bsc";this.$store.state.currentAccount&&Object(De["ae"])(e).then(t=>{var o,i,l,n;"solana"===e?this.userBalanceTokens=null===t||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,e=>({...e,value:e.balance})):this.userBalanceTokens=null===(i=(null===t||void 0===t||null===(l=t.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token})))||void 0===l||null===(n=l.filter)||void 0===n?void 0:n.call(l,e=>(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag))||[])||void 0===i?void 0:i.filter(e=>!!Number(e.value));this.userBalanceTokens.length>0&&"solana"!==e&&"sui"!==e&&(/^0x[0-9a-zA-Z]{40}$/.test(this.$store.state.currentAccount)||Object(Ki["r"])(this.$store.state.currentAccount))&&Object(De["Hb"])(this.userBalanceTokens.map(e=>e.token||""),e).then(e=>{var t,o;this.userBalanceTokens=null===(t=this.userBalanceTokens)||void 0===t||null===(o=t.map)||void 0===o||null===(o=o.call(t,(t,o)=>({...t,value:Ae["h"].formatUnits(e[o],t.decimals||0)})))||void 0===o?void 0:o.filter(e=>!!Number(e.value))})})},getAllowance(){let e=this.$store.getters.netId;if("solana"!==e){if(e&&e===this.fromToken.chain&&this.fromToken.address){var t;let o=this.isFourMeme?null===(t=this.swapQuoteInfo)||void 0===t||null===(t=t.quoteResult)||void 0===t?void 0:t.tokenManager:this.$f.getSwapContract(this.$store.getters.netId),i=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][this.isSunPump];o=i||o,"xlayer"===e&&this.isDyorswapfun&&(o="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"gatelayer"===e&&this.isDyorswapfun&&(o="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617"),"juchain"===e&&this.isCookPump&&(o="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4"),"popchain"===e&&this.isPopMeFun&&(o="0x198C8099E0c2CE323a5513769e294f349B015cEE"),this.loadingAllowance=!0,Object(De["m"])(this.fromToken.address,o).then(e=>{this.allowance=e.toString()}).finally(()=>{this.loadingAllowance=!1})}}else this.allowance=Ki["g"]},getSwapTokenList(){var e,t,o;let i=(null===(e=this.token1)||void 0===e?void 0:e.chain)||(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id,1))||void 0===t?void 0:t.chain)||this.$store.getters.netId;Object(De["ud"])(i).then(e=>{var t,o,l,n,a;(this.tokens=(null===e||void 0===e?void 0:e.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,decimals:e.token===Ki["i"]&&"solana"===i?9:e.decimals})))||[],"solana"===i)&&(this.tokens=null===(t=this.tokens)||void 0===t||null===(o=t.filter)||void 0===o?void 0:o.call(t,e=>e.token!==Ki["i"]).sort((e,t)=>"So11111111111111111111111111111111111111112"===e.token?-1:1));"sui"===i&&(this.tokens=null===(l=this.tokens)||void 0===l||null===(n=l.filter)||void 0===n||null===(n=n.call(l,e=>e.token!==Ki["i"]))||void 0===n||null===(a=n.map)||void 0===a?void 0:a.call(n,e=>({...e,token:"0x2::sui::SUI"===e.token?Ki["i"]:e.token,address:"0x2::sui::SUI"===e.token?Ki["i"]:e.token})).sort((e,t)=>e.token===Ki["i"]?-1:1));const s=this.token1.address===this.token2.address,c=(this.isERC314||this.isFourMeme||this.isFlap||this.isSunPump>0||this.isDyorswapfun||this.isCookPump||this.isPopMeFun)&&this.token2.address!==Ki["i"],r=(this.isPump||this.isMoonshot)&&"solana"===i&&"So11111111111111111111111111111111111111112"===this.token2.address,d="sui"===i&&"0x2::sui::SUI"!==this.token2.address&&this.token2.address!==Ki["i"];if((!this.token2.address||s||this.token2.chain!==i||c||r||d)&&this.tokens.length>0){let e=this.tokens.findIndex(e=>/USDT/.test(e.symbol));e=e<0?this.tokens.findIndex(e=>/USD/.test(e.symbol)):e,e=e<0?0:e;let t=this.tokens[e];var u;if(this.token1.address===t.address)t=0===e&&null!==(u=this.tokens[1])&&void 0!==u?u:this.tokens[0];if(this.isERC314||this.isPump||this.isMoonshot||this.isFourMeme||this.isFlap||this.isSunPump>0||d||this.isDyorswapfun||this.isCookPump||this.isPopMeFun){var m,b;let e=null===(m=this.tokens)||void 0===m||null===(b=m.slice)||void 0===b?void 0:b.call(m).find(e=>e.address===Ki["i"]||"So11111111111111111111111111111111111111112"===e.address||"0x2::sui::SUI"===e.address);this.token2={...e}}else this.token2={...t}}if((!this.limitToken2.address||this.limitToken1.address===this.limitToken2.address||this.token2.chain!==i)&&this.tokens.length>0){let e=this.tokens.findIndex(e=>/USDT/.test(e.symbol));e=e<0?this.tokens.findIndex(e=>/USD/.test(e.symbol)):e,e=e<0?0:e;let t=this.tokens[e];var h;if(this.limitToken1.address===t.address)t=0===e&&null!==(h=this.tokens[1])&&void 0!==h?h:this.tokens[0];this.limitToken2={...t}}this.getTokenDetails()})},getTokenDetails(){Promise.all([this.getToken2Info(),this.getToken1Info()]).then(()=>{0===this.activeTab?this.allowance=this.token2.allowance||"0":this.allowance=this.token1.allowance||"0"})},getToken1Info(){var e,t;return Object(De["Bd"])(null===(e=this.token1)||void 0===e?void 0:e.address,null===(t=this.token1)||void 0===t?void 0:t.chain,this.$f.getSwapContract(this.$store.getters.netId)).then(async e=>{var t,o;if(null!==e&&void 0!==e&&e.address)return this.token1={...this.token1,...e},sessionStorage.swap_token1=JSON.stringify(this.token1),this.limitToken1={...this.limitToken1,...e},this.userBalanceTokens=null===(t=this.userBalanceTokens)||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,t=>(t.token===this.token1.address&&(t={...t,...e,value:e.balance,value_decimal:e.balance}),t)),e})},getToken2Info(){var e,t;return Object(De["Bd"])(null===(e=this.token2)||void 0===e?void 0:e.address,null===(t=this.token2)||void 0===t?void 0:t.chain,this.$f.getSwapContract(this.$store.getters.netId)).then(async e=>{var t,o;if(null!==e&&void 0!==e&&e.address)return this.token2={...this.token2,...e},sessionStorage.swap_token2=JSON.stringify(this.token2),this.limitToken2={...this.limitToken2,...e},this.userBalanceTokens=null===(t=this.userBalanceTokens)||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,t=>(t.token===this.token2.address&&(t={...t,...e,value:e.balance,value_decimal:e.balance}),t)),e})},getUserAllTxs(e=null){let t=this.$store.state.currentAccount;t&&(this.txsLoading=!0,Object(De["Sd"])().then(t=>{var o,i,l,n;let a=Array.isArray(t)?t:[],s=e&&!(null!==a&&void 0!==a&&null!==(o=a.some)&&void 0!==o&&o.call(a,t=>t.transaction===e.transaction))&&Date.now()-1e3*e.time<6e5;s&&setTimeout(()=>{this.getUserAllTxs(e)},1e4),a.length>0&&(this.initTxs=(null===a||void 0===a?void 0:a.map(e=>e.id?{...e}:{...e,id:e.transaction}))||[]),!s||null!==(i=(l=this.initTxs).some)&&void 0!==i&&i.call(l,t=>t.transaction===e.transaction)||this.initTxs.unshift(e);let c=[],r={};null===a||void 0===a||null===(n=a.forEach)||void 0===n||n.call(a,e=>{r[e.from_address]||(c.push({address:e.from_address,symbol:e.from_symbol,chain:e.chain}),r[e.from_address]=!0),r[e.to_address]||(c.push({address:e.to_address,symbol:e.to_symbol,chain:e.chain}),r[e.to_address]=!0)}),this.txsTokens=c,sessionStorage.txsTokens=JSON.stringify(c||[])}).finally(()=>{this.txsLoading=!1}))},supportChain(){if("Token"===this.$route.name){var e,t,o;let i=this.$store.getters.netId||"",l=Object.keys(Ki["v"]).concat(["solana","sui"]),n=this.token1.chain,a=this.token2.chain;if(n&&(null===l||void 0===l||null===(e=l.includes)||void 0===e||!e.call(l,n)))return!1;if(a&&(null===l||void 0===l||null===(t=l.includes)||void 0===t||!t.call(l,a)))return!1;if(!i&&this.$store.state.chainId)return!1;if(i&&(null===l||void 0===l||null===(o=l.includes)||void 0===o||!o.call(l,i)))return!1;if(i!==n||i!==a)return!1}return!0},checkSupportChainMessage(){if("Token"===this.$route.name){var e,t,o,i;let a=this.$store.getters.netId||"",s=Object.keys(Ki["v"]).concat(["solana"]),c=this.$store.state.chainConfig||Wi["a"].get("chainConfig"),r=null===c||void 0===c||null===(e=c[a])||void 0===e?void 0:e.name,d=this.token1.chain,u=this.token2.chain;var l,n;if(d&&(null===s||void 0===s||null===(t=s.includes)||void 0===t||!t.call(s,d)))return this.$t("noSupportChain",{chain:null===c||void 0===c||null===(l=c[d])||void 0===l?void 0:l.name});if(u&&(null===s||void 0===s||null===(o=s.includes)||void 0===o||!o.call(s,u)))return this.$t("noSupportChain",{chain:null===c||void 0===c||null===(n=c[u])||void 0===n?void 0:n.name});if(!a&&this.$store.state.chainId)return this.$t("noSupportChain",{chain:r});if(a&&(null===s||void 0===s||null===(i=s.includes)||void 0===i||!i.call(s,a)))return this.$t("noSupportChain",{chain:r});if(a!==d&&d||a!==u&&u)return this.$t("chainNotSame1");if(d!==u)return this.$t("tokenNoSameChain")}return""},alertSupportChainTips(e,t=!1){var o;t?this.$messageBox.confirm(e,"",{confirmButtonText:null!==(o=window)&&void 0!==o&&null!==(o=o._tw_)&&void 0!==o&&o.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel"),customClass:this.$store.state.mode}).then(()=>{var e,t;null!==(e=window)&&void 0!==e&&null!==(e=e._tw_)&&void 0!==e&&e.appSwitchChain&&(null===(t=window)||void 0===t||null===(t=t._tw_)||void 0===t||t.appSwitchChain())}):this.$messageBox.alert(e,"",{confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode}).then(()=>{})},supportChainLimit(){if("Token"===this.$route.name){var e,t,o,i,l;let n=this.$store.getters.netId||"",a=this.limitToken1.chain,s=this.limitToken2.chain,c=Object.keys(Ki["s"]).concat("solana");if(a&&(null===c||void 0===c||null===(e=c.includes)||void 0===e||!e.call(c,a)))return!1;if(s&&(null===c||void 0===c||null===(t=c.includes)||void 0===t||!t.call(c,s)))return!1;if(!n&&this.$store.state.chainId)return!1;if(null!==(o=this.$store.state.currentAccount)&&void 0!==o&&null!==(i=o.startsWith)&&void 0!==i&&i.call(o,"T"))return!1;if(n&&(null===c||void 0===c||null===(l=c.includes)||void 0===l||!l.call(c,n)))return!1;if(n!==a||n!==s)return!1}return!0},checkSupportChainLimitMessage(){if("Token"===this.$route.name){var e,t,o,i,l;let s=this.$store.getters.netId||"",c=Object.keys(Ki["s"]).concat("solana"),r=this.$store.state.chainConfig||Wi["a"].get("chainConfig"),d=r[s].name,u=this.token1.chain,m=this.token2.chain;var n,a;if(u&&(null===c||void 0===c||null===(e=c.includes)||void 0===e||!e.call(c,u)))return this.$t("noSupportChain",{chain:null===r||void 0===r||null===(n=r[u])||void 0===n?void 0:n.name});if(m&&(null===c||void 0===c||null===(t=c.includes)||void 0===t||!t.call(c,m)))return this.$t("noSupportChain",{chain:null===r||void 0===r||null===(a=r[m])||void 0===a?void 0:a.name});if(!s&&this.$store.state.chainId)return this.$t("noSupportChain",{chain:d});if(null!==(o=this.$store.state.currentAccount)&&void 0!==o&&null!==(i=o.startsWith)&&void 0!==i&&i.call(o,"T"))return this.$t("noSupportChain",{chain:"TRON"});if(s&&(null===c||void 0===c||null===(l=c.includes)||void 0===l||!l.call(c,s)))return this.$t("noSupportChain",{chain:d});if(s!==u&&u||s!==m&&m)return this.$t("chainNotSame1");if(u!==m)return this.$t("tokenNoSameChain")}return!0},getLimitAllowance(){let e=0===this.activeTab?this.limitToken2:this.limitToken1;if(this.$store.getters.netId&&this.$store.getters.netId===e.chain&&e.address){let t=e.chain||this.$store.getters.netId||"bsc";if("solana"===t)return;let o=Ki["s"][t];this.loadingLimitAllowance=!0,Object(De["m"])(e.address,o).then(e=>{this.limitAllowance=e.toString()}).finally(()=>{this.loadingLimitAllowance=!1})}},getLimitOrder(e,t){if(this.$store.getters.netId){let o=this.limitToken1.chain||this.$store.getters.netId||"bsc";if("solana"===o)return void this.getSolanaLimitOrder(e,t);this.loadingGetLimitOrder=!0,Object(De["uc"])({chain:o}).then(e=>{this.limitOrders=e}).finally(()=>{setTimeout(()=>{this.loadingGetLimitOrder=!1},800)})}},getSolanaLimitOrder(e,t=1){if("solana"===this.$store.getters.netId)return this.loadingGetLimitOrder=!0,Promise.all([Object(De["id"])({wallet:this.$store.state.currentAccount}),Object(De["jd"])({wallet:this.$store.state.currentAccount,take:100}),Object(De["ld"])({wallet:this.$store.state.currentAccount})]).then(async o=>{var i,l,n,a,s,c,r,d,u,m,b,h;let p=null===o||void 0===o||null===(i=o[0])||void 0===i||null===(l=i.map)||void 0===l?void 0:l.call(i,e=>{var t,o;return[(null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.inputMint)+"-solana",(null===e||void 0===e||null===(o=e.account)||void 0===o?void 0:o.outputMint)+"-solana"]}),v=null===o||void 0===o||null===(n=o[1])||void 0===n||null===(a=n.map)||void 0===a?void 0:a.call(n,e=>[(null===e||void 0===e?void 0:e.inputMint)+"-solana",(null===e||void 0===e?void 0:e.outputMint)+"-solana"]),O=null===o||void 0===o||null===(s=o[0])||void 0===s||null===(c=s.map)||void 0===c?void 0:c.call(s,e=>{var t,o;return[(null===e||void 0===e||null===(t=e.account)||void 0===t?void 0:t.inputMint)+"-solana",(null===e||void 0===e||null===(o=e.account)||void 0===o?void 0:o.outputMint)+"-solana"]}),f=Array.from(new Set([...null===p||void 0===p?void 0:p.flat(),...null===v||void 0===v?void 0:v.flat(),...null===O||void 0===O?void 0:O.flat()])),j=await Object(De["Hd"])(f).catch(async e=>({})),k=null===o||void 0===o||null===(r=o[2])||void 0===r||null===(d=r.map)||void 0===d?void 0:d.call(r,e=>{var t,o,i,l,n,a,s,c;let r=e.account;return{...e,...r,from_token:r.inputMint,from_token_symbol:null===(t=j[r.inputMint+"-solana"])||void 0===t?void 0:t.symbol,from_token_decimals:null===(o=j[r.inputMint+"-solana"])||void 0===o?void 0:o.decimal,from_token_price:null===(i=j[r.inputMint+"-solana"])||void 0===i?void 0:i.current_price_usd,to_token:r.outputMint,to_token_symbol:null===(l=j[r.outputMint+"-solana"])||void 0===l?void 0:l.symbol,to_token_decimals:null===(n=j[r.outputMint+"-solana"])||void 0===n?void 0:n.decimal,to_token_price:null===(a=j[r.outputMint+"-solana"])||void 0===a?void 0:a.current_price_usd,from_amount:Number(r.oriInAmount)||0,to_amount:Number(r.oriOutAmount)||0,id:e.publicKey,orderKey:e.publicKey,chain:"solana",created_at:0,state:"Pending",from_amount_used:new Pe.a(r.oriInAmount).minus(r.inAmount).toFixed(),to_amount_used:new Pe.a(r.oriOutAmount).minus(r.outAmount).toFixed(),percent:new Pe.a(r.oriInAmount).minus(r.inAmount).div(r.oriInAmount).times(100).toFixed(),from_token_logo_url:null===(s=j[r.inputMint+"-solana"])||void 0===s?void 0:s.logo_url,to_token_logo_url:null===(c=j[r.outputMint+"-solana"])||void 0===c?void 0:c.logo_url,version:"v1"}}),g=null===o||void 0===o||null===(u=o[0])||void 0===u||null===(m=u.map)||void 0===m?void 0:m.call(u,e=>{var t,o,i,l,n,a,s,c,r,d,u,m,b,h,p,v,O;let f=null===(t=j[e.inputMint+"-solana"])||void 0===t?void 0:t.decimal,k=null===(o=j[e.outputMint+"-solana"])||void 0===o?void 0:o.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null===(i=j[e.inputMint+"-solana"])||void 0===i?void 0:i.symbol,from_token_decimals:null===(l=j[e.inputMint+"-solana"])||void 0===l?void 0:l.decimal,from_token_price:null===(n=j[e.inputMint+"-solana"])||void 0===n?void 0:n.current_price_usd,to_token:e.outputMint,to_token_symbol:null===(a=j[e.outputMint+"-solana"])||void 0===a?void 0:a.symbol,to_token_decimals:null===(s=j[e.outputMint+"-solana"])||void 0===s?void 0:s.decimal,to_token_price:null===(c=j[e.outputMint+"-solana"])||void 0===c?void 0:c.current_price_usd,from_amount:(null===(r=new Pe.a(e.makingAmount||0))||void 0===r||null===(d=r.times)||void 0===d||null===(d=d.call(r,10**f))||void 0===d?void 0:d.toFixed(0))||0,to_amount:(null===(u=new Pe.a(e.takingAmount||0))||void 0===u||null===(m=u.times)||void 0===m||null===(m=m.call(u,10**k))||void 0===m?void 0:m.toFixed(0))||0,chain:"solana",from_amount_used:null===(b=new Pe.a(e.makingAmount||0).minus(e.remainingMakingAmount))||void 0===b||null===(h=b.times)||void 0===h?void 0:h.call(b,10**f).toFixed(0),to_amount_used:null===(p=new Pe.a(e.takingAmount||0).minus(e.remainingTakingAmount))||void 0===p?void 0:p.times(10**k).toFixed(0),percent:new Pe.a(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null===(v=j[e.inputMint+"-solana"])||void 0===v?void 0:v.logo_url,to_token_logo_url:null===(O=j[e.outputMint+"-solana"])||void 0===O?void 0:O.logo_url,id:e.orderKey,state:"Pending"}}),y=null===o||void 0===o||null===(b=o[1])||void 0===b||null===(h=b.map)||void 0===h?void 0:h.call(b,e=>{var t,o,i,l,n,a,s,c,r,d,u,m,b,h,p,v,O;let f=null===(t=j[e.inputMint+"-solana"])||void 0===t?void 0:t.decimal,k=null===(o=j[e.outputMint+"-solana"])||void 0===o?void 0:o.decimal;return{...e,from_token:e.inputMint,from_token_symbol:null===(i=j[e.inputMint+"-solana"])||void 0===i?void 0:i.symbol,from_token_decimals:null===(l=j[e.inputMint+"-solana"])||void 0===l?void 0:l.decimal,from_token_price:null===(n=j[e.inputMint+"-solana"])||void 0===n?void 0:n.current_price_usd,to_token:e.outputMint,to_token_symbol:null===(a=j[e.outputMint+"-solana"])||void 0===a?void 0:a.symbol,to_token_decimals:null===(s=j[e.outputMint+"-solana"])||void 0===s?void 0:s.decimal,to_token_price:null===(c=j[e.outputMint+"-solana"])||void 0===c?void 0:c.current_price_usd,from_amount:(null===(r=new Pe.a(e.makingAmount||0))||void 0===r||null===(d=r.times)||void 0===d||null===(d=d.call(r,10**f))||void 0===d?void 0:d.toFixed(0))||0,to_amount:(null===(u=new Pe.a(e.takingAmount||0))||void 0===u||null===(m=u.times)||void 0===m||null===(m=m.call(u,10**k))||void 0===m?void 0:m.toFixed(0))||0,chain:"solana",from_amount_used:null===(b=new Pe.a(e.makingAmount||0).minus(e.remainingMakingAmount))||void 0===b||null===(h=b.times)||void 0===h?void 0:h.call(b,10**f).toFixed(0),to_amount_used:null===(p=new Pe.a(e.takingAmount||0).minus(e.remainingTakingAmount))||void 0===p?void 0:p.times(10**k).toFixed(0),percent:new Pe.a(e.makingAmount||0).minus(e.remainingMakingAmount).div(e.makingAmount).times(100).toFixed(),from_token_logo_url:null===(v=j[e.inputMint+"-solana"])||void 0===v?void 0:v.logo_url,to_token_logo_url:null===(O=j[e.outputMint+"-solana"])||void 0===O?void 0:O.logo_url,id:e.orderKey,state:e.status}}),w=[...g,...k,...y],_=null===w||void 0===w?void 0:w.some(t=>t.orderKey===e),$=null===w||void 0===w?void 0:w.some(t=>t.orderKey===e&&"Cancelled"===t.state);return e&&this.getSolanaLimitOrderTime<=30&&(0!==t&&!_||0===t&&!$)?(Vh&&(clearTimeout(Vh),Vh=null),new Promise(o=>{Vh=setTimeout(()=>{this.getSolanaLimitOrderTime+=5,this.getSolanaLimitOrder(e,t).then(e=>{o(e)})},5e3)})):(this.loadingGetLimitOrder=!1,this.limitOrders=null===w||void 0===w||null===(N=w.filter)||void 0===N?void 0:N.call(w,o=>!(o.orderKey===e&&"Pending"===o.state&&0===t)),this.getSolanaLimitOrderTime=0,w);var N}).catch(e=>{this.getSolanaLimitOrderTime=0,this.loadingGetLimitOrder=!1})},refreshLimit(e,t){"solana"===e.chain?this.getSolanaLimitOrder(e.publicKey,0).then(o=>{t[e.publicKey]=!1,e.from_token===this.limitToken1.address?this.getToken1Info():e.from_token===this.limitToken2.address&&this.getToken2Info()}):(this.getLimitOrder(),e.from_token===Ki["i"]&&(e.from_token===this.limitToken1.address?this.getToken1Info():e.from_token===this.limitToken2.address&&this.getToken2Info()))},handleSelectToken1(e){sessionStorage.swap_token1=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=yh,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",1===this.activeTab&&this.getAllowance(),this.getToken1Info(),this.getBaseToken()},handleSelectToken2(e){sessionStorage.swap_token2=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=yh,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",0===this.activeTab&&this.getAllowance(),this.getToken2Info()},handleSelectLimitToken1(e){var t;this.autoSlippageValue=yh,this.limitAmount1="",this.limitAmount2="",null===(t=this.$refs)||void 0===t||null===(t=t.percentStep1)||void 0===t||t.handleClick(0),1===this.activeTab&&this.getLimitAllowance(),sessionStorage.swap_token1=JSON.stringify(e),this.token1={...e},this.getToken1Info(),this.getBaseToken(),"solana"===this.chain&&this.quoteLimitSolana()},handleSelectLimitToken2(e){var t;this.autoSlippageValue=yh,this.limitAmount1="",this.limitAmount2="",null===(t=this.$refs)||void 0===t||null===(t=t.percentStep1)||void 0===t||t.handleClick(0),sessionStorage.swap_token2=JSON.stringify(e),this.token2={...e},this.getToken2Info(),0===this.activeTab&&this.getLimitAllowance(),"solana"===this.chain&&this.quoteLimitSolana()},handleTaxSlippage(){if(1===this.activeTab){var e,t;if(Number(this.autoSlippageValue)>Number(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)+1)return;let o=Math.max(Math.min(Number(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.sell_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(o.toFixed(2)))}else{var o,i;if(Number(this.autoSlippageValue)>Number(null===(o=this.baseTokenExtra)||void 0===o?void 0:o.buy_tax)+1)return;let e=Math.max(Math.min(Number(null===(i=this.baseTokenExtra)||void 0===i?void 0:i.buy_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(e.toFixed(2)))}},watchFromAmount(){if(this.quoteLoading&&!this.isAmount)return;let e=this.fromAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.toAmount)?(this.toAmount=0,this.quoteLoading=!1):t&&(this.isAmount=!0,this.toAmount="",this.getQuoteInfo())},watchToAmount(){if(this.quoteLoading&&this.isAmount)return;let e=this.toAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.fromAmount)?(this.fromAmount=0,this.quoteLoading=!1):t&&(this.fromAmount="",this.isAmount=!1,this.getQuoteInfo(!1))},getQuoteInfo(e=!0){if("Token"!==this.$route.name)return;if(!this.supportChain())return;if(!Number(this.fromAmount)&&!Number(this.toAmount))return void(this.quoteLoading=!1);if(this.token1.address===this.token2.address)return;wh&&(clearTimeout(wh),wh=null);let t=this.$store.getters.netId||"";wh=setTimeout(()=>{this.dealGetQuoteInfo(e,t)},500)},async dealGetQuoteInfo(e,t){if((this.fromAmount||this.toAmount)&&this.fromToken.address&&this.toToken.address&&t===this.fromToken.chain){var o,i,l,n;let ve=this.fromToken.decimals,Oe=this.toToken.decimals;if("sui"===t)return void this.quoteSui(e,t);if("solana"===t)return void this.quoteSolana(e,t);if("bsc"===t){let e=!((this.isFourMeme||this.isFlap)&&this.token2.address!==Ki["i"]&&"bsc"===this.token2.chain);if(!e)return}if("tron"===t){let e=!(this.isSunPump>0&&this.token2.address!==Ki["i"]&&"tron"===this.token2.chain);if(!e)return}this.quoteLoading=!0;let fe={from_token:this.fromToken.address,to_token:this.toToken.address,amountIn:e?Ae["h"].parseUnits(new Pe.a(this.fromAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${ve}})?`))[0],ve).toString():0,amountOut:e?0:Ae["h"].parseUnits(new Pe.a(this.toAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${Oe}})?`))[0],Oe).toString()};if(this.isFourMeme){try{var a,s,c,r,d,u,m,b;let o=await Object(De["Ce"])(fe,t);var h,p;if(e)this.toAmount=Ae["h"].formatUnits((null===o||void 0===o?void 0:o.amountOut)||"0",null===(h=this.toToken)||void 0===h?void 0:h.decimals);else this.fromAmount=Ae["h"].formatUnits((null===o||void 0===o?void 0:o.amountIn)||"0",null===(p=this.fromToken)||void 0===p?void 0:p.decimals);this.swapRouterPath=[{symbol:null===(a=this.fromToken)||void 0===a?void 0:a.symbol,nextAmm:"fourmeme"},{symbol:null===(s=this.toToken)||void 0===s?void 0:s.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=Ae["h"].parseUnits(this.fromAmount,null===(c=this.fromToken)||void 0===c?void 0:c.decimals).toString(),this.swapQuoteInfo.toAmount=Ae["h"].parseUnits(this.toAmount,null===(r=this.toToken)||void 0===r?void 0:r.decimals).toString(),this.swapQuoteInfo.fromToken={...this.fromToken,amount:this.swapQuoteInfo.fromAmount},this.swapQuoteInfo.toToken={...this.toToken,amount:this.swapQuoteInfo.toAmount},this.swapQuoteInfo.quoteResult={...o},this.swapQuoteInfo.isAmountOut=!e,this.swapQuoteInfo.isFourMeme=!0,this.getAllowance();let[i,l]=[(null===(d=this.fromToken)||void 0===d?void 0:d.address)+"-"+(null===(u=this.fromToken)||void 0===u?void 0:u.chain),(null===(m=this.toToken)||void 0===m?void 0:m.address)+"-"+(null===(b=this.toToken)||void 0===b?void 0:b.chain)];Object(De["Gd"])([i,l]).then(async e=>{var t,o;this.swapQuoteInfo.from_price=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,this.swapQuoteInfo.to_price=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0,this.swapQuoteInfo.isFourMeme=!0}),this.quoteLoading=!1}catch(pe){this.quoteLoading=!1,this.$f.handleError(pe)}return}if(this.isDyorswapfun){try{var v,O,f,j,k,g,y,w,_,$,N;let[o,i]=[(null===(v=this.fromToken)||void 0===v?void 0:v.address)+"-"+(null===(O=this.fromToken)||void 0===O?void 0:O.chain),(null===(f=this.toToken)||void 0===f?void 0:f.address)+"-"+(null===(j=this.toToken)||void 0===j?void 0:j.chain)],l=await Object(De["Gd"])([o,i]),n=(null===l||void 0===l||null===(k=l[0])||void 0===k?void 0:k.current_price_usd)||0,a=(null===l||void 0===l||null===(g=l[1])||void 0===g?void 0:g.current_price_usd)||0,s=Object(De["Ae"])({...fe,from_price:n,to_price:a,pairs:this.baseToken.pairs},t);this.toAmount=Ae["h"].formatUnits(s||"0",null===(y=this.toToken)||void 0===y?void 0:y.decimals),this.swapRouterPath=[{symbol:null===(w=this.fromToken)||void 0===w?void 0:w.symbol,nextAmm:"dyorswapfun"},{symbol:null===(_=this.toToken)||void 0===_?void 0:_.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=Ae["h"].parseUnits(this.fromAmount,null===($=this.fromToken)||void 0===$?void 0:$.decimals).toString(),this.swapQuoteInfo.toAmount=Ae["h"].parseUnits(this.toAmount,null===(N=this.toToken)||void 0===N?void 0:N.decimals).toString(),this.swapQuoteInfo.fromToken={...this.fromToken,amount:this.swapQuoteInfo.fromAmount},this.swapQuoteInfo.toToken={...this.toToken,amount:this.swapQuoteInfo.toAmount},this.swapQuoteInfo.quoteResult={...s},this.swapQuoteInfo.isAmountOut=!e,this.swapQuoteInfo.isDyorswapfun=!0,this.getAllowance(),this.swapQuoteInfo.from_price=n,this.swapQuoteInfo.to_price=a,this.quoteLoading=!1}catch(pe){this.quoteLoading=!1,this.$f.handleError(pe)}return}if(this.isCookPump){try{var T,V,x,S,E,B,C,D;let o=await Object(De["ze"])(fe,t);var I,A;if(e)this.toAmount=Ae["h"].formatUnits(o||"0",null===(I=this.toToken)||void 0===I?void 0:I.decimals);else this.fromAmount=Ae["h"].formatUnits(o||"0",null===(A=this.fromToken)||void 0===A?void 0:A.decimals);this.swapRouterPath=[{symbol:null===(T=this.fromToken)||void 0===T?void 0:T.symbol,nextAmm:"cookpump"},{symbol:null===(V=this.toToken)||void 0===V?void 0:V.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=Ae["h"].parseUnits(this.fromAmount,null===(x=this.fromToken)||void 0===x?void 0:x.decimals).toString(),this.swapQuoteInfo.toAmount=Ae["h"].parseUnits(this.toAmount,null===(S=this.toToken)||void 0===S?void 0:S.decimals).toString(),this.swapQuoteInfo.fromToken={...this.fromToken,amount:this.swapQuoteInfo.fromAmount},this.swapQuoteInfo.toToken={...this.toToken,amount:this.swapQuoteInfo.toAmount},this.swapQuoteInfo.isAmountOut=!e,this.swapQuoteInfo.isCookPump=!0,this.getAllowance();let[i,l]=[(null===(E=this.fromToken)||void 0===E?void 0:E.address)+"-"+(null===(B=this.fromToken)||void 0===B?void 0:B.chain),(null===(C=this.toToken)||void 0===C?void 0:C.address)+"-"+(null===(D=this.toToken)||void 0===D?void 0:D.chain)];Object(De["Gd"])([i,l]).then(async e=>{var t,o;this.swapQuoteInfo.from_price=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,this.swapQuoteInfo.to_price=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0,this.swapQuoteInfo.isCookPump=!0}),this.quoteLoading=!1}catch(pe){this.quoteLoading=!1,this.$f.handleError(pe)}return}if(this.isPopMeFun){try{var L,P,F,R,M,U,z,H;let o=await Object(De["Fe"])(fe,t);var q,Q;if(e)this.toAmount=Ae["h"].formatUnits((null===o||void 0===o?void 0:o.amountOut)||"0",null===(q=this.toToken)||void 0===q?void 0:q.decimals);else this.fromAmount=Ae["h"].formatUnits((null===o||void 0===o?void 0:o.amountIn)||"0",null===(Q=this.fromToken)||void 0===Q?void 0:Q.decimals);this.swapRouterPath=[{symbol:null===(L=this.fromToken)||void 0===L?void 0:L.symbol,nextAmm:"popmefun"},{symbol:null===(P=this.toToken)||void 0===P?void 0:P.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=Ae["h"].parseUnits(this.fromAmount,null===(F=this.fromToken)||void 0===F?void 0:F.decimals).toString(),this.swapQuoteInfo.toAmount=Ae["h"].parseUnits(this.toAmount,null===(R=this.toToken)||void 0===R?void 0:R.decimals).toString(),this.swapQuoteInfo.fromToken={...this.fromToken,amount:this.swapQuoteInfo.fromAmount},this.swapQuoteInfo.toToken={...this.toToken,amount:this.swapQuoteInfo.toAmount},this.swapQuoteInfo.isAmountOut=!e,this.swapQuoteInfo.isPopMeFun=!0,this.getAllowance();let[i,l]=[(null===(M=this.fromToken)||void 0===M?void 0:M.address)+"-"+(null===(U=this.fromToken)||void 0===U?void 0:U.chain),(null===(z=this.toToken)||void 0===z?void 0:z.address)+"-"+(null===(H=this.toToken)||void 0===H?void 0:H.chain)];Object(De["Gd"])([i,l]).then(async e=>{var t,o;this.swapQuoteInfo.from_price=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,this.swapQuoteInfo.to_price=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0,this.swapQuoteInfo.isPopMeFun=!0}),this.quoteLoading=!1}catch(pe){this.quoteLoading=!1,this.$f.handleError(pe)}return}if("tron"===t&&this.isSunPump>0){try{var G,W,Y,J,K,Z,X,ee;let o=await Object(De["Ge"])({...fe,isSunPump:this.isSunPump},t);var te,oe;if(e)this.toAmount=Ae["h"].formatUnits((null===o||void 0===o?void 0:o.amountOut)||"0",null===(te=this.toToken)||void 0===te?void 0:te.decimals);else this.fromAmount=Ae["h"].formatUnits((null===o||void 0===o?void 0:o.amountIn)||"0",null===(oe=this.fromToken)||void 0===oe?void 0:oe.decimals);this.swapRouterPath=[{symbol:null===(G=this.fromToken)||void 0===G?void 0:G.symbol,nextAmm:"sunpump"},{symbol:null===(W=this.toToken)||void 0===W?void 0:W.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=Ae["h"].parseUnits(this.fromAmount,null===(Y=this.fromToken)||void 0===Y?void 0:Y.decimals).toString(),this.swapQuoteInfo.toAmount=Ae["h"].parseUnits(this.toAmount,null===(J=this.toToken)||void 0===J?void 0:J.decimals).toString(),this.swapQuoteInfo.fromToken={...this.fromToken,amount:this.swapQuoteInfo.fromAmount},this.swapQuoteInfo.toToken={...this.toToken,amount:this.swapQuoteInfo.toAmount},this.swapQuoteInfo.quoteResult={...o},this.swapQuoteInfo.isAmountOut=!e,this.swapQuoteInfo.isSunPump=this.isSunPump,this.getAllowance();let[i,l]=[(null===(K=this.fromToken)||void 0===K?void 0:K.address)+"-"+(null===(Z=this.fromToken)||void 0===Z?void 0:Z.chain),(null===(X=this.toToken)||void 0===X?void 0:X.address)+"-"+(null===(ee=this.toToken)||void 0===ee?void 0:ee.chain)];Object(De["Gd"])([i,l]).then(async e=>{var t,o;this.swapQuoteInfo.from_price=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,this.swapQuoteInfo.to_price=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0,this.swapQuoteInfo.isSunPump=this.isSunPump}),this.quoteLoading=!1}catch(pe){this.quoteLoading=!1,this.$f.handleError(pe)}return}let je=null===(o=this.baseToken)||void 0===o?void 0:o.pairs;if((null===je||void 0===je||null===(i=je[0])||void 0===i?void 0:i.target_token)===(null===je||void 0===je||null===(l=je[0])||void 0===l?void 0:l.pair)&&null!==je&&void 0!==je&&null!==(n=je[0])&&void 0!==n&&n.pair){let o=await Object(De["Be"])(fe,t);if(o){var ie,le,ne,ae,se,ce,re,de,ue,me,be;if(e)this.toAmount=Ae["h"].formatUnits(o||"0",null===(me=this.toToken)||void 0===me?void 0:me.decimals);else this.fromAmount=Ae["h"].formatUnits(o||"0",null===(be=this.fromToken)||void 0===be?void 0:be.decimals);this.isERC314=!0,this.swapRouterPath=[{symbol:null===(ie=this.fromToken)||void 0===ie?void 0:ie.symbol,nextAmm:null===je||void 0===je||null===(le=je[0])||void 0===le?void 0:le.amm},{symbol:null===(ne=this.toToken)||void 0===ne?void 0:ne.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=Ae["h"].parseUnits(this.fromAmount,null===(ae=this.fromToken)||void 0===ae?void 0:ae.decimals).toString(),this.swapQuoteInfo.toAmount=Ae["h"].parseUnits(this.toAmount,null===(se=this.toToken)||void 0===se?void 0:se.decimals).toString(),this.swapQuoteInfo.fromToken={...this.fromToken,amount:this.swapQuoteInfo.fromAmount},this.swapQuoteInfo.toToken={...this.toToken,amount:this.swapQuoteInfo.toAmount};let[t,i]=[(null===(ce=this.fromToken)||void 0===ce?void 0:ce.address)+"-"+(null===(re=this.fromToken)||void 0===re?void 0:re.chain),(null===(de=this.toToken)||void 0===de?void 0:de.address)+"-"+(null===(ue=this.toToken)||void 0===ue?void 0:ue.chain)];return Object(De["Gd"])([t,i]).then(async e=>{var t,o;this.swapQuoteInfo.from_price=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,this.swapQuoteInfo.to_price=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0,this.swapQuoteInfo.isERC314=!0}),void(this.quoteLoading=!1)}}let ke="";if("core"===t&&(null===je||void 0===je?void 0:je.length)>0){var he;let e=(null===je||void 0===je||null===(he=je.find)||void 0===he?void 0:he.call(je,e=>{let t=[e.token0_address,e.token1_address];return t.includes(fe.token0_address)||t.includes(fe.token1_address)}))||(null===je||void 0===je?void 0:je[0]),t=null===e||void 0===e?void 0:e.amm,o={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};ke=(null===o||void 0===o?void 0:o[t])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f"}this.isERC314=!1,Object(De["ye"])(fe,ke,t).then(e=>{this.swapPathList=e,this.selectedRouter(e),this.getSwapGas()}).catch(t=>{this.$f.handleError(t),e?this.toAmount="":this.fromAmount="",this.$nextTick(()=>{setTimeout(()=>{this.quoteLoading=!1},800)})})}},async quoteSui(e,t){if("sui"===t){var o,i;let t=this.fromToken.decimals||(null===(o=this.fromToken)||void 0===o?void 0:o.decimal),l=this.toToken.decimals||(null===(i=this.toToken)||void 0===i?void 0:i.decimal),n=this.fromToken.address===Ki["i"]?new Pe.a(this.fromAmount||0).times("0.997"):new Pe.a(this.fromAmount||0),a=this.fromToken.address===Ki["i"]?"0x2::sui::SUI":this.fromToken.address,s={tokenIn:a,tokenOut:this.toToken.address,amountIn:Ae["h"].parseUnits(n.toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${t}})?`))[0],t).toString(),slippage:new Pe.a(this.tonSlippage).div(100).toNumber()};return this.quoteLoading=!0,Object(kh["c"])(s).then(t=>{var o;if(t.returnAmount&&t.returnAmountWithDecimal||t.amount_out){var i,n;if(this.suiQuoteResponse=t,e)this.toAmount=(null===t||void 0===t?void 0:t.returnAmount)||Ae["h"].formatUnits((null===t||void 0===t?void 0:t.amount_out)||"0",(null===t||void 0===t||null===(i=t.to_token)||void 0===i?void 0:i.decimals)||l||(null===(n=this.toToken)||void 0===n?void 0:n.decimals));this.quoteSwapTokenPrice()}else this.$f.handleError("can not get quote");return this.tonSwapBaseTokenPrice=null===(o=this.baseToken)||void 0===o||null===(o=o.token)||void 0===o?void 0:o.current_price_usd,this.getSwapTx(!1),this.quoteLoading=!1,t}).catch(e=>(this.$f.handleError((null===e||void 0===e?void 0:e.error)||e),this.$nextTick(()=>{setTimeout(()=>{this.quoteLoading=!1,this.quoteSolanaPreParams={},this.countDownFinishReset()},800)}),Promise.resolve("")))}},quoteSolana(e,t){if("solana"===t){let t=!((this.isPump||this.isMoonshot)&&"So11111111111111111111111111111111111111112"!==this.token2.address&&"solana"===this.token2.chain);if(!t)return;let o=this.fromToken.decimals,i=this.toToken.decimals,l={inputMint:this.fromToken.address,inputDecimals:o,inputMintSymbol:this.fromToken.symbol,inputMintName:this.fromToken.symbol,inputAmount:this.fromAmount||0,outputMint:this.toToken.address,outputDecimals:i,outputMintSymbol:this.toToken.symbol,outputMintName:this.toToken.symbol,amount:e?Ae["h"].parseUnits(new Pe.a(this.fromAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${o}})?`))[0],o).toString():Ae["h"].parseUnits(new Pe.a(this.toAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${i}})?`))[0],i).toString(),slippageBps:new Pe.a(this.solanaSlippage).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:this.solanaSlippage||9,isPump:this.isPump,isMoonshot:this.isMoonshot},n=this.quoteSolanaPreParams.amount&&Object.keys(this.quoteSolanaPreParams).every(e=>l[e]===this.quoteSolanaPreParams[e]);if(n)return;return this.quoteSolanaPreParams={...l},setTimeout(()=>{this.quoteSolanaPreParams={}},15e3),this.quoteLoading=!0,Object(qm["i"])(l).then(t=>{var l,n,a,s;t.routeInfo&&t.transaction?(this.solanaQuoteResponse=t,this.toAmount=(null===(n=t.routeInfo)||void 0===n||null===(n=n.amountOut)||void 0===n||null===(n=n.amount)||void 0===n?void 0:n.toFixed())||"0",this.quoteSwapTokenPrice()):e?t.outAmount?(this.solanaQuoteResponse=t,this.toAmount=Ae["h"].formatUnits(t.outAmount||"0",i||(null===(a=this.toToken)||void 0===a?void 0:a.decimals)),this.quoteSwapTokenPrice()):this.$f.handleError("can not get quote"):t.inAmount?(this.solanaQuoteResponse=t,this.fromAmount=Ae["h"].formatUnits(t.inAmount||"0",o||(null===(s=this.fromToken)||void 0===s?void 0:s.decimals)),this.quoteSwapTokenPrice()):this.$f.handleError("can not get quote");return this.solanaSwapBaseTokenPrice=null===(l=this.baseToken)||void 0===l||null===(l=l.token)||void 0===l?void 0:l.current_price_usd,this.getSwapTx(!1),this.quoteLoading=!1,this.quoteSolanaPreParams={},t}).catch(e=>(this.$f.handleError((null===e||void 0===e?void 0:e.error)||e),this.$nextTick(()=>{setTimeout(()=>{this.quoteLoading=!1,this.quoteSolanaPreParams={}},800)}),Promise.resolve("")))}},getSelectedRouter(e){this.dialogListRouterVisible=!1,this.selectedRouterIndex=e,this.selectedRouter()},quoteSwapTokenPrice(){let e=this.fromToken.chain,t=this.fromToken.address+"-"+e,o=this.toToken.address+"-"+e;return sessionStorage.swap_tokenPrice===t+"-"+o?(this.swapTokenPrice=[0,0],"solana"===e?this.priceImpactSolana=0:"ton"===e?(this.priceImpactTon=0,this.tonSwapTokenPrice=[0,0]):"sui"===e&&(this.priceImpactSui=0)):sessionStorage.swap_tokenPrice=t+"-"+o,Object(De["Gd"])([t,o]).then(async t=>{var o,i;let l=(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.current_price_usd)||0,n=(null===t||void 0===t||null===(i=t[1])||void 0===i?void 0:i.current_price_usd)||0;this.swapTokenPrice=[l,n];let a=this.fromAmount||0,s=this.toAmount||0,c=Math.abs(Number(a)*l/(Number(s)*n)-1);"solana"===e?this.priceImpactSolana=c:"ton"===e?(this.priceImpactTon=c,this.tonSwapTokenPrice=[l,n]):"sui"===e&&(this.priceImpactSui=c)})},selectedRouter(e=this.swapPathList){let t=e[this.selectedRouterIndex],o=e[this.selectedRouterIndex].routerPath,i=this.isAmount,l=this.fromToken.decimals,n=this.toToken.decimals,a=!1;if(i){var s;let e=Ae["h"].parseUnits(new Pe.a(this.fromAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`))[0],l).toString(),t=(null===(s=o[0])||void 0===s?void 0:s.amount)||0;a=e===t}else{var c;let e=Ae["h"].parseUnits(new Pe.a(this.toAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${n}})?`))[0],n).toString(),t=(null===(c=o[o.length-1])||void 0===c?void 0:c.amount)||0;a=e===t}if(!a)return;if(1===t.from_cannot_sell_all){var r;let e=new Pe.a(Ae["h"].parseUnits(String(this.fromToken.balance),null===(r=this.fromToken)||void 0===r?void 0:r.decimals).toString()),o=new Pe.a(null===t||void 0===t?void 0:t.routerPath[0].amount);this.isCannotSellAll=e.gt(0)&&o.div(e).gt(.99999)}else this.isCannotSellAll=!1;this.isTax=t.totalTax>0||t.total_sell_tax>0||t.total_buy_tax>0;let d=this.getPriceImpact(t);if(this.isTax||d.gt(.5)){this.isTaxHigh=t.total_sell_tax+t.total_buy_tax+1>49.99;let e=t.totalTax||t.total_sell_tax+t.total_buy_tax,o=Number(d);if(this.autoSlippage){let t=e+o+(e>5||o>5?2.5:2);t=Math.max(Math.min(t,49.99),.5),this.autoSlippageValue=String(Number(t.toFixed(2)))}}else this.isTaxHigh=!1,"auto"===this.customSlippage&&(this.autoSlippageValue=yh);if(this.swapQuoteInfo=t,this.swapRouterPath=o.map((e,o)=>{var i;return{symbol:e.symbol,nextAmm:(null===t||void 0===t||null===(i=t.pair_path)||void 0===i||null===(i=i[o])||void 0===i?void 0:i.amm)||""}}),this.listRouter=e.map(e=>{let t=0,o=0;if(i){var l;let o=e.routerPath[e.routerPath.length-1];t=Ae["h"].formatUnits(o.amount||"0",(null===o||void 0===o?void 0:o.decimals)||(null===(l=this.toToken)||void 0===l?void 0:l.decimals))}else{let t=e.routerPath[0];o=Ae["h"].formatUnits(t.amount||"0",(null===t||void 0===t?void 0:t.decimals)||this.fromToken.decimals)}let n=e.routerPath.map((t,o)=>{var i;return{symbol:t.symbol,nextAmm:(null===e||void 0===e||null===(i=e.pair_path)||void 0===i||null===(i=i[o])||void 0===i?void 0:i.amm)||""}});return{path:n,amount:i?t:o,priceImpact:e.priceImpact}}),i){var u;let e=o[o.length-1];this.toAmount=Ae["h"].formatUnits(e.amount||"0",(null===e||void 0===e?void 0:e.decimals)||(null===(u=this.toToken)||void 0===u?void 0:u.decimals))}else{var m;let e=o[0];this.fromAmount=Ae["h"].formatUnits(e.amount||"0",(null===e||void 0===e?void 0:e.decimals)||(null===(m=this.fromToken)||void 0===m?void 0:m.decimals))}let b=t.totalTax||t.total_sell_tax+t.total_buy_tax||0;this.baseTokenPrice=new Pe.a(this.toAmount).div(this.fromAmount).times(100-b).div(100).toFixed(),a&&this.$nextTick(()=>{setTimeout(()=>{this.quoteLoading=!1,this.countDownFinishReset()},800)})},handlePercentChange(e,t){if(t)return;let o=e/100,i=this.fromToken.balance||0;if(o){var l,n;let e=this.fromToken.decimals||0;if((null===(l=this.fromToken)||void 0===l?void 0:l.address)===Ki["i"]||"So11111111111111111111111111111111111111112"===(null===(n=this.fromToken)||void 0===n?void 0:n.address)){let t=this.fromToken.chain,l=Ki["h"][t]||.01;if(new Pe.a(i).lt(l))return void this.$messageBox.alert(this.$t("balanceNotEnough",{n:l,s:this.fromToken.symbol}),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});i=new Pe.a(i).minus(l).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0]}else i=new Pe.a(i).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0];0===Number(i)&&(i="")}else i="";this.fromAmount!==i&&(this.fromAmount=i<0?0:i,this.watchFromAmount())},onCountDownFinish(){2===this.selected&&this.token1.address!==this.token2.address&&(this.loadingConfirmSwap||this.loadingApprove||"hidden"===document.visibilityState?this.$refs.countDown.reset():this.isAmount?this.watchFromAmount():this.watchToAmount())},countDownFinishReset(){this.$refs.countDown.reset(),this.dialogVisibleSwap&&this.isApprove&&!this.loadingConfirmSwap&&this.getSwapTx(!1)},getPriceImpact(e){if(!Number(this.fromAmount)&&!Number(this.toAmount))return new Pe.a(0);let t=e.routerPath,o=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[0]:null,i=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[t.length-1]:null;if(o&&i){let t=e.from_price,l=e.to_price,n=Ae["h"].formatUnits(o.amount,o.decimals),a=Ae["h"].formatUnits(i.amount,i.decimals);return new Pe.a(n).times(t).div(new Pe.a(a).times(l)).minus(1).abs().times(100)}return new Pe.a(0)},async approve(){var e;this.loadingApprove=!0;let t=this.isFourMeme?null===(e=this.swapQuoteInfo)||void 0===e||null===(e=e.quoteResult)||void 0===e?void 0:e.tokenManager:this.$f.getSwapContract(this.$store.getters.netId),o=["","TTfvyrAz86hbZk5iDpKD78pqLGgi8C7AAw","TZFs5ch1R1C4mmjwrrmZqeqbUgGpxY1yWB"][this.isSunPump];t=o||t,"xlayer"===this.$store.getters.netId&&this.isDyorswapfun&&(t="0xfd947a61e2c54413031ddb1f754dbe0e696efa09"),"gatelayer"===this.$store.getters.netId&&this.isDyorswapfun&&(t="0xC5d6974951201FB5f20C0efB4B6BEF5cf8FF1617"),"juchain"===this.$store.getters.netId&&this.isCookPump&&(t="0xaF2F76f06E27BE138Bd5310ec6553E2c93ec19F4"),"popchain"===this.$store.getters.netId&&this.isPopMeFun&&(t="0x198C8099E0c2CE323a5513769e294f349B015cEE"),Object(De["n"])(this.fromToken.address,t).then(e=>e.wait()).then(e=>{this.getAllowance()}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loadingApprove=!1})},getSwapTx(e=!0){var t,o,i,l,n,a,s;if(_h&&(clearTimeout(_h),_h=null),this.checkAmount())if("sui"===this.chain){var c;let t=null===(c=this.suiQuoteResponse)||void 0===c||null===(c=c.routes)||void 0===c||null===(c=c[0])||void 0===c||null===(c=c.hops)||void 0===c||null===(c=c[0])||void 0===c||null===(c=c.pool)||void 0===c?void 0:c.type,o=[this.fromToken,this.toToken].map((e,o)=>({symbol:e.symbol,nextAmm:0===o&&t||""}));this.swapInfo={swapRouterPath:o,fromAmount:this.fromAmount,toAmount:this.toAmount,fromToken:this.fromToken,toToken:this.toToken},e&&(this.dialogVisibleSwap=!0),this.swapRouterPath=o}else if("solana"===this.chain){let t=[this.fromToken,this.toToken].map(e=>({symbol:e.symbol,nextAmm:""}));this.swapInfo={swapRouterPath:t,fromAmount:this.fromAmount,toAmount:this.toAmount,fromToken:this.fromToken,toToken:this.toToken},e&&(this.dialogVisibleSwap=!0)}else(null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.isSunPump)>0?(this.loadingSwap=!0,Object(De["Xe"])(this.swapQuoteInfo,this.slippage).then(async t=>{var o;if(this.swapSubmitInfo={...t,isSunPump:null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.isSunPump},this.swapInfo=t.swapInfo,this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var i,l;let e=(null===(i=window)||void 0===i||null===(i=i._tw_)||void 0===i||null===(l=i.appGetFreePay)||void 0===l?void 0:l.call(i))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()):null!==(o=this.swapQuoteInfo)&&void 0!==o&&o.isFourMeme?(this.loadingSwap=!0,Object(De["yb"])(this.swapQuoteInfo,this.slippage).then(async t=>{if(this.swapSubmitInfo={...t,isFourMeme:!0},this.swapInfo=t.swapInfo,this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var o,i;let e=(null===(o=window)||void 0===o||null===(o=o._tw_)||void 0===o||null===(i=o.appGetFreePay)||void 0===i?void 0:i.call(o))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()):null!==(i=this.swapQuoteInfo)&&void 0!==i&&i.isERC314?(this.loadingSwap=!0,Object(De["a"])(this.swapQuoteInfo).then(async t=>{if(this.swapSubmitInfo={...t,isERC314:!0},this.swapInfo=t.swapInfo,this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var o,i;let e=(null===(o=window)||void 0===o||null===(o=o._tw_)||void 0===o||null===(i=o.appGetFreePay)||void 0===i?void 0:i.call(o))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()):null!==(l=this.swapQuoteInfo)&&void 0!==l&&l.isDyorswapfun?(this.loadingSwap=!0,Object(De["rb"])(this.swapQuoteInfo,this.slippage).then(async t=>{if(this.swapSubmitInfo={...t,isDyorswapfun:!0},this.swapInfo=t.swapInfo,this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var o,i;let e=(null===(o=window)||void 0===o||null===(o=o._tw_)||void 0===o||null===(i=o.appGetFreePay)||void 0===i?void 0:i.call(o))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()):null!==(n=this.swapQuoteInfo)&&void 0!==n&&n.isCookPump?(this.loadingSwap=!0,Object(De["mb"])(this.swapQuoteInfo,this.slippage).then(async t=>{if(this.swapSubmitInfo={...t,isCookPump:!0},this.swapInfo=t.swapInfo,this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var o,i;let e=(null===(o=window)||void 0===o||null===(o=o._tw_)||void 0===o||null===(i=o.appGetFreePay)||void 0===i?void 0:i.call(o))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()):null!==(a=this.swapQuoteInfo)&&void 0!==a&&a.isPopMeFun?(this.loadingSwap=!0,Object(De["ve"])(this.swapQuoteInfo,this.slippage).then(async t=>{if(this.swapSubmitInfo={...t,isPopMeFun:!0},this.swapInfo=t.swapInfo,this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var o,i;let e=(null===(o=window)||void 0===o||null===(o=o._tw_)||void 0===o||null===(i=o.appGetFreePay)||void 0===i?void 0:i.call(o))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()):(null===(s=this.swapQuoteInfo)||void 0===s||null===(s=s.routerPath)||void 0===s?void 0:s.length)>0&&(this.loadingSwap=!0,Object(De["Ye"])(this.swapQuoteInfo,this.slippage).then(async t=>{if(this.swapSubmitInfo=t,this.swapInfo={...t.swapInfo,fromToken:{...t.swapInfo.fromToken,...this.fromToken},toToken:{...t.swapInfo.fromToken,...this.toToken},fromAmount:this.fromAmount,toAmount:this.toAmount},this.swapInfo.gasValue=t.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath,this.loadingSwap=!1,e){var o,i;let e=(null===(o=window)||void 0===o||null===(o=o._tw_)||void 0===o||null===(i=o.appGetFreePay)||void 0===i?void 0:i.call(o))||!1;e=e&&"false"!==e,e?this.submitSwap():this.dialogVisibleSwap=!0}}).catch(e=>{this.loadingSwap=!1,this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice());else this.$messageBox.alert(this.checkAmountMessage(),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode})},async submitSwap(e=this.swapSubmitInfo){try{if("solana"===this.chain)return void this.submitSolanaSwap();if("sui"===this.chain)return void this.submitSuiSwap();this.loadingConfirmSwap=!0,this.loadingSwap=!0;await e.swapCallStatic();let t=e.swapInfo,o=!(t.fromToken.isWrapper&&t.toToken.isETH||t.toToken.isWrapper&&t.fromToken.isETH),i={from_address:t.fromToken.address,from_symbol:t.fromToken.symbol,from_amount:Number(Ae["h"].formatUnits(t.fromTokenAmount||0,t.fromToken.decimals)),to_address:t.toToken.address,to_symbol:t.toToken.symbol,to_amount:Number(Ae["h"].formatUnits(t.toTokenAmount||0,t.toToken.decimals)),chain:this.$store.getters.netId,transaction:"",wallet_address:this.$store.state.currentAccount},l={};this.activeShow=2,e.swap().then(n=>{var a,s,c,r;(this.swapInfo.transaction=n.hash,Object(De["He"])({chain:this.$store.getters.netId,destination:"wallet rpc",type:10,tx_hash:n.hash,status:1,wallet:this.$store.state.currentAccount,out_token:i.to_address,out_amount:Number(Ae["h"].formatUnits(t.toTokenAmount||0,t.toToken.decimals)),in_token:i.from_address,in_amount:Number(Ae["h"].formatUnits(t.fromTokenAmount||0,t.fromToken.decimals))}),o)&&(i.transaction=n.hash,l={time:parseInt(Date.now()/1e3),id:i.transaction,chain:this.$store.getters.netId,transaction:n.hash,from_address:i.from_address,from_price_eth:0,from_price_usd:"",from_symbol:t.fromToken.symbol,from_amount:Number(Ae["h"].formatUnits(t.fromTokenAmount||0,t.fromToken.decimals)),to_address:i.to_address,to_price_eth:0,to_price_usd:"",to_symbol:t.toToken.symbol,to_amount:Number(Ae["h"].formatUnits(t.toTokenAmount||0,t.toToken.decimals)),is_merged:0,isERC314:(null===e||void 0===e?void 0:e.isERC314)||!1,isFourMeme:(null===e||void 0===e?void 0:e.isFourMeme)||!1,isSunPump:(null===e||void 0===e?void 0:e.isSunPump)||0,isDyorswapfun:(null===e||void 0===e?void 0:e.isDyorswapfun)||!1,isCookPump:(null===e||void 0===e?void 0:e.isCookPump)||!1,isPopMeFun:(null===e||void 0===e?void 0:e.isPopMeFun)||!1,wallet_address:this.$store.state.currentAccount,from_address_logo_url:null===(c=this.fromToken)||void 0===c?void 0:c.logo_url,to_address_logo_url:null===(r=this.toToken)||void 0===r?void 0:r.logo_url},this.initTxs.unshift(l));return this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.fromAmount="",this.toAmount="",null===(a=this.$refs)||void 0===a||null===(a=a.percentStep)||void 0===a||null===(s=a.handleClick)||void 0===s||s.call(a,0),this.activeShow=3,n.wait()}).then(e=>{var t,o;return Object(De["df"])({chain:this.$store.getters.netId,tx_hash:e.transactionHash,status:100,to:(null===e||void 0===e||null===(t=e.to)||void 0===t||null===(o=t.toLowerCase)||void 0===o?void 0:o.call(t))||""}),setTimeout(()=>{this.getTokenDetails(),this.getUserTokenList(),this.getAllowance(),"tron"!==this.token1.chain&&"tron"!==this.token2.chain||setTimeout(()=>{this.getTokenDetails()},3e3)},2e3),e}).catch(e=>{this.activeShow=1,this.$refs.countDown.reset(),this.loadingSwap=!1,this.loadingConfirmSwap=!1,o&&this.getUserAllTxs(),this.$f.handleError(e,"swap")})}catch(t){this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.$f.handleError(t,"swap")}},async submitSuiSwap(){try{this.loadingConfirmSwap=!0,this.loadingSwap=!0;let e=this.swapInfo,t={from_address:e.fromToken.address,from_symbol:e.fromToken.symbol,from_amount:null===e||void 0===e?void 0:e.fromAmount,from_decimals:null===e||void 0===e?void 0:e.fromToken.decimals,to_address:e.toToken.address,to_symbol:e.toToken.symbol,to_amount:null===e||void 0===e?void 0:e.toAmount,to_decimals:null===e||void 0===e?void 0:e.toToken.decimals,chain:"sui",transaction:"",wallet_address:this.$store.state.currentAccount},o={};setTimeout(()=>{this.dialogVisibleSwap||(this.loadingSwap=!1,this.loadingConfirmSwap=!1)},6e3);let i=!0,l="";Object(kh["a"])({quoteResponse:this.suiQuoteResponse,slippage:new Pe.a(this.tonSlippage).div(100).toNumber()}).then(e=>(l=(null===e||void 0===e?void 0:e.remark)||"",Object(gh["d"])((null===e||void 0===e?void 0:e.tx)||e))).then(n=>{if(null!==n&&void 0!==n&&n.digest){var a,s,c,r;if(this.swapInfo.transaction=n.digest,i)t.transaction=n.digest,Object(De["He"])({chain:"sui",destination:"wallet rpc",type:10,tx_hash:n.digest,status:1,wallet:this.$store.state.currentAccount,out_token:t.to_address,out_amount:e.toAmount,in_token:t.from_address,in_amount:e.fromAmount,remark:l}),o={time:parseInt(Date.now()/1e3),id:t.transaction,chain:"sui",transaction:n.digest,from_address:t.from_address,from_price_eth:0,from_price_usd:this.swapTokenPrice[0]||0,from_symbol:e.fromToken.symbol,from_amount:e.fromAmount,to_address:t.to_address,to_price_eth:0,to_price_usd:this.swapTokenPrice[1]||0,to_symbol:e.toToken.symbol,to_amount:e.toAmount,is_merged:0,wallet_address:this.$store.state.currentAccount||"",from_address_logo_url:e.fromToken.logo_url,to_address_logo_url:e.toToken.logo_url},this.suiTxs.unshift(o),this.suiTxs=null===(c=this.suiTxs)||void 0===c||null===(r=c.slice)||void 0===r?void 0:r.call(c,0,500);return this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.fromAmount="",this.toAmount="",null===(a=this.$refs)||void 0===a||null===(a=a.percentStep)||void 0===a||null===(s=a.handleClick)||void 0===s||s.call(a,0),this.dialogVisibleSwap=!1,n.wait()}return Promise.reject("Swap fail")}).then(e=>{if(e.digest){Object(De["df"])({chain:"sui",tx_hash:null===e||void 0===e?void 0:e.digest,status:100}),this.$notify({type:"success",message:this.$t("tradeSuccess")}),this.getTokenDetails(),this.getUserTokenList();let o=Object(kh["e"])({txInfo:t,balanceChanges:(null===e||void 0===e?void 0:e.balanceChanges)||[]});return i?this.suiTxs=this.suiTxs.slice().map(t=>{let i={...t};return t.transaction===(null===e||void 0===e?void 0:e.digest)&&(i.is_merged=1,i.time=(null===e||void 0===e?void 0:e.timestampMs)||Date.now(),i.event_id=null===e||void 0===e?void 0:e.event_id,i={...i,...o}),i}):(Object(De["df"])({chain:"sui",tx_hash:null===e||void 0===e?void 0:e.digest,status:-100}),this.$notify({type:"danger",message:this.$t("tradeFail")}),i&&(this.suiTxs=this.suiTxs.filter(t=>t.transaction!==e.hash))),e}}).catch(e=>{var o,i;/'Timeout'/i.test(e||(null===e||void 0===e?void 0:e.message)||"")?this.suiTxs=this.suiTxs.map(e=>e.transaction===t.transaction?{...e,status:"timeout"}:{...e}):this.suiTxs=(null===(o=this.suiTxs)||void 0===o||null===(i=o.filter)||void 0===i?void 0:i.call(o,e=>e.transaction!==t.transaction))||[];this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.$f.handleError(e,"solana"),this.$refs.countDown.reset()})}catch(e){this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.$f.handleError(e,"solana")}},async submitSolanaSwap(){try{var e;this.activeShow=1,this.loadingConfirmSwap=!0,this.loadingSwap=!0;let t=(null===(e=this.baseToken)||void 0===e||null===(e=e.token)||void 0===e?void 0:e.current_price_usd)||0,o=!this.solanaSwapBaseTokenPrice||new Pe.a(t).minus(this.solanaSwapBaseTokenPrice).times(100).div(this.solanaSwapBaseTokenPrice).abs().gt(this.solanaSlippage);o&&await this.quoteSolana(this.isAmount,"solana");let i=this.swapInfo,l={from_address:i.fromToken.address,from_symbol:i.fromToken.symbol,from_amount:Number(Ae["h"].formatUnits(i.fromTokenAmount||0,i.fromToken.decimals)),to_address:i.toToken.address,to_symbol:i.toToken.symbol,to_amount:Number(Ae["h"].formatUnits(i.toTokenAmount||0,i.toToken.decimals)),chain:this.netId,transaction:"",wallet_address:this.$store.state.currentAccount},n={};setTimeout(()=>{this.dialogVisibleSwap||(this.loadingSwap=!1,this.loadingConfirmSwap=!1)},6e3);let a=!0;Object(qm["m"])(this.solanaQuoteResponse).then(e=>{var t,o,s,c;(this.swapInfo.transaction=e.hash,Object(De["He"])({chain:"solana",destination:"true"===localStorage.solanaProtection?"v1/blxrsol/sendSolTx":"/ave_nodes/rpc/solana/sendFastSwapTx",type:10,tx_hash:e.hash,status:1,wallet:this.$store.state.currentAccount,out_token:l.to_address,out_amount:i.toAmount,in_token:l.from_address,in_amount:i.fromAmount}),a)&&(l.transaction=e.hash,n={time:parseInt(Date.now()/1e3),id:l.transaction,chain:this.netId,transaction:e.hash,from_address:l.from_address,from_price_eth:0,from_price_usd:"",from_symbol:i.fromToken.symbol,from_amount:i.fromAmount,to_address:l.to_address,to_price_eth:0,to_price_usd:"",to_symbol:i.toToken.symbol,to_amount:i.toAmount,is_merged:0,wallet_address:this.$store.state.currentAccount||"",from_address_logo_url:i.fromToken.logo_url,to_address_logo_url:i.toToken.logo_url},this.solanaTxs.unshift(n),this.solanaTxs=null===(s=this.solanaTxs)||void 0===s||null===(c=s.slice)||void 0===c?void 0:c.call(s,0,500));return this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.fromAmount="",this.toAmount="",null===(t=this.$refs)||void 0===t||null===(t=t.percentStep)||void 0===t||null===(o=t.handleClick)||void 0===o||o.call(t,0),this.activeShow=3,e.wait()}).then(e=>{if(e){var t;Object(De["df"])({chain:"solana",tx_hash:null===e||void 0===e||null===(t=e.transaction)||void 0===t?void 0:t.signatures[0],status:100});let[o,l]=Object(qm["l"])(e,i.fromToken.address,i.toToken.address);this.getTokenDetails(),this.getUserTokenList(),a&&(this.solanaTxs=this.solanaTxs.slice().map(t=>{var i;let n={...t};return t.transaction===(null===e||void 0===e||null===(i=e.transaction)||void 0===i?void 0:i.signatures[0])&&(n.is_merged=1,n.time=null===e||void 0===e?void 0:e.blockTime,o&&Number(o)>0&&(n.from_amount=o),l&&Number(l)>0&&(n.to_amount=l)),n}))}else a&&(this.solanaTxs=this.solanaTxs.filter(t=>t.transaction!==e.transactionHash));return e}).catch(e=>{if("Timeout"===(e||(null===e||void 0===e?void 0:e.message)))this.solanaTxs=this.solanaTxs.map(e=>e.transaction===l.transaction?{...e,status:"timeout"}:{...e});else if("Swap fail"===(e||(null===e||void 0===e?void 0:e.message)))this.solanaTxs=this.solanaTxs.map(e=>e.transaction===l.transaction?{...e,status:"fail"}:{...e});else{var t,o;this.solanaTxs=(null===(t=this.solanaTxs)||void 0===t||null===(o=t.filter)||void 0===o?void 0:o.call(t,e=>e.transaction!==l.transaction))||[]}this.solanaSwapBaseTokenPrice=0,this.$refs.countDown.reset(),this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.$f.handleError(e,"solana")})}catch(t){this.solanaSwapBaseTokenPrice=0,this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.$f.handleError(t,"solana")}},getSwapGas(){_h&&(clearTimeout(_h),_h=null),_h=setTimeout(()=>{var e,t,o,i,l,n,a;this.checkAmount()&&this.isApprove&&this.$store.state.currentAccount&&!this.loadingSwap&&((null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.isSunPump)>0?Object(De["Xe"])(this.swapQuoteInfo,this.slippage).then(async e=>{var t;this.swapSubmitInfo={...e,isSunPump:null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.isSunPump},this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}):null!==(t=this.swapQuoteInfo)&&void 0!==t&&t.isFourMeme?Object(De["yb"])(this.swapQuoteInfo,this.slippage).then(async e=>{this.swapSubmitInfo={...e,isFourMeme:!0},this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}):null!==(o=this.swapQuoteInfo)&&void 0!==o&&o.isERC314?Object(De["a"])(this.swapQuoteInfo).then(async e=>{this.swapSubmitInfo={...e,isERC314:!0},this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}):null!==(i=this.swapQuoteInfo)&&void 0!==i&&i.isDyorswapfun?Object(De["rb"])(this.swapQuoteInfo,this.slippage).then(async e=>{this.swapSubmitInfo={...e,isDyorswapfun:!0},this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}):null!==(l=this.swapQuoteInfo)&&void 0!==l&&l.isCookPump?Object(De["mb"])(this.swapQuoteInfo,this.slippage).then(async e=>{this.swapSubmitInfo={...e,isCookPump:!0},this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}):null!==(n=this.swapQuoteInfo)&&void 0!==n&&n.isPopMeFun?Object(De["ve"])(this.swapQuoteInfo,this.slippage).then(async e=>{this.swapSubmitInfo={...e,isPopMeFun:!0},this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}):(null===(a=this.swapQuoteInfo)||void 0===a||null===(a=a.routerPath)||void 0===a?void 0:a.length)>0&&(Object(De["Ye"])(this.swapQuoteInfo,this.slippage).then(async e=>{this.swapSubmitInfo=e,this.swapInfo=e.swapInfo,this.swapInfo.gasValue=e.gasValue,this.swapInfo.swapRouterPath=this.swapRouterPath}).catch(e=>{this.$f.handleError(e)}),this.getNativeTokenPrice(),this.getGasPrice()))},3e3)},getNativeTokenPrice(){let e=this.token1.chain,t=this.token2.chain,o=this.$store.getters.netId;o&&o===e&&o===t&&Object(De["Fc"])(o).then(e=>{this.nativePrice=e})},getGasPrice(){let e=this.$store.getters.netId;if("solana"===e)return;let t=this.token1.chain,o=this.token2.chain;e&&t===o&&e===t&&Object(De["dc"])(e).then(e=>{this.gasPrice=e.toString()}).catch(e=>{this.gasPrice="0"})},checkAmount(){if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return!0;let e=this.fromToken.balance||0,t=(this.isPump||this.isMoonshot)&&"So11111111111111111111111111111111111111112"!==this.token2.address,o=(this.isFourMeme||this.isFlap)&&this.token2.address!==Ki["i"],i=this.isSunPump>0&&this.token2.address!==Ki["i"];return!(0===Number(e)||Number(e)<Number(this.fromAmount)||""===this.$store.state.wallet||"0"===String(this.fromAmount)||this.token1.address===this.token2.address||(this.isERC314||this.isDyorswapfun||this.isCookPump||this.isPopMeFun)&&this.token2.address!==Ki["i"]||t||o||i)},checkAmountMessage(){let e=this.fromToken.balance||0,t=(this.isPump||this.isMoonshot)&&"So11111111111111111111111111111111111111112"!==this.token2.address,o=(this.isFourMeme||this.isFlap)&&this.token2.address!==Ki["i"],i=this.isSunPump>0&&this.token2.address!==Ki["i"];return this.$store.state.currentAccount?!this.$store.state.currentAccount||window.ethereum||this.$store.state.provider?(this.isERC314||this.isDyorswapfun||this.isCookPump||this.isPopMeFun)&&this.token2.address!==Ki["i"]||t||o||i?this.$t("ERC314Tips"):0===Number(e)||Number(e)<Number(this.fromAmount)||!this.$store.state.currentAccount?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0:this.$t("observeAddressNotSwap"):this.$t("pConnectWallet")},alertTips(e,t){this.$messageBox.alert(t,e,{confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode}).then(()=>{})},onSubmit(){try{if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChain())return;let e=this.$store.getters.netId,t=this.token1.chain||this.token2.chain||e;if(e!==t)return void this.$messageBox.alert(this.$t("plsSwitchChain",{chain:e}),this.$t("tips"),{confirmButtonText:this.$t("confirm"),customClass:this.$store.state.mode});2===this.selected&&(this.activeShow=1,this.isApprove?this.getSwapTx():this.approve())}catch(e){}},getAvgPrice(){if(!this.fromAmount||!this.toAmount)return"--";let e=this.fromAmount,t=this.toAmount;if(this.isTax){var o,i,l,n;let a=(null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.totalTax)||((null===(i=this.swapQuoteInfo)||void 0===i?void 0:i.total_sell_tax)||0)+((null===(l=this.swapQuoteInfo)||void 0===l?void 0:l.total_buy_tax)||0);a=Math.min(49,a),null!==(n=this.swapQuoteInfo)&&void 0!==n&&n.isAmountOut?e=new Pe.a(e).times(100+a).div(100):t=new Pe.a(t).times(100-a).div(100)}let a=["solana","sui"].includes(this.chain),s=a?this.swapTokenPrice[0]:this.swapQuoteInfo.from_price,c=a?this.swapTokenPrice[1]:this.swapQuoteInfo.to_price;return s&&c?0===this.activeTab?this.$f.formatNumber2(e/t/(c/s)*c):1===this.activeTab?this.$f.formatNumber2(t/e/(s/c)*s):void 0:"--"},handlePercentChange1(e,t){if(t)return;let o=e/100,i=0===this.activeTab?this.limitToken2:this.limitToken1,l=i.balance||0;if(o){let e=i.decimals||18;if((null===i||void 0===i?void 0:i.address)===Ki["i"]){let t=i.chain,n=Ki["h"][t]||.01;l=new Pe.a(l).minus(n).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0]}else l=new Pe.a(l).times(o).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0];0===Number(l)&&(l="")}else l="";0===this.activeTab?this.limitAmount2!==l&&(this.limitAmount2=l<0?0:l,this.watchLimitAmount2()):this.limitAmount1!==l&&(this.limitAmount1=l<0?0:l,this.watchLimitAmount1())},watchLimitAmount1(){this.limitQuoteLoading||($h&&(clearTimeout($h),$h=null),$h=setTimeout(()=>{let e=this.limitAmount1,t=Number(e);""===e||"."===e?(this.limitAmount1="",this.limitAmount2=""):0===t&&0!==Number(this.limitAmount2)?this.limitAmount2=0:t&&(this.limitAmount2="",this.watchLimitPrice())},500))},watchLimitAmount2(){this.limitQuoteLoading||(Nh&&(clearTimeout(Nh),Nh=null),Nh=setTimeout(()=>{let e=this.limitAmount2,t=Number(e);""===e||"."===e?(this.limitAmount1="",this.limitAmount2=""):0===t&&0!==Number(this.limitAmount1)?this.limitAmount1=0:t&&(this.limitAmount1="",this.watchLimitPrice())},500))},watchLimitPrice(){"solana"!==this.chain?this.supportChainLimit()&&(Number(this.limitPrice)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(Th&&(clearTimeout(Th),Th=null),Th=setTimeout(()=>{let e=0===this.activeTab?this.limitToken2:this.limitToken1,t=1===this.activeTab?this.limitToken2:this.limitToken1,o=Ae["h"].parseUnits((0===this.activeTab?this.limitAmount2:this.limitAmount1)||"0",e.decimals).toString(),i=Ae["h"].parseUnits((1===this.activeTab?this.limitAmount2:this.limitAmount1)||"0",t.decimals).toString(),l=e.address,n=t.address,a={from_token:l,to_token:n,amountIn:o,amountOut:i};this.limitQuoteLoading=!0,Object(De["De"])(a).then(e=>{var o,i,l,n;if(1===e.toWrapper||2===e.toWrapper)return void(this.limitQuoteLoading=!1);this.limitGasU=e.gasU;let a=null===e||void 0===e||null===(o=e.routerPath)||void 0===o||null===(i=o.find)||void 0===i?void 0:i.call(o,e=>e.address===this.limitToken1.address),s=null===e||void 0===e||null===(l=e.routerPath)||void 0===l||null===(n=l.find)||void 0===n?void 0:n.call(l,e=>e.address===this.limitToken2.address);if(this.limitToken1.price=a.price,this.limitToken2.price=s.price,new Pe.a((null===a||void 0===a?void 0:a.amount)||0).lte(0)||new Pe.a((null===s||void 0===s?void 0:s.amount)||0).lte(0))return void this.$messageBox.alert(this.$t("limitOrderAmount"),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});this.limitPrice&&this.limitAmount1&&this.limitAmount2?0===this.activeTab?this.limitAmount1=new Pe.a(Ae["h"].formatUnits(a.amount,a.decimals)).times(a.price||0).div(this.limitPrice||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${this.limitToken1.decimals}})?`))[0]:this.limitAmount2=new Pe.a(Ae["h"].formatUnits(s.amount,s.decimals)).times(this.limitPrice||0).div(a.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${this.limitToken2.decimals}})?`))[0]:this.limitPrice&&this.limitAmount1?this.limitAmount2=new Pe.a(Ae["h"].formatUnits(s.amount,s.decimals)).times(this.limitPrice||0).div(a.price||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${this.limitToken2.decimals}})?`))[0]:this.limitPrice&&this.limitAmount2&&(this.limitAmount1=new Pe.a(Ae["h"].formatUnits(a.amount,a.decimals)).times(a.price||0).div(this.limitPrice||1).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${this.limitToken1.decimals}})?`))[0]);let c=new Pe.a(this.limitSlippage||0);c=new Pe.a(1).minus(c.div(100));let r=0===this.activeTab?this.limitAmount1:this.limitAmount2;this.limitMinReturn=new Pe.a(r||0).times(c).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${t.decimals}})?`))[0]}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.limitQuoteLoading=!1})},500)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")})):this.watchLimitSolanaPrice()},minusLimitPrice(){this.limitPrice&&new Pe.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Pe.a(this.limitPrice).times(.99).toFixed()),this.watchLimitPrice())},addLimitPrice(){this.limitPrice&&new Pe.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Pe.a(this.limitPrice).times(1.01).toFixed()),this.watchLimitPrice())},minusTriggerPrice(){this.triggerPrice&&new Pe.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Pe.a(this.triggerPrice).times(.99).toFixed()))},addTriggerPrice(){this.limitPrice&&new Pe.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Pe.a(this.triggerPrice).times(1.01).toFixed()))},quoteLimitTokenPrice(){let e=this.limitToken1.chain,t=this.limitToken1.address+"-"+e,o=this.limitToken2.address+"-"+e;return Object(De["Gd"])([t,o]).then(async e=>{var t,o;return this.limitToken1.price=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,this.limitToken2.price=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0,[this.limitToken1.price,this.limitToken2.price]})},checkLimitAmount(){if("solana"===this.chain&&this.limitSolanaError)return!1;let e=0===this.activeTab?this.limitToken2:this.limitToken1,t=e.balance||0,o=0===this.activeTab?this.limitAmount2:this.limitAmount1;return!(0===Number(t)||Number(t)<Number(o)||""===this.$store.state.wallet||"0"===String(o)||this.limitToken1.address===this.limitToken2.address)},checkLimitAmountMessage(){if("solana"===this.chain&&this.limitSolanaError)return this.$t("noSToken");let e=0===this.activeTab?this.limitToken2:this.limitToken1,t=e.balance||0,o=0===this.activeTab?this.limitAmount2:this.limitAmount1;return this.$store.state.currentAccount?!this.$store.state.currentAccount||window.ethereum||this.$store.state.provider?Number(0===t||Number(t)<Number(o)||""===this.$store.state.wallet)?this.$t("insufficientBalance"):"0"===String(o)?this.$t("AmountCannotBeZero"):"":this.$t("observeAddressNotSwap"):this.$t("pConnectWallet")},onLimitSubmit(){try{if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChainLimit())return;let e=this.$store.getters.netId,t=this.limitToken1.chain||this.limitToken2.chain||e;if(e!==t)return void this.$toast({message:this.$t("plsSwitchChain",{chain:e}),position:"top"});0!==this.selected&&1!==this.selected||(this.isLimitApprove?this.openConfirmLimit():this.approveLimit())}catch(e){}},async approveLimit(){if(!this.supportChainLimit())return;this.loadingLimitApprove=!0;let e=this.limitToken1.chain||this.$store.getters.netId||"bsc",t=Ki["s"][e],o=0===this.activeTab?this.limitToken2:this.limitToken1;Object(De["n"])(o.address,t).then(e=>e.wait()).then(e=>{this.getLimitAllowance()}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loadingLimitApprove=!1})},openConfirmLimit(){let e=0===this.activeTab?this.limitToken2:this.limitToken1,t=0===this.activeTab?this.limitToken1:this.limitToken2,o=0===this.activeTab?this.limitAmount2:this.limitAmount1,i=0===this.activeTab?this.limitAmount1:this.limitAmount2,l=0===this.activeTab?this.limitToken1.decimals:this.limitToken2.decimals,n=new Pe.a(this.limitSlippage||0);n=new Pe.a(1).minus(n.div(100));let a=new Pe.a(Ki["t"][e.chain||this.$store.getters.netId]||0).times(5);a=a.gte(3)?a.gte(50)?new Pe.a(50):a:new Pe.a(3);let s=new Pe.a(o).times(e.price).gte(a.times(.999));if(!s)return void this.$messageBox.alert(this.$t("minimumTransactionAmount",{n:a.toFixed()}),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});let c=this.limitToken1.chain||this.$store.getters.netId;this.limitInfo={chain:c,orderType:this.selected,fromToken:e,toToken:t,fromAmount:o,toAmount:i,targetToken:this.limitToken1.address,targetTokenInfo:this.limitToken1,targetLimitPrice:"solana"===c?this.limitSolanaPriceU:this.limitPrice,triggerPrice:this.triggerPrice,activeTab:this.activeTab,minReturn:new Pe.a(i||0).times(n).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`))[0],slippage:this.limitSlippage},this.activeShow=1,"solana"===c?(this.loadingLimit=!0,Object(De["Gd"])([this.limitInfo.targetToken+"-"+c]).then(e=>{var t,o;let i=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||(null===(o=this.limitInfo)||void 0===o||null===(o=o.targetTokenInfo)||void 0===o?void 0:o.current_price_usd);var l,n,a,s;if(0===this.activeTab&&new Pe.a(i).lt(null===(l=this.limitInfo)||void 0===l?void 0:l.targetLimitPrice))return void this.$messageBox.alert(this.$t("limitPriceTips",{p1:this.$f.formatNumber2(null===(n=this.limitInfo)||void 0===n?void 0:n.targetLimitPrice),p2:this.$f.formatNumber2(i)}),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});if(1===this.activeTab&&new Pe.a(i).gt(null===(a=this.limitInfo)||void 0===a?void 0:a.targetLimitPrice))return void this.$messageBox.alert(this.$t("limitPriceTips1",{p1:this.$f.formatNumber2(null===(s=this.limitInfo)||void 0===s?void 0:s.targetLimitPrice),p2:this.$f.formatNumber2(i)}),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});this.dialogVisibleLimit=!0,this.loadingLimit=!1}).catch(()=>{this.dialogVisibleLimit=!0,this.loadingLimit=!1}).finally(()=>{this.loadingLimit=!1})):this.dialogVisibleLimit=!0},submitLimitOrder(){if(!this.supportChainLimit())return;let e=new Pe.a(this.limitSlippage||0);e=new Pe.a(1).minus(e.div(100));let t=this.$store.state.currentAccount,o=0===this.activeTab?this.limitToken2:this.limitToken1,i=0===this.activeTab?this.limitToken1:this.limitToken2,l=0===this.activeTab?this.limitAmount2:this.limitAmount1,n=0===this.activeTab?this.limitAmount1:this.limitAmount2,a=o.address,s=Ae["h"].parseUnits(new Pe.a(l||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${o.decimals}})?`))[0],o.decimals).toString(),c=i.address,r=Ae["h"].parseUnits(new Pe.a(n||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${i.decimals}})?`))[0],i.decimals).toString(),d=Ae["h"].parseUnits(new Pe.a(n||0).times(e).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${i.decimals}})?`))[0],i.decimals).toString(),u=this.limitToken1.address,m=this.limitPrice;this.loadingConfirmLimit=!0;let b=this.selected,h=this.triggerPrice,p=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"";if("solana"!==this.chain)Object(De["We"])(t,a,s,c,d,r,u,m,b,h,p).then(e=>{this.$message.success(this.$t("submitOrdersSuccess")),this.getLimitOrder(),this.limitAmount1="",this.limitAmount2="",this.dialogVisibleLimit=!1}).catch(e=>{this.$f.handleError(e)}).finally(()=>{this.loadingConfirmLimit=!1});else{let e=this.solanaLimitExpiredTime?Number(parseInt(Date.now()/1e3)+parseInt(this.solanaLimitExpiredTime)):null,t="";Object(De["nb"])({fromToken:a,fromAmount:s,toToken:c,toAmount:r,expiredAt:e}).then(e=>{let o=e.result;return t=o.order,e.send()}).then(l=>{let n={from_token:a,from_token_symbol:null===o||void 0===o?void 0:o.symbol,from_token_decimals:null===o||void 0===o?void 0:o.decimals,to_token:c,to_token_symbol:null===i||void 0===i?void 0:i.symbol,to_token_decimals:null===i||void 0===i?void 0:i.decimals,from_amount:Number(s)||0,to_amount:Number(r)||0,id:t,orderKey:t,chain:"solana",created_at:0,state:"Sending",from_amount_used:"0",percent:"0",expiredAt:e,from_token_logo_url:a.logo_url,to_token_logo_url:c.logo_url};return Object(De["He"])({chain:"solana",destination:"wallet rpc",type:20,order_id:"jupiter_"+t,status:1,wallet:this.$store.state.currentAccount,out_token:c,out_amount:n.to_amount,in_token:a,in_amount:n.from_amount}),this.limitOrders=[n,...this.limitOrders],this.loadingConfirmLimit=!1,this.dialogVisibleLimit=!1,l.wait()}).then(()=>{this.getLimitOrder(t),this.limitAmount1="",this.limitAmount2=""}).catch(e=>{this.limitOrders=this.limitOrders.filter(e=>e.orderKey!==t),this.$f.handleError(e,"solana")}).finally(()=>{this.loadingConfirmLimit=!1,this.dialogVisibleLimit=!1})}},jumpAveSniperBot(){let e="";e=(this.activeTab,`solana-${this.token1.address}-ref_aveai`),window.open("https://t.me/AveSniperBot?start="+e)},watchLimitSolanaPrice(){Number(this.limitSolanaPriceU)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(Th&&(clearTimeout(Th),Th=null),Th=setTimeout(()=>{var e;if(this.limitAmount1)this.limitAmount2=new Pe.a(this.limitAmount1).times(this.limitSolanaPriceU).div((null===(e=this.limitToken2)||void 0===e?void 0:e.price)||1).toFixed(this.limitToken2.decimals);else if(this.limitAmount2){var t;this.limitAmount1=new Pe.a(this.limitAmount2).times((null===(t=this.limitToken2)||void 0===t?void 0:t.price)||0).div(this.limitSolanaPriceU).toFixed(this.limitToken1.decimals)}},500)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")})},minusLimitSolanaPrice(){this.limitSolanaPriceU&&new Pe.a(this.limitSolanaPriceU).gt("0")&&(this.limitSolanaPriceU=this.$f.formatNumber(new Pe.a(this.limitSolanaPriceU).times(.99).toFixed()),this.watchLimitSolanaPrice())},addLimitSolanaPrice(){this.limitSolanaPriceU&&new Pe.a(this.limitSolanaPriceU).gt("0")&&(this.limitSolanaPriceU=this.$f.formatNumber(new Pe.a(this.limitSolanaPriceU).times(1.01).toFixed()),this.watchLimitSolanaPrice())},quoteLimitSolana(){var e,t,o,i,l;if(null===(e=this.limitToken1)||void 0===e||!e.address||null===(t=this.limitToken2)||void 0===t||!t.address||"solana"!==this.chain||0!==this.selected)return;let n={from_token:null===(o=this.limitToken1)||void 0===o?void 0:o.address,to_token:null===(i=this.limitToken2)||void 0===i?void 0:i.address,amountIn:Ae["h"].parseUnits("1",null===(l=this.limitToken1)||void 0===l?void 0:l.decimals).toString()};this.limitSolanaError="",Object(De["Ee"])(n).then(e=>{var t;let o=Ae["h"].formatUnits((null===e||void 0===e?void 0:e.outAmount)||0,null===(t=this.limitToken2)||void 0===t?void 0:t.decimals);this.limitSolanaPrice=o,this.quoteLimitTokenPrice().then(e=>{}),this.limitSolanaError=""}).catch(e=>{this.limitSolanaPrice=0,this.limitSolanaError="1"})},getSolanaPumpInfo(){return new Promise((e,t)=>{var o,i;null===(o=this.$route.params)||void 0===o||o.id;let[l,n]=this.$f.getAddressAndChainFromId(null===(i=this.$route.params)||void 0===i?void 0:i.id,1);this.token1.address&&(l=this.token1.address),this.token1.chain&&(n=this.token1.chain),l&&"solana"===n?Object(De["nd"])(l).then(t=>{if(!1===(null===t||void 0===t?void 0:t.completed)){var o;if(this.isPump=!0,"So11111111111111111111111111111111111111112"!==this.token2.address&&(null===(o=this.tokens)||void 0===o?void 0:o.length)>0){var i;let e={...null===(i=this.tokens)||void 0===i||null===(i=i.slice())||void 0===i?void 0:i.find(e=>"So11111111111111111111111111111111111111112"===e.address)};this.token2={...e},setTimeout(()=>{this.handleSelectToken2(e)},1e3)}e(!0)}else this.isPump=!1,e(!1)}):(this.isPump=!1,e(!1))})}}};o("ace6");const Sh=wt()(xh,[["render",qn],["__scopeId","data-v-7c9ef5fc"]]);var Eh=Sh;const Bh={class:"overview"},Ch={key:0},Dh=["href"],Ih=["href"],Ah={key:1},Lh=["href"],Ph={class:"iconfont icon-copy font-12 color-text-2 ml-3"},Fh={key:1},Rh=["href"],Mh={class:"iconfont icon-copy font-12 color-text-2 ml-3"},Uh={key:1},zh={key:2},Hh={key:3},qh={class:"flex-end"},Qh=["href"],Gh={key:1},Wh={class:"flex-end"},Yh=["href"],Jh={colspan:"2"},Kh=["innerHTML"];function Zh(e,t,o,l,n,a){var s,c,r,d,u,m,b,h,p,v,O,f,j,k,g,y,w,_,$,N;const T=Object(i["resolveDirective"])("copy");return Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",Bh,[Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("table",null,[Object(i["createElementVNode"])("tbody",null,[null!==(s=a.appendix)&&void 0!==s&&s.tokenName||a.tokenInfo.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ch,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("tokenName")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(a.appendix.tokenName||a.tokenInfo.name),1)])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("onChainAddress")),1),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(a.tokenInfo.network,a.tokenInfo.address),target:"_blank"},Object(i["toDisplayString"])(null===(c=a.tokenInfo.address)||void 0===c?void 0:c.replace(new RegExp("(^.{4})(.+)(.{4}$)"),"$1...$3")),9,Dh),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{class:"iconfont icon-copy",key:null===(r=a.tokenInfo)||void 0===r?void 0:r.symbol})),[[T,a.tokenInfo.address,a.danger]])])],512),[[i["vShow"],"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"!==a.tokenInfo.address]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("pair")),1),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(a.tokenInfo.chain,null===(d=e.$store.state.pair)||void 0===d?void 0:d.pair),target:"_blank"},Object(i["toDisplayString"])(null===(u=e.$store.state.pair)||void 0===u||null===(u=u.pair)||void 0===u?void 0:u.replace(new RegExp("(^.{4})(.+)(.{4}$)"),"$1...$3")),9,Ih),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{class:"iconfont icon-copy",key:null===(m=e.$store.state.pair)||void 0===m?void 0:m.pair})),[[T,null===(b=e.$store.state.pair)||void 0===b?void 0:b.pair]])])],512),[[i["vShow"],null===(h=e.$store.state.pair)||void 0===h?void 0:h.pair]]),a.checkResult.creator_address?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ah,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("contractCreator")),1),Object(i["createElementVNode"])("td",null,[a.checkResult.creator_address?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(a.checkResult.chain||"",a.checkResult.creator_address||"","address"),target:"_blank"},Object(i["toDisplayString"])((a.checkResult.creator_address||"").replace(new RegExp("(^.{4})(.+)(.{4}$)"),"$1...$3")),9,Lh),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",Ph,null,512),[[T,a.checkResult.creator_address]])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Fh,"-"))])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("contractOwner")),1),Object(i["createElementVNode"])("td",null,[a.checkResult.owner?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(a.checkResult.chain||"",a.checkResult.owner||"","address"),target:"_blank"},Object(i["toDisplayString"])((a.checkResult.owner||"").replace(new RegExp("(^.{4})(.+)(.{4}$)"),"$1...$3")),9,Rh),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",Mh,null,512),[[T,a.checkResult.owner]])],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Uh,"-"))])]),a.tokenInfo.total?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",zh,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("totalSupply")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatNumber2(a.effectiveTotal,2)),1)])):Object(i["createCommentVNode"])("",!0),a.circulation?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Hh,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("circulation")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatNumber2(a.circulation||0,2)),1)])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("mcap")),1),Object(i["createElementVNode"])("td",null," $"+Object(i["toDisplayString"])(a.circulation?e.$f.formatNumberS(a.circulation*Number(a.currentPrice||0)||0):0),1)]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$t("FDV")),1),Object(i["createElementVNode"])("td",null," $"+Object(i["toDisplayString"])(Number(null===(p=a.tokenInfo)||void 0===p?void 0:p.total)?e.$f.formatNumberS(Number(null===(v=a.tokenInfo)||void 0===v?void 0:v.total)*Number(a.currentPrice||0)||0):0),1)]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(O=a.medias)||void 0===O?void 0:O.slice(),(e,t)=>{var o;return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:t},[null!==e&&void 0!==e&&e.url?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},["Telegram"==(null===e||void 0===e?void 0:e.name)?(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],{key:0},Object(i["renderList"])(null===e||void 0===e||null===(o=e.url)||void 0===o?void 0:o.split(","),(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(o>0?(null===e||void 0===e?void 0:e.name)+o:null===e||void 0===e?void 0:e.name),1),Object(i["createElementVNode"])("td",qh,[Object(i["createElementVNode"])("a",{class:"link",href:t,target:"_blank"},Object(i["toDisplayString"])(t),9,Qh)])]))),128)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Gh,[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(null===e||void 0===e?void 0:e.name),1),Object(i["createElementVNode"])("td",Wh,[Object(i["createElementVNode"])("a",{class:"link",href:null===e||void 0===e?void 0:e.url,target:"_blank"},Object(i["toDisplayString"])(null===e||void 0===e?void 0:e.url),9,Yh)])]))],64)):Object(i["createCommentVNode"])("",!0)],64)}),128)),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",Jh,[Object(i["createElementVNode"])("span",{class:"token-description",innerHTML:"zh-cn"==a.language||"zh-tw"==a.language?n.showAll?a.tokenInfo.intro_cn||(null===(f=a.appendix)||void 0===f?void 0:f.description)||"":(null===(j=a.tokenInfo.intro_cn)||void 0===j?void 0:j.slice(0,250))||(null===(k=a.appendix)||void 0===k||null===(k=k.description)||void 0===k?void 0:k.slice(0,250))||"":n.showAll?a.tokenInfo.intro_en||(null===(g=a.appendix)||void 0===g?void 0:g.description)||"":(null===(y=a.tokenInfo.intro_en)||void 0===y?void 0:y.slice(0,250))||(null===(w=a.appendix)||void 0===w||null===(w=w.description)||void 0===w?void 0:w.slice(0,250))||""},null,8,Kh),(null===(_=a.tokenInfo.intro_cn)||void 0===_?void 0:_.length)>250||(null===($=a.appendix)||void 0===$||null===($=$.description)||void 0===$?void 0:$.length)>250||(null===(N=a.tokenInfo.intro_en)||void 0===N?void 0:N.length)>250?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"more",href:"",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>n.showAll=!n.showAll,["stop","prevent"]))},Object(i["toDisplayString"])(n.showAll?e.$t("expand"):e.$t("more")),1)):Object(i["createCommentVNode"])("",!0)])])])])])])}var Xh={name:"Tab-tokenInfo",data(){var e,t;return{showAll:!1,checkResult1:{},form:{contractAddress:this.$route.params.id&&this.$route.params.id.includes("-")?null===(e=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===e?void 0:e.address:"",chain:this.$route.params.id&&this.$route.params.id.includes("-")?null===(t=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===t?void 0:t.chain:"bsc"}}},computed:{tokenInfo(){return this.$store.state.tokenInfo||{}},effectiveTotal(){var e,t;return new Pe.a((null===(e=this.tokenInfo)||void 0===e?void 0:e.total)||0).minus((null===(t=this.tokenInfo)||void 0===t?void 0:t.burn_amount_dec)||0).toFixed()},circulation(){var e,t,o,i;let l=new Pe.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(o=this.tokenInfo)||void 0===o?void 0:o.other_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec);return l.lt(0)?0:l},danger(){return{symbol:this.tokenInfo.symbol,danger:!0}},appendix(){var e;return null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.appendix},medias(){var e,t,o,i,l,n,a,s,c,r,d,u,m,b,h;return[{name:this.$t("website"),icon:"web",url:null===(e=this.appendix)||void 0===e?void 0:e.website},{name:this.$t("whitepaper"),icon:"whitepaper",url:null===(t=this.appendix)||void 0===t?void 0:t.whitepaper},{name:"Blog",icon:"blog",url:null===(o=this.appendix)||void 0===o?void 0:o.blog},{name:"Btok",icon:"Btok",url:null===(i=this.appendix)||void 0===i?void 0:i.btok},{name:"Discord",icon:"discord1",url:null===(l=this.appendix)||void 0===l?void 0:l.discord},{name:"Email",icon:"email",url:null===(n=this.appendix)||void 0===n?void 0:n.email},{name:"Facebook",icon:"facebook",url:null===(a=this.appendix)||void 0===a?void 0:a.facebook},{name:"Github",icon:"github",url:null===(s=this.appendix)||void 0===s?void 0:s.github},{name:"Linkedin",icon:"linkedin",url:null===(c=this.appendix)||void 0===c?void 0:c.linkedin},{name:"QQ",icon:"QQ",url:null===(r=this.appendix)||void 0===r?void 0:r.qq},{name:"Reddit",icon:"reddit",url:null===(d=this.appendix)||void 0===d?void 0:d.reddit},{name:"Slack",icon:"slack",url:null===(u=this.appendix)||void 0===u?void 0:u.slack},{name:"Telegram",icon:"TG",url:null===(m=this.appendix)||void 0===m?void 0:m.telegram},{name:"Twitter",icon:"twitter1",url:null===(b=this.appendix)||void 0===b?void 0:b.twitter},{name:"Wechat",icon:"wechat",url:null===(h=this.appendix)||void 0===h?void 0:h.wechat}]},language(){return this.$store.getters.language},checkResult(){return this.$store.state.check.checkResult||this.checkResult1},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD}},methods:{init(){var e;let t=this.$route.params.id,o=t&&t.includes("-")?null===(e=this.$f.getAddressAndChainFromId(t))||void 0===e?void 0:e.chain:"";var i,l;t&&o&&(this.$store.state.checkChains.includes(o)&&(this.form.contractAddress=this.$route.params.id&&this.$route.params.id.includes("-")?null===(i=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===i?void 0:i.address:"",this.form.chain=this.$route.params.id&&this.$route.params.id.includes("-")?null===(l=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===l?void 0:l.chain:"bsc",this.onSubmit()))},onSubmit(){this.checkResult1={};let e=this.form.contractAddress+"-"+this.form.chain;Object(De["Qb"])(e,"token",this.$store.state.currentAccount).then(e=>{var t,o;let i=e.token_contract,l=null===i||void 0===i||null===(t=i.contract_data)||void 0===t?void 0:t.audits_info,n={};l&&(n=JSON.parse(l));let a=(null===i||void 0===i||null===(o=i.contract_data)||void 0===o||null===(o=o.owner_txs)||void 0===o?void 0:o.filter(e=>{var t;return(null===e||void 0===e||null===(t=e.params)||void 0===t?void 0:t.length)>0}))||[];this.checkResult1={...i.contract_data,...i,audits_info:n,owner_txs:a}}).catch(e=>{}).finally(()=>{this.loading=!1})}}};o("186e");const ep=wt()(Xh,[["render",Zh],["__scopeId","data-v-6fa340bb"]]);var tp=ep;const op={class:"pairs-table"},ip=["onClick"],lp={class:"main flex-start"},np=["onClick"],ap={class:"main"},sp={class:"minor"},cp={class:"minor"},rp={class:"flex-baseline"},dp={key:0,class:"iconfont icon-unknown color-848E9C font-16 mr-5"},up=["href","onMouseenter","onMouseleave"],mp=["src"],bp=["innerHTML"],hp=["innerHTML"],pp={key:2,class:"main"},vp={key:3,class:"main"},Op={key:0,class:"collapse-button"},fp={class:"dialog_title"};function jp(e,t,o,l,n,a){var s,c;const r=Object(i["resolveComponent"])("el-progress"),d=Object(i["resolveComponent"])("Warning"),u=Object(i["resolveComponent"])("el-icon"),m=Object(i["resolveComponent"])("el-tooltip"),b=Object(i["resolveComponent"])("van-icon"),h=Object(i["resolveComponent"])("CheckHolders"),p=Object(i["resolveComponent"])("el-dialog");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("table",op,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("liquidityPair")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("amount"))+"/"+Object(i["toDisplayString"])(e.$t("initial")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("price"))+"/"+Object(i["toDisplayString"])(e.$t("poolCirculatingSupply")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((n.show?a.pairs:null===(s=a.pairs)||void 0===s||null===(c=s.slice)||void 0===c?void 0:c.call(s,0,1))||[],(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:l,onClick:Object(i["withModifiers"])(e=>a.goLink(o),["stop"]),class:Object(i["normalizeClass"])({active:e.$store.state.pair.address===o.pair})},[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",lp,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o.target_token===o.token0_address?o.token0_symbol:o.token1_symbol),1),0===l&&a.percent>0?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>n.visible=!0,["stop","prevent"])),class:"progress clickable",type:"circle",percentage:a.percent,color:"#12B886",width:16,"stroke-width":1.5,indeterminate:""},{default:Object(i["withCtx"])(()=>t[3]||(t[3]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-suo1"},null,-1)])),_:1},8,["percentage"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("a",{href:"",class:"main",onClick:Object(i["withModifiers"])(t=>e.$router.push({name:"Token",params:{id:(o.target_token===o.token0_address?o.token1_address:o.token0_address)+"-"+o.chain},query:{from:e.$route.name}}),["stop","prevent"])},Object(i["toDisplayString"])(o.target_token===o.token0_address?o.token1_symbol:o.token0_symbol),9,np),o.is_fake?(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:0,effect:"customized",content:e.$t("phoneyPool"),placement:"top","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[o.is_fake?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,class:"ml-3 relative-top-2",size:"12px",color:"#ffbb19"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d)]),_:1})):Object(i["createCommentVNode"])("",!0)]),_:2},1032,["content","popper-class"])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("span",ap,Object(i["toDisplayString"])(e.$f.formatNumber2((o.target_token===o.token0_address?o.reserve0:o.reserve1)||0,2,4,1e4)),1),Object(i["createElementVNode"])("span",sp,[t[4]||(t[4]=Object(i["createTextVNode"])("/ ")),o.init_reserve0||o.init_reserve1?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2((o.target_token===o.token0_address?o.init_reserve0:o.init_reserve1)||0,2,4,1e4)),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(" -- ")],64))]),t[6]||(t[6]=Object(i["createElementVNode"])("br",null,null,-1)),o.target_token===o.token0_address?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:Object(i["normalizeClass"])(["main",new n.BigNumber(o.reserve1).gt(o.init_reserve1)?"green":"red"])},Object(i["toDisplayString"])(e.$f.formatNumber2(o.reserve1||0,2,4,1e4)),3)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:Object(i["normalizeClass"])(["main",["main",new n.BigNumber(o.reserve0).gt(o.init_reserve0)?"green":"red"]])},Object(i["toDisplayString"])(e.$f.formatNumber2(o.reserve0||0,2,4,1e4)),3)),Object(i["createElementVNode"])("span",cp,[t[5]||(t[5]=Object(i["createTextVNode"])("/ ")),o.init_reserve0||o.init_reserve1?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2((o.target_token===o.token0_address?o.init_reserve1:o.init_reserve0)||0,2,4,1e4)),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(" -- ")],64))])]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("div",rp,[Object(i["createElementVNode"])("div",null,[Object(i["createVNode"])(m,{visible:n.showPopoverPool[l],"onUpdate:visible":e=>n.showPopoverPool[l]=e,manual:"true",effect:"customized",content:o.amm,placement:"top","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>["unknown"===o.amm?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",dp)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,href:o.swap_url+o.target_token,target:"_blank",onMouseenter:e=>n.showPopoverPool[l]=!0,onMouseleave:e=>n.showPopoverPool[l]=!1},[Object(i["createElementVNode"])("img",{class:"icon-svg icon-symbol",src:e.$f.formatIconSwap(o.amm),onerror:"this.src='/icon-default.png'",height:"20"},null,8,mp)],40,up))]),_:2},1032,["visible","onUpdate:visible","content","popper-class"]),o.target_token===o.token0_address?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"main",innerHTML:"$"+e.$f.formatNumber3(o.token0_price_usd||0,2,4,1e4)},null,8,bp)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"main",innerHTML:"$"+e.$f.formatNumber3(o.token1_price_usd||0,2,4,1e4)},null,8,hp)),t[7]||(t[7]=Object(i["createElementVNode"])("br",null,null,-1)),o.target_token===o.token0_address?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",pp," $"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.reserve1*o.token1_price_usd*2||0,2,4,1e4)),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",vp," $"+Object(i["toDisplayString"])(e.$f.formatNumber2(o.reserve0*o.token0_price_usd*2||0,2,4,1e4)),1))])])])],10,ip))),128))])]),a.pairs.length>1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Op,[Object(i["createElementVNode"])("button",{onClick:t[1]||(t[1]=Object(i["withModifiers"])(e=>n.show=!n.show,["stop","prevent"]))},[Object(i["createVNode"])(b,{class:Object(i["normalizeClass"])(n.show?"collapse":"expand"),name:"arrow"},null,8,["class"])])])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(p,{modelValue:n.visible,"onUpdate:modelValue":t[2]||(t[2]=e=>n.visible=e),width:"600px",class:"dialog"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",fp,"LP "+Object(i["toDisplayString"])(e.$t("holdersDetail")),1)]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{class:"holders",type:"pair",checkResult:a.LPHolders,holders:e.$store.state.tokenInfo.pair_holders||0,onlyList:""},null,8,["checkResult","holders"])]),_:1},8,["modelValue"])],64)}var kp={name:"Pairs",components:{"van-icon":jt["a"],CheckHolders:$t},data(){return{show:!1,visible:!1,showPopoverPool:[],BigNumber:Pe.a}},computed:{pairs(){var e;return(null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.pairs)||[]},percent(){var e;return 100*(null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.pair_lock_percent)||0},LPHolders(){return{chain:this.$store.state.tokenInfo.chain,pair_holders_rank:this.$store.state.LPHolders}}},watch:{pairs(){this.showPopoverPool=this.pairs.map(()=>!1)}},mounted(){},methods:{goLink(e){this.$store.commit("setInitToken",e.pair)}}};o("5565");const gp=wt()(kp,[["render",jp],["__scopeId","data-v-62a3204c"]]);var yp=gp;const wp={class:"bot-swap-container"},_p={class:"tabs"},$p=["onClick"],Np={class:"select-box"},Tp={key:0,style:{display:"inline-flex","align-items":"center",position:"absolute",top:"50%",right:"0",transform:"translateY(-50%)"}},Vp={class:"tabs-1 mr-5"},xp=["onClick"];function Sp(e,t,o,l,n,a){var s,c,r;const d=Object(i["resolveComponent"])("el-tab-pane"),u=Object(i["resolveComponent"])("el-tabs"),m=Object(i["resolveComponent"])("SlippageSet"),b=Object(i["resolveComponent"])("Market"),h=Object(i["resolveComponent"])("Limit");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wp,[Object(i["createElementVNode"])("div",_p,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.tabs,(e,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:o,class:Object(i["normalizeClass"])(["tab-item",{active:e.value===n.activeTab,["tab-"+e.value]:!0}]),type:"button",onClick:t=>a.switchTab(e.value)},[t[1]||(t[1]=Object(i["createElementVNode"])("i",{class:"iconfont icon-TG2"},null,-1)),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.name),1)],10,$p))),128))]),Object(i["createElementVNode"])("div",Np,[Object(i["createVNode"])(u,{modelValue:n.swapType,"onUpdate:modelValue":t[0]||(t[0]=e=>n.swapType=e),class:"select-tabs"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.types,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:t,label:e.name,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),null!==(s=e.$store.state.bot)&&void 0!==s&&null!==(s=s.userInfo)&&void 0!==s&&s.evmAddress&&null!==(c=e.$store.state.bot)&&void 0!==c&&null!==(c=c.isSupportChains)&&void 0!==c&&c.includes(a.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Tp,[Object(i["createElementVNode"])("div",Vp,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(["s1","s2","s3"],e=>Object(i["createElementVNode"])("button",{key:e,class:Object(i["normalizeClass"])({active:e===l.botSettings[a.chain].selected}),type:"button",onClick:Object(i["withModifiers"])(t=>l.botSettings[a.chain].selected=e,["stop"])},Object(i["toDisplayString"])(e.toUpperCase()),11,xp)),64))]),(Object(i["openBlock"])(),Object(i["createBlock"])(m,{canSetAuto:!0,isAutoSell:"market"===n.swapType,key:n.key,chain:null===(r=a.tokenInfo)||void 0===r?void 0:r.chain,setting:a.botSetting,onOnSubmit:a.onSubmitBotSwapSet},null,8,["isAutoSell","chain","setting","onOnSubmit"]))])):Object(i["createCommentVNode"])("",!0)]),Object(i["withDirectives"])(Object(i["createVNode"])(b,{activeTab:n.activeTab,swapType:n.swapType,tabs1:a.tabs1,tabs2:a.tabs2,botSettings:l.botSettings,nativeToken:e.$store.state.bot.swap.nativeToken,token:e.$store.state.bot.swap.token,onGetTokenBalance:a.getTokenBalance,"onUpdate:botSettings":a.updateBotSettings},null,8,["activeTab","swapType","tabs1","tabs2","botSettings","nativeToken","token","onGetTokenBalance","onUpdate:botSettings"]),[[i["vShow"],"market"===n.swapType]]),Object(i["withDirectives"])(Object(i["createVNode"])(h,{activeTab:n.activeTab,swapType:n.swapType,tabs1:a.tabs1,tabs2:a.tabs2,botSettings:l.botSettings,nativeToken:e.$store.state.bot.swap.nativeToken,token:e.$store.state.bot.swap.token,onGetTokenBalance:a.getTokenBalance,"onUpdate:botSettings":a.updateBotSettings},null,8,["activeTab","swapType","tabs1","tabs2","botSettings","nativeToken","token","onGetTokenBalance","onUpdate:botSettings"]),[[i["vShow"],"limit"===n.swapType]])])}var Ep=o("ecd2");const Bp={class:"input-swap"},Cp={class:"input-swap_label"},Dp={class:"input-swap_right"},Ip=["src"],Ap={class:"flex input-bottom"},Lp={class:"tabs mt-10"},Pp=["onClick"],Fp={key:0},Rp={class:"input-swap"},Mp={class:"input-swap_label"},Up={class:"input-swap_right"},zp={class:"flex input-bottom"},Hp={class:"tabs mt-10"},qp=["onClick"],Qp={key:0},Gp={key:1},Wp={key:2},Yp={class:"swap-label"},Jp={key:0,class:"slippage-container"},Kp={style:{"margin-right":"auto"}},Zp={key:1,class:"slippage-container"},Xp={style:{"margin-right":"auto"}},ev={key:2,class:"slippage-container"},tv={style:{"margin-right":"auto"}},ov={class:"swap-label_item-left"},iv={style:{display:"flex","align-items":"center"}},lv={class:"slippage-container"},nv={style:{"margin-right":"auto"}},av={key:0},sv={key:1},cv={key:3,class:"slippage-container"},rv={style:{"margin-right":"auto"}},dv={key:3,class:"connect-wallet-btn"};function uv(e,t,o,l,n,a){var s,c,r,d,u,m,b,h,p,v,O,f,j,k;const g=Object(i["resolveComponent"])("van-field"),y=Object(i["resolveComponent"])("RefreshBalance"),w=Object(i["resolveComponent"])("van-button"),_=Object(i["resolveComponent"])("el-switch");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,["buy"===o.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",Bp,[Object(i["createElementVNode"])("div",Cp,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createVNode"])(g,{modelValue:n.amountNative,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.amountNative=e),t[1]||(t[1]=e=>{var t;n.amountNative=null===e||void 0===e||null===(t=e.replace)||void 0===t?void 0:t.call(e,/\-|[^\d.]/g,""),a.watchAmount("buy")})],placeholder:"0.0",type:"number","input-align":"right",min:0,clearable:"",class:"input-number"},null,8,["modelValue"]),Object(i["createElementVNode"])("div",Dp,[Object(i["createElementVNode"])("img",{src:(null===(s=o.nativeToken)||void 0===s?void 0:s.logo_url)||`${e.$store.state.s3BaseUrl}token_icon/${a.chain}/${e.$f.getChainInfo(a.chain).wmain_wrapper||""}.png`,style:{"border-radius":"50%"},height:"20",alt:"",srcset:""},null,8,Ip)])]),Object(i["createElementVNode"])("div",Ap,[Object(i["createElementVNode"])("span",null,"≈"+Object(i["toDisplayString"])(e.$f.formatNumber2(n.amountNativeOut||0))+" "+Object(i["toDisplayString"])(null===(c=a.tokenInfo)||void 0===c?void 0:c.symbol),1),Object(i["createElementVNode"])("div",{class:"clickable ml-auto",onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>{var t;return a.handleMax((null===(t=o.nativeToken)||void 0===t?void 0:t.balance)||0,"buy")},["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("balance1"))+": ",1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(r=o.nativeToken)||void 0===r?void 0:r.balance)||0)),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(null===(d=e.$f.getChainInfo(null===(u=a.tokenInfo)||void 0===u?void 0:u.chain))||void 0===d?void 0:d.main_name),1)]),Object(i["createVNode"])(y,{type:0})]),Object(i["createElementVNode"])("div",Lp,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.tabs1,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,class:"tab-item",type:"button",onClick:Object(i["withModifiers"])(t=>a.handleAmount(e,"buy"),["stop"])},[n.editMode?n.tabs1Ref[t]?(Object(i["openBlock"])(),Object(i["createBlock"])(g,{key:1,modelValue:n.tabs1Ref[t].value,"onUpdate:modelValue":e=>n.tabs1Ref[t].value=e,placeholder:"0.0",type:"number",autosize:"","input-align":"top",class:"input-edit",onBlur:e=>{var o,i;return n.tabs1Ref[t].value=null===(o=n.tabs1Ref[t].value)||void 0===o||null===(i=o.replace)||void 0===i?void 0:i.call(o,/\-|[^\d.]/g,"")}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Fp,Object(i["toDisplayString"])(e.name),1))],8,Pp))),128)),Object(i["createElementVNode"])("button",{class:"tab-item tab-edit",type:"button",onClick:t[3]||(t[3]=e=>a.handleEdit(n.tabs1Ref,"buy"))},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["iconfont",n.editMode?"icon-xuanzhong":"icon-bianji"])},null,2)])])],64)):"sell"===o.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Rp,[Object(i["createElementVNode"])("div",Mp,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createVNode"])(g,{modelValue:n.amountToken,"onUpdate:modelValue":[t[4]||(t[4]=e=>n.amountToken=e),t[5]||(t[5]=e=>{var t;n.amountToken=null===e||void 0===e||null===(t=e.replace)||void 0===t?void 0:t.call(e,/\-|[^\d.]/g,""),a.watchAmount("sell")})],placeholder:"0.0",type:"number",min:0,"input-align":"right",clearable:"",class:"input-number"},null,8,["modelValue"]),Object(i["createElementVNode"])("div",Up,Object(i["toDisplayString"])(null===(m=a.tokenInfo)||void 0===m?void 0:m.symbol),1)]),Object(i["createElementVNode"])("div",zp,[Object(i["createElementVNode"])("span",null,"≈"+Object(i["toDisplayString"])(e.$f.formatNumber2(n.amountTokenOut||0))+" "+Object(i["toDisplayString"])(null===(b=e.$f.getChainInfo(a.chain))||void 0===b?void 0:b.main_name),1),Object(i["createElementVNode"])("span",{class:"clickable ml-auto",onClick:t[6]||(t[6]=Object(i["withModifiers"])(e=>{var t;return a.handleMax((null===(t=o.token)||void 0===t?void 0:t.balance)||0,"sell")},["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("balance1"))+": ",1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(h=o.token)||void 0===h?void 0:h.balance)||0)),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(null===(p=a.tokenInfo)||void 0===p?void 0:p.symbol),1)]),Object(i["createVNode"])(y,{type:1})]),Object(i["createElementVNode"])("div",Hp,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.tabs2,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,class:"tab-item",type:"button",onClick:Object(i["withModifiers"])(t=>a.handleAmount(e,"sell"),["stop"])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.name),1)],8,qp))),128))])],64)):Object(i["createCommentVNode"])("",!0),e.$store.getters.isSupportSwap?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[!a.isApprove||n.loadingAllowance?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:0,class:"submit-btn",block:"",color:a.swapButtonColor,"native-type":"button","loading-text":n.loadingAllowance?e.$t("checkingAllowance"):n.quoteLoading?e.$t("quoting"):n.loadingApprove?e.$t("approve"):"",loading:n.loadingApprove||n.loadingSwap||n.loadingAllowance,disabled:Number(a.fromToken.balance)<Number(a.fromAmount),onClick:Object(i["withModifiers"])(a.approve,["stop"])},{default:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(a.fromAmount)?null!==(t=a.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?e.$t("priceImpactTooHigh"):a.checkAmountMessage()||e.$t("approve"):e.$t("approve")),1)]}),_:1},8,["color","loading-text","loading","disabled","onClick"])):"buy"===o.activeTab&&(0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(a.fromAmount))?(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:1,class:"submit-btn",block:"",color:a.swapButtonColor,"native-type":"button",onClick:t[7]||(t[7]=Object(i["withModifiers"])(t=>e.$store.dispatch("bot_topUp",a.chain),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("lowBalanceToUP")),1)]),_:1},8,["color"])):(Object(i["openBlock"])(),Object(i["createBlock"])(w,{key:2,class:"submit-btn",block:"",loading:n.loadingSwap||n.quoteLoading||n.loadingAllowance,"loading-text":n.loadingSwap?"buy"===o.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:a.swapButtonColor,disabled:(null===(v=a.priceImpactV)||void 0===v||null===(O=v.gt)||void 0===O?void 0:O.call(v,.4))||!a.checkAmount()||!a.fromAmount||!a.toAmount,"native-type":"button",onClick:Object(i["withModifiers"])(a.submitBotSwap,["stop"])},{default:Object(i["withCtx"])(()=>{var t,l,n,s;return[0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(a.fromAmount)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Qp,Object(i["toDisplayString"])(a.checkAmountMessage()||("buy"===o.activeTab?e.$t("buy"):e.$t("sell"))),1)):null!==(t=a.priceImpactV)&&void 0!==t&&null!==(l=t.gt)&&void 0!==l&&l.call(t,.4)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Gp,Object(i["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Wp,Object(i["toDisplayString"])(null!==(n=a.priceImpactV)&&void 0!==n&&null!==(s=n.gt)&&void 0!==s&&s.call(n,.1)?"buy"===o.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):"buy"===o.activeTab?e.$t("buy"):e.$t("sell")),1))]}),_:1},8,["loading","loading-text","color","disabled","onClick"])),Object(i["createElementVNode"])("ul",Yp,["buy"===o.activeTab&&o.botSettings[a.chain]?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Jp,[Object(i["createElementVNode"])("span",Kp,Object(i["toDisplayString"])(e.$t("autoSellHalf")),1),Object(i["createVNode"])(_,{size:"small",modelValue:o.botSettings[a.chain][o.botSettings[a.chain].selected].autoSell,"onUpdate:modelValue":t[8]||(t[8]=e=>o.botSettings[a.chain][o.botSettings[a.chain].selected].autoSell=e),style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"}},null,8,["modelValue"])])):Object(i["createCommentVNode"])("",!0),"solana"===a.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Zp,[Object(i["createElementVNode"])("span",Xp,Object(i["toDisplayString"])(e.$t("priorityFee")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.botPriorityFee)+" SOL",1)])):e.$f.isEvmChain(a.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ev,[Object(i["createElementVNode"])("span",tv,Object(i["toDisplayString"])(e.$t("extraGas")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.botPriorityFee)+" GWEI",1)])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",ov,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("estimatedGas")),1)]),Object(i["createElementVNode"])("div",iv,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(a.getEstimatedGas()),1)])],512),[[i["vShow"],e.$f.isEvmChain(a.chain)&&a.fromAmount&&a.toAmount&&Number(a.getEstimatedGas())]]),Object(i["createElementVNode"])("li",lv,[Object(i["createElementVNode"])("span",nv,Object(i["toDisplayString"])(e.$t("slippage")),1),"auto"!==(null===(f=o.botSettings)||void 0===f||null===(f=f[a.chain])||void 0===f||null===(f=f[a.selected])||void 0===f?void 0:f.slippage)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",av,Object(i["toDisplayString"])(null===(j=o.botSettings)||void 0===j||null===(j=j[a.chain])||void 0===j||null===(j=j[a.selected])||void 0===j?void 0:j.slippage)+"%",1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",sv,Object(i["toDisplayString"])(e.$t("auto")),1))]),o.botSettings[a.chain]&&a.isCanMev?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",cv,[Object(i["createElementVNode"])("span",rv,Object(i["toDisplayString"])(e.$t("protection")),1),"solana"===a.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(_,{key:0,modelValue:o.botSettings.solana[o.botSettings.solana.selected].mev,"onUpdate:modelValue":t[9]||(t[9]=e=>o.botSettings.solana[o.botSettings.solana.selected].mev=e),style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small","before-change":a.solanaMevBeforeChange},null,8,["modelValue","before-change"])):e.$f.isEvmChain(a.chain)?(Object(i["openBlock"])(),Object(i["createBlock"])(_,{key:1,modelValue:o.botSettings[a.chain][o.botSettings[a.chain].selected].mev,"onUpdate:modelValue":t[10]||(t[10]=e=>o.botSettings[a.chain][o.botSettings[a.chain].selected].mev=e),style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small"},null,8,["modelValue"])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0)])],64)):null!==(k=e.$store.state.bot)&&void 0!==k&&null!==(k=k.userInfo)&&void 0!==k&&k.evmAddress||e.$store.state.currentAccount?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dv,[Object(i["createVNode"])(w,{class:"btn-login",color:"buy"===o.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"button",onClick:Object(i["withModifiers"])(a.connectTgWallet,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(" BOT "+Object(i["toDisplayString"])(e.$t("login")),1)]),_:1},8,["color","onClick"]),Object(i["createVNode"])(w,{class:Object(i["normalizeClass"])(["btn-connect","buy"===o.activeTab?"buy":"sell"]),color:"buy"===o.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"button",onClick:t[11]||(t[11]=Object(i["withModifiers"])(t=>{e.$store.commit("changeConnectVisible",[!0,"1"])},["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("connectWallet1")),1)]),_:1},8,["class","color"])]))])}function mv(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("van-loading"),c=Object(i["resolveComponent"])("RefreshLeft"),r=Object(i["resolveComponent"])("el-icon");return n.loading?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,size:"14px",class:"ml-5"})):(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,class:"ml-5 clickable",size:"14",onClick:Object(i["withModifiers"])(a.refreshTokenBalance,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(c)]),_:1},8,["onClick"]))}var bv={name:"refreshBalance",props:{type:{type:Number,default:1}},components:{[hd["a"].name]:hd["a"]},data(){return{loading:!1}},computed:{tokenInfo(){var e;return null===(e=this.$store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.tokenInfo}},methods:{refreshTokenBalance(){1===this.type?this.getSwapTokenBalance():this.getSwapNativeTokenBalance()},getSwapTokenBalance:Object(Ji["debounce"])((function(){var e,t,o,i,l,n,a,s;let c=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),r=(null===(i=this.$f.getAddressAndChainFromId(null===(l=this.$route.params)||void 0===l?void 0:l.id))||void 0===i?void 0:i.address)||(null===(n=this.tokenInfo)||void 0===n?void 0:n.address),d=null===(a=this.$store.state.bot.userInfo)||void 0===a||null===(a=a.addresses)||void 0===a||null===(s=a.find)||void 0===s||null===(s=s.call(a,e=>(null===e||void 0===e?void 0:e.chain)===c))||void 0===s?void 0:s.address;d&&(this.loading=!0,this.$store.dispatch("bot_getTokenBalance",{chain:c,tokens:[r],walletAddress:d}).then(e=>{let t=e[0];this.$store.state.bot.swap.token={...this.tokenInfo,...t,address:t.token||t.address,chain:c}}).finally(()=>{this.loading=!1}))}),500,{leading:!0,trailing:!0}),getSwapNativeTokenBalance:Object(Ji["debounce"])((function(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),a=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address;if(!a)return;let s={solana:"sol",ton:"TON"};this.loading=!0,this.$store.dispatch("bot_getTokenBalance",{chain:n,tokens:[s[n]||Ki["i"]],walletAddress:a}).then(e=>{var t;let o=e[0];this.$store.state.bot.swap.nativeToken={...o,symbol:null===(t=this.$f.getChainInfo(n))||void 0===t?void 0:t.main_name,chain:n,address:o.token||o.address,decimals:(null===o||void 0===o?void 0:o.decimals)||(null===o||void 0===o?void 0:o.decimal)}}).finally(()=>{this.loading=!1})}),500,{leading:!0,trailing:!0})}};const hv=wt()(bv,[["render",mv]]);var pv=hv;let vv=null;var Ov={name:"BotSwapMarket",props:{activeTab:{type:String,default:"buy"},botSettings:Object,nativeToken:Object,token:Object,tabs1:Array,tabs2:Array},emits:["getTokenBalance","update:botSettings"],components:{"van-field":rh["a"],"van-button":pd["a"],RefreshBalance:pv},data(){return{amountToken:"0.0",amountNative:"0.0",amountTokenOut:"",amountNativeOut:"",quoteLoading:!1,swapRouterPath:[],swapQuoteInfo:{},priceImpactBot:0,loadingAllowance:!1,allowance:0,loadingSwap:!1,loadingApprove:!1,loadingConfirmSwap:!1,gasPrice:0,editMode:!1,tabs1Ref:[],tabs2Ref:[]}},computed:{tokenInfo(){var e;return null===(e=this.$store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.tokenInfo},chain(){var e,t,o;return(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain)},walletAddress(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain);return null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address},fromToken(){let e="buy"===this.activeTab?this.nativeToken:this.token;return e},toToken(){let e="buy"===this.activeTab?this.token:this.nativeToken;return e},fromAmount(){let e="buy"===this.activeTab?this.amountNative:this.amountToken;return e},toAmount(){let e="buy"===this.activeTab?this.amountNativeOut:this.amountTokenOut;return e},isApprove(){var e,t,o,i;let l=["solana","ton"],n=(null===(e=this.tokenInfo)||void 0===e?void 0:e.chain)||(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain);if(l.includes(n))return!0;let a="buy"===this.activeTab?this.nativeToken:this.token,s="buy"===this.activeTab;if((null===a||void 0===a?void 0:a.address)===Ki["i"])return!0;if(!this.allowance)return!1;let c=s?this.amountNative:this.amountToken,r=this.fromToken.decimals||18;return c="-"===c||null!==(i=new Pe.a(c||0))&&void 0!==i&&i.lte(0)?new Pe.a(0):new Pe.a(c||0),Ae["h"].parseUnits(c.toFixed(r),r).lte(this.allowance)},priceImpactV(){if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";if(this.priceImpactBot)return new Pe.a(this.priceImpactBot);let e=this.swapQuoteInfo.routerPath,t=(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e[0]:this.swapQuoteInfo.fromToken||null,o=(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e[e.length-1]:this.swapQuoteInfo.toToken||null;if(t&&o){let e=this.swapQuoteInfo.from_price,i=this.swapQuoteInfo.to_price,l=t.amount,n=o.amount;return new Pe.a(l).times(e).div(new Pe.a(n).times(i)).minus(1).abs()}return""},priceImpact(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},priceImpactColor(){var e,t,o,i,l,n;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":null!==(l=this.priceImpactV)&&void 0!==l&&null!==(n=l.gt)&&void 0!==n&&n.call(l,.05)?"#f8be46":""},swapButtonColor(){var e,t,o,i;return this.$store.getters.isSupportSwap?null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":"buy"===this.activeTab?this.$store.getters.upColor[3]:"sell"===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD},mainTokensPrice(){return this.$store.state.mainTokensPrice},botPriorityFee(){var e,t,o,i;if(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.isSupportChains)||void 0===e||!e.includes(this.chain))return"";let l=(null===(t=this.botSettings)||void 0===t?void 0:t[this.chain])||{},n=(null===l||void 0===l?void 0:l.selected)||0,a=null===l||void 0===l||null===(o=l[n])||void 0===o?void 0:o.mev,{gasTip1List:s,gasTip2List:c}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,this.chain),r=a?s:c,d=a?0:1,u=null===l||void 0===l||null===(i=l[n])||void 0===i?void 0:i.gas[d],m=(null===u||void 0===u?void 0:u.customFee)||(null===r||void 0===r?void 0:r[null===u||void 0===u?void 0:u.level]);return m},isCanMev(){var e;let{gasTip1List:t}=this.$f.formatBotGasTips(null===(e=this.$store.state.bot)||void 0===e?void 0:e.gasTip,this.chain);return(null===t||void 0===t?void 0:t.length)>1},selected(){var e;let t=(null===(e=this.botSettings)||void 0===e?void 0:e[this.chain])||{};return(null===t||void 0===t?void 0:t.selected)||0}},watch:{"$store.state.tokenInfo.address"(e){e&&(this.getGasPrice(),"sell"===this.activeTab&&this.getAllowance())},walletAddress(e){e&&"sell"===this.activeTab&&this.getAllowance()},"token.address"(e){e&&(this.amountToken="",this.amountNative="",this.amountTokenOut="",this.amountNativeOut="",this.watchAmount2(this.activeTab))},activeTab(e){this.amountToken="",this.amountNative="",this.amountTokenOut="",this.amountNativeOut="","sell"===e&&this.getAllowance()},currentPrice(){this.watchAmount2(this.activeTab,!1)},tabs1(e){this.editMode||(this.tabs1Ref=JSON.parse(JSON.stringify(e)))},tabs2(e){this.editMode||(this.tabs2Ref=JSON.parse(JSON.stringify(e)))}},mounted(){this.getGasPrice(),"sell"===this.activeTab&&this.getAllowance(),this.tabs1Ref=JSON.parse(JSON.stringify(this.tabs1)),this.tabs2Ref=JSON.parse(JSON.stringify(this.tabs2))},methods:{getTokensPriceFun:Object(Ji["debounce"])((function(e,t){var o,i,l,n;let a=(null===(o=this.token)||void 0===o?void 0:o.address)+"-"+(null===(i=this.token)||void 0===i?void 0:i.chain),s=(null===(l=this.nativeToken)||void 0===l?void 0:l.address)+"-"+(null===(n=this.nativeToken)||void 0===n?void 0:n.chain);Object(De["Gd"])([a,s]).then(async t=>{if(t){var o,i;let l=(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.current_price_usd)||0,n=(null===t||void 0===t||null===(i=t[1])||void 0===i?void 0:i.current_price_usd)||0;this.nativeToken.price=n,this.token.price=l,e(t)}}).catch(e=>{t(e)})}),500),getTokensPrice(){return new Promise((e,t)=>{this.nativeToken.price&&this.token.price&&e([{current_price_usd:this.token.price},{current_price_usd:this.nativeToken.price}]),this.getTokensPriceFun(e,t)})},handleMax(e,t){let o=this.chain,i=Ki["h"][o]||.01,l=this.fromToken.decimals||18,n=e||0;if("buy"===t){if(new Pe.a(n).lt(i))return void this.$messageBox.alert(this.$t("balanceNotEnough",{n:i,s:this.fromToken.symbol}),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});this.amountNative=new Pe.a(n).minus(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`))[0]}else"sell"===t&&(this.amountToken=new Pe.a(n).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`))[0]);this.watchAmount2(t)},handleAmount(e,t){if(!this.editMode){if("buy"===t)this.amountNative=e.value;else if("sell"===t){let t=e.value,o=this.token.balance||0;if(t){let e=this.nativeToken.decimals||0;o=new Pe.a(o).times(t).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0],0===Number(o)&&(o="")}else o="";this.amount!==o&&(this.amountToken=o<0?0:o)}this.watchAmount2(t)}},handleEdit(e,t){if(this.editMode=!this.editMode,!this.editMode){const t=e.some(e=>!Number(e.value));if(t)return this.$message({type:"warning",message:this.$t("enterBuySellValue")}),void(this.editMode=!0);this.$emit("update:botSettings",{...this.botSettings,[this.chain]:{...this.botSettings[this.chain],[this.botSettings[this.chain].selected]:{...this.botSettings[this.chain][this.botSettings[this.chain].selected],buyValueList:e.map(e=>e.value)}}}),this.$nextTick(()=>{this.tabs1Ref=JSON.parse(JSON.stringify(this.tabs1))})}},watchAmount(e){vv&&(clearTimeout(vv),vv=null),vv=setTimeout(()=>{this.watchAmount2(e)},10)},watchAmount2(e,t=!0){let o=this.amountToken;"buy"===e&&(o=this.amountNative);let i=Number(o);if("buy"===e){if(""===o||"."===o)this.quoteLoading=!1,this.amountNativeOut="";else if(0===i&&0!==Number(this.amountNativeOut))this.amountNativeOut=0,this.quoteLoading=!1;else if(i){var l;this.amountNativeOut="",this.quoteBot(null===(l=this.tokenInfo)||void 0===l?void 0:l.chain,"buy",t)}}else if("sell"===e)if(""===o||"."===o)this.quoteLoading=!1,this.amountTokenOut="";else if(0===i&&0!==Number(this.amountTokenOut))this.amountTokenOut=0,this.quoteLoading=!1;else if(i){var n;this.amountTokenOut="",this.quoteBot(null===(n=this.tokenInfo)||void 0===n?void 0:n.chain,"sell",t)}},async quoteBot(e,t=this.activeTab,o=!0){var i,l,n,a,s;let c="buy"===t,r=c?this.amountNative:this.amountToken;this.quoteLoading=!0,o&&await this.getTokensPrice();let d=(null===(i=this.mainTokensPrice)||void 0===i||null===(i=i.find(t=>t.chain===e))||void 0===i?void 0:i.current_price_usd)||0,u=c?d||(null===(l=this.nativeToken)||void 0===l?void 0:l.price):this.currentPrice||(null===(n=this.token)||void 0===n?void 0:n.price),m=c?this.currentPrice||(null===(a=this.token)||void 0===a?void 0:a.price):d||(null===(s=this.nativeToken)||void 0===s?void 0:s.price)||0,b=r*(u||0)/(m||1);if(b){"buy"===t?this.amountNativeOut=b||"0":this.amountTokenOut=b||"0";let e="buy"===t?this.nativeToken:this.token,o="buy"===t?this.token:this.nativeToken,i="buy"===t?this.amountNative:this.amountToken,l="buy"===t?this.amountNativeOut:this.amountTokenOut;return this.swapRouterPath=[{symbol:null===e||void 0===e?void 0:e.symbol,nextAmm:""},{symbol:null===o||void 0===o?void 0:o.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=i,this.swapQuoteInfo.toAmount=l,this.swapQuoteInfo.fromToken={...e,amount:i},this.swapQuoteInfo.toToken={...o,amount:l},this.swapQuoteInfo.from_price=u,this.swapQuoteInfo.to_price=m,void(this.quoteLoading=!1)}},getAllowance(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain);if("solana"===n||this.fromToken.address===Ki["i"])return void(this.allowance=Ki["g"]);let a=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address;this.loadingAllowance=!0,this.$store.dispatch("bot_getApprove",{token:this.fromToken.address,chain:n,owner:a}).then(e=>{this.allowance=e}).finally(()=>{this.loadingAllowance=!1})},async approve(){var e,t,o,i,l;this.loadingApprove=!0;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),a=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address,s={batchId:Date.now().toString(),chain:n,tokenAddress:this.fromToken.address,creatorAddress:[a]};this.$store.dispatch("bot_approve",s).then(e=>{if(e){let t=setTimeout(()=>{this.$notify({type:"success",message:this.$t("approveSubmitted")})},500),o=setTimeout(()=>{this.loadingApprove=!1,this.getAllowance()},2e4);e.wait().then(()=>{t&&(clearTimeout(t),t=null),o&&(clearTimeout(o),o=null),this.$notify({type:"success",message:this.$t("approveSuccess")}),setTimeout(()=>{this.getAllowance()},1e3),this.loadingApprove=!1})}}).catch(e=>{this.$f.handleBotError(e||"approve error"),this.loadingApprove=!1})},checkAmount(){let e=this.fromToken.balance||0;return!(Number(e)<Number(this.fromAmount)||"0"===String(this.fromAmount)||this.token.address===this.nativeToken.address||new Pe.a(this.fromAmount||0).lte(0))},checkAmountMessage(){let e=this.fromToken.balance||0;return Number(e)<Number(this.fromAmount)?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0},getAvgPrice(){if(!this.fromAmount||!this.toAmount)return"--";let e=this.fromAmount,t=this.toAmount,o=this.swapQuoteInfo.from_price,i=this.swapQuoteInfo.to_price;return o&&i?"buy"===this.activeTab?this.$f.formatNumber2(e/t/(i/o)*i):"sell"===this.activeTab?this.$f.formatNumber2(t/e/(o/i)*o):void 0:"--"},alertTips(e,t){this.$messageBox.alert(t,e,{confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode}).then(()=>{})},async submitBotSwap(){var e,t,o,i,l,n;if(new Pe.a(this.fromAmount||0).lte(0))return void this.$notify({title:"Error",type:"error",message:this.$t("amountMustG0")});let a=new Pe.a(this.fromAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null===(e=this.fromToken)||void 0===e?void 0:e.decimals)||18}})?`))[0];if((Number(a)||0)<=0)return void this.$notify({title:"Error",type:"error",message:this.$t("amountTooSmall")});this.loadingConfirmSwap=!0,this.loadingSwap=!0;let s="buy"===this.activeTab,c=(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain)||(null===(i=this.tokenInfo)||void 0===i?void 0:i.chain)||"",r={solana:"sol",ton:"TON"},d=(null===r||void 0===r?void 0:r[c])||Ki["i"],u=null===(l=this.$store.state.bot.userInfo)||void 0===l||null===(l=l.addresses)||void 0===l||null===(n=l.find)||void 0===n||null===(n=n.call(l,e=>(null===e||void 0===e?void 0:e.chain)===c))||void 0===n?void 0:n.address;if("solana"===c){var m,b,h,p,v;let e=null===(m=this.botSettings)||void 0===m?void 0:m.solana[null===(b=this.botSettings)||void 0===b||null===(b=b.solana)||void 0===b?void 0:b.selected],t=null===e||void 0===e?void 0:e.mev;if(t){let e=!0;if(await this.$store.dispatch("bot_getBundleAvailable").then(async o=>{o||(e=await this.$messageBox.confirm(this.$t("mevNotAvailable"),this.$t("tips"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(async()=>(t=!1,this.botSettings.solana[this.botSettings.solana.selected].mev=!1,!0)).catch(async()=>!1))}).catch(e=>{}),!e)return this.loadingConfirmSwap=!1,void(this.loadingSwap=!1)}let{gasTip1List:o,gasTip2List:i}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,"solana"),l=t?o:i,n=t?null===e||void 0===e?void 0:e.gas[0]:null===e||void 0===e?void 0:e.gas[1],r=(null===n||void 0===n?void 0:n.customFee)||(null===l||void 0===l?void 0:l[null===n||void 0===n?void 0:n.level])||"0.002";t&&new Pe.a(r).lt("0.002")&&(r="0.002");let O=new Pe.a(r).times(10**9).toFixed(0),f=s?this.nativeToken:this.token,j=s?this.token:this.nativeToken,k=(null===(h=this.botSettings)||void 0===h||null===(h=h.solana[null===(p=this.botSettings)||void 0===p||null===(p=p.solana)||void 0===p?void 0:p.selected])||void 0===h?void 0:h.slippage)||9,g={batchId:Date.now().toString(),swapList:[{creatorAddress:u,inAmount:Ae["h"].parseUnits(a,null===(v=this.fromToken)||void 0===v?void 0:v.decimals).toString()}],inTokenAddress:s?d:f.address,outTokenAddress:s?j.address:d,swapType:s?1:2,isPrivate:t||!1,priorityFee:O,autoSell:s&&(null===e||void 0===e?void 0:e.autoSell)||!1,slippage:"auto"!==k?Number(new Pe.a(k).times(100).toFixed(0)):900,autoSlippage:"auto"===k};this.$store.dispatch("bot_createSolTx",g).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.historyUpdate++,this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.amountToken="",this.amountNative="",this.amountTokenOut="",this.amountNativeOut=""},500);const o=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:o,chain:c,destination:"solana"===c?"/botapi/swap/createSolTx":"/botapi/swap/createSwapEvmTx",type:10});const i={[null===o||void 0===o?void 0:o.batchId]:null===o||void 0===o?void 0:o.id};let l=this.$watch("$store.state.bot.subscribeResult",e=>{let o=e.batchId;if(o===g.batchId){var n;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(n=e.txList)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.success){var a;this.$notify({type:"success",message:this.$t("tradeSuccess")}),l(),setTimeout(()=>{var e;this.$emit("getTokenBalance"),this.$store.state.bot.historyUpdate++,null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory")},1e3);const t=null===e||void 0===e||null===(a=e.txList)||void 0===a?void 0:a[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===i||void 0===i?void 0:i[o])||"")}else{var s;this.$f.handleBotError((null===e||void 0===e||null===(s=e.txList)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.failMessage)||"swap error"),l(),setTimeout(()=>{this.$emit("getTokenBalance"),this.$store.state.bot.historyUpdate++},1e3)}this.loadingSwap=!1,this.loadingConfirmSwap=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),this.loadingSwap=!1,this.loadingConfirmSwap=!1})}else if(this.$f.isEvmChain(this.chain)){var O,f,j;let e=null===(O=this.botSettings)||void 0===O?void 0:O[this.chain][null===(f=this.botSettings)||void 0===f||null===(f=f[this.chain])||void 0===f?void 0:f.selected],t=null===e||void 0===e?void 0:e.mev,o=(null===e||void 0===e?void 0:e.slippage)||9,{gasTip1List:i,gasTip2List:l}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,this.chain),n=t?i:l,r=t?null===e||void 0===e?void 0:e.gas[0]:null===e||void 0===e?void 0:e.gas[1],m=0===(null===r||void 0===r?void 0:r.customFee)?"0":(null===r||void 0===r?void 0:r.customFee)||(null===n||void 0===n?void 0:n[null===r||void 0===r?void 0:r.level])||"3",b=Number(new Pe.a(m).times(10**9).toFixed(0)),h=s?this.nativeToken:this.token,p=s?this.token:this.nativeToken,v={batchId:Date.now().toString(),chain:this.chain,swapList:[{creatorAddress:u,inAmount:Ae["h"].parseUnits(a,null===(j=this.fromToken)||void 0===j?void 0:j.decimals).toString()}],inTokenAddress:s?d:h.address,outTokenAddress:s?p.address:d,swapType:s?1:2,contractType:0,isPrivate:t||!1,gasTip:b,autoSell:s&&(null===e||void 0===e?void 0:e.autoSell)||!1,slippage:"auto"!==o?Number(new Pe.a(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o};this.$store.dispatch("bot_createSwapEvmTx",v).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.historyUpdate++,this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.amountNative="",this.amountNativeOut="",this.amountToken="",this.amountTokenOut=""},500);const o=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:o,chain:c,destination:"solana"===c?"/botapi/swap/createSolTx":"/botapi/swap/createSwapEvmTx",type:10});const i={[null===o||void 0===o?void 0:o.batchId]:null===o||void 0===o?void 0:o.id};let l=this.$watch("$store.state.bot.subscribeResult",e=>{let o=e.batchId;if(o===v.batchId){var n;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(n=e.txList)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.success){var a;this.$notify({type:"success",message:this.$t("tradeSuccess")}),l(),setTimeout(()=>{var e;this.$emit("getTokenBalance"),this.$store.state.bot.historyUpdate++,null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotPosition")},1e3);const t=null===e||void 0===e||null===(a=e.txList)||void 0===a?void 0:a[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===i||void 0===i?void 0:i[o])||"")}else{var s;this.$f.handleBotError((null===e||void 0===e||null===(s=e.txList)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.failMessage)||"swap error"),l()}this.loadingSwap=!1,this.loadingConfirmSwap=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),this.loadingSwap=!1,this.loadingConfirmSwap=!1})}},onProtectionChange(e){},connectTgWallet(){this.$f.connectBotWallet()},getGasPrice(){this.$f.isEvmChain(this.chain)&&Object(Ae["l"])(this.chain).getGasPrice().then(e=>{var t;e&&(this.gasPrice=(null===e||void 0===e||null===(t=e.toString)||void 0===t?void 0:t.call(e))||0)})},getEstimatedGas(){var e;if(this.$f.isEvmChain(this.chain)&&null!==(e=this.$store.state.bot)&&void 0!==e&&null!==(e=e.isSupportChains)&&void 0!==e&&e.includes(this.chain)){var t,o,i,l,n;let e=null===(t=this.botSettings)||void 0===t?void 0:t[this.chain][null===(o=this.botSettings)||void 0===o||null===(o=o[this.chain])||void 0===o?void 0:o.selected],a=null===e||void 0===e?void 0:e.mev,s=(null===(i=this.mainTokensPrice)||void 0===i||null===(i=i.find(e=>e.chain===this.chain))||void 0===i?void 0:i.current_price_usd)||this.nativeToken.price,{gasTip1List:c,gasTip2List:r}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,this.chain),d=a?c:r,u=a?null===e||void 0===e?void 0:e.gas[0]:null===e||void 0===e?void 0:e.gas[1],m=(null===u||void 0===u?void 0:u.customFee)||(null===d||void 0===d?void 0:d[null===u||void 0===u?void 0:u.level])||"3",b=(null===(l=this.$store.state.bot.gasTip)||void 0===l||null===(n=l.find)||void 0===n||null===(n=n.call(l,e=>e.chain===this.chain&&e.mev===!!a))||void 0===n?void 0:n.gasLimit)||2e5;return this.$f.formatNumberS(new Pe.a(this.gasPrice).plus(new Pe.a(m).times(String(10**9))).times(b).times(s).div(String(10**18)).toFixed(),2)}return 0},solanaMevBeforeChange(){var e,t;let o=null===(e=this.botSettings)||void 0===e?void 0:e.solana[null===(t=this.botSettings)||void 0===t||null===(t=t.solana)||void 0===t?void 0:t.selected];return o.mev||this.$store.state.bot.bundleAvailable?Promise.resolve(!0):(this.$message({type:"warning",message:this.$t("mevPending")}),Promise.resolve(!1))}}};o("a066");const fv=wt()(Ov,[["render",uv],["__scopeId","data-v-6b7f1e20"]]);var jv=fv;const kv={class:"input-swap"},gv={class:"input-swap_label"},yv={class:"input-swap_right"},wv=["src"],_v={class:"flex input-bottom"},$v={class:"tabs mt-10"},Nv=["onClick"],Tv=["src"],Vv={class:"input-swap"},xv={class:"input-swap_label"},Sv={class:"input-swap_right"},Ev={class:"flex input-bottom"},Bv={class:"tabs mt-10"},Cv=["onClick"],Dv={class:"input-swap"},Iv={class:"input-swap_label flex"},Av={class:"slider-swap_left"},Lv={class:"slider-swap_left-mark"},Pv=["onClick"],Fv={class:"slider-swap_input"},Rv={key:0},Mv={key:1},Uv={key:2},zv={class:"swap-label"},Hv={key:0,class:"slippage-container"},qv={style:{"margin-right":"auto"}},Qv={key:1,class:"slippage-container"},Gv={style:{"margin-right":"auto"}},Wv={class:"swap-label_item-left"},Yv={style:{display:"flex","align-items":"center"}},Jv={class:"slippage-container"},Kv={style:{"margin-right":"auto"}},Zv={key:0},Xv={key:1},eO={key:2,class:"slippage-container"},tO={style:{"margin-right":"auto"}},oO={key:3,class:"connect-wallet-btn"};function iO(e,t,o,l,n,a){var s,c,r,d,u,m,b,h,p,v,O,f,j;const k=Object(i["resolveComponent"])("van-field"),g=Object(i["resolveComponent"])("RefreshBalance"),y=Object(i["resolveComponent"])("Refresh"),w=Object(i["resolveComponent"])("el-icon"),_=Object(i["resolveComponent"])("el-slider"),$=Object(i["resolveComponent"])("van-button"),N=Object(i["resolveComponent"])("el-switch");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,["buy"===o.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createElementVNode"])("div",kv,[Object(i["createElementVNode"])("div",gv,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createVNode"])(k,{modelValue:n.amountNative,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.amountNative=e),t[1]||(t[1]=e=>{var t;n.amountNative=null===e||void 0===e||null===(t=e.replace)||void 0===t?void 0:t.call(e,/\-|[^\d.]/g,""),a.watchAmount("buy")})],placeholder:"0.0",type:"number",min:0,"input-align":"right",clearable:"",class:"input-number"},null,8,["modelValue"]),Object(i["createElementVNode"])("div",yv,[Object(i["createElementVNode"])("img",{src:(null===(s=o.nativeToken)||void 0===s?void 0:s.logo_url)||`${e.$store.state.s3BaseUrl}token_icon/${a.chain}/${e.$f.getChainInfo(a.chain).wmain_wrapper||""}.png`,style:{"border-radius":"50%"},height:"20",alt:"",srcset:""},null,8,wv)])]),Object(i["createElementVNode"])("div",_v,[Object(i["createElementVNode"])("span",null,"≈"+Object(i["toDisplayString"])(e.$f.formatNumber2(n.amountNativeOut||0))+" "+Object(i["toDisplayString"])(null===(c=a.tokenInfo)||void 0===c?void 0:c.symbol),1),Object(i["createElementVNode"])("span",{class:"clickable ml-auto",onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>{var t;return a.handleMax((null===(t=o.nativeToken)||void 0===t?void 0:t.balance)||0,"buy")},["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("balance1"))+": ",1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(r=o.nativeToken)||void 0===r?void 0:r.balance)||0)),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(null===(d=e.$f.getChainInfo(a.chain))||void 0===d?void 0:d.main_name),1)]),Object(i["createVNode"])(g,{type:0})]),Object(i["createElementVNode"])("div",$v,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.tabs1,(t,l)=>{var n;return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:l,class:"tab-item",type:"button",onClick:Object(i["withModifiers"])(e=>a.handleAmount(t,"buy"),["stop"])},[Object(i["createElementVNode"])("img",{class:"mr-5",src:(null===(n=o.nativeToken)||void 0===n?void 0:n.logo_url)||`${e.$store.state.s3BaseUrl}token_icon/${a.chain}/${e.$f.getChainInfo(a.chain).wmain_wrapper||""}.png`,style:{"border-radius":"50%"},height:"14",alt:"",srcset:""},null,8,Tv),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(t.name),1)],8,Nv)}),128))])],64)):"sell"===o.activeTab?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createElementVNode"])("div",Vv,[Object(i["createElementVNode"])("div",xv,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createVNode"])(k,{modelValue:n.amountToken,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.amountToken=e),t[4]||(t[4]=e=>{var t;n.amountToken=null===e||void 0===e||null===(t=e.replace)||void 0===t?void 0:t.call(e,/\-|[^\d.]/g,""),a.watchAmount("sell")})],placeholder:"0.0",type:"number",min:0,"input-align":"right",clearable:"",class:"input-number"},null,8,["modelValue"]),Object(i["createElementVNode"])("div",Sv,Object(i["toDisplayString"])(null===(u=a.tokenInfo)||void 0===u?void 0:u.symbol),1)]),Object(i["createElementVNode"])("div",Ev,[Object(i["createElementVNode"])("span",null,"≈"+Object(i["toDisplayString"])(e.$f.formatNumber2(n.amountTokenOut||0))+" "+Object(i["toDisplayString"])(null===(m=e.$f.getChainInfo(a.chain))||void 0===m?void 0:m.main_name),1),Object(i["createElementVNode"])("span",{class:"clickable ml-auto",onClick:t[5]||(t[5]=Object(i["withModifiers"])(e=>{var t;return a.handleMax((null===(t=o.token)||void 0===t?void 0:t.balance)||0,"sell")},["stop"]))},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("balance1"))+": ",1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(b=o.token)||void 0===b?void 0:b.balance)||0)),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(null===(h=a.tokenInfo)||void 0===h?void 0:h.symbol),1)]),Object(i["createVNode"])(g,{type:1})]),Object(i["createElementVNode"])("div",Bv,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.tabs2,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:t,class:"tab-item",type:"button",onClick:Object(i["withModifiers"])(t=>a.handleAmount(e,"sell"),["stop"])},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.name),1)],8,Cv))),128))])],64)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",Dv,[Object(i["createElementVNode"])("div",Iv,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(n.isPriceLimit?e.$t("price"):"MC"),1),Object(i["createVNode"])(w,{class:"clickable ml-5",style:{color:"var(--a-text-1-color)","font-size":"12px"},onClick:t[6]||(t[6]=Object(i["withModifiers"])(e=>n.isPriceLimit=!n.isPriceLimit,["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(y)]),_:1})]),Object(i["createVNode"])(k,{modelValue:n.priceLimit,"onUpdate:modelValue":[t[7]||(t[7]=e=>n.priceLimit=e),t[8]||(t[8]=e=>{var t;return n.priceLimit=null===e||void 0===e||null===(t=e.replace)||void 0===t?void 0:t.call(e,/\-|[^\d.]/g,"")})],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number"},null,8,["modelValue"]),t[15]||(t[15]=Object(i["createElementVNode"])("div",{class:"input-swap_right"},"$",-1))]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["slider-swap",o.activeTab])},[Object(i["createElementVNode"])("div",Av,[Object(i["createVNode"])(_,{modelValue:n.priceLimitRange,"onUpdate:modelValue":t[9]||(t[9]=e=>n.priceLimitRange=e),"show-tooltip":!1,"show-input-controls":!1,min:-100,max:100},null,8,["modelValue"]),Object(i["createElementVNode"])("div",Lv,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])([-100,-50,0,50,100],(e,t)=>Object(i["createElementVNode"])("span",{key:t,class:"clickable",onClick:Object(i["withModifiers"])(t=>n.priceLimitRange=e,["stop"])},Object(i["toDisplayString"])(e)+"%",9,Pv)),64))])]),Object(i["createElementVNode"])("div",Fv,[Object(i["createVNode"])(k,{modelValue:n.priceLimitRange,"onUpdate:modelValue":t[10]||(t[10]=e=>n.priceLimitRange=e),modelModifiers:{number:!0},placeholder:"0",type:"number","input-align":"left",class:"input-number",style:Object(i["normalizeStyle"])({"--van-field-placeholder-text-color":"dark"===e.$store.state.mode?"#999999":"#c6c6c6"})},null,8,["modelValue","style"]),t[16]||(t[16]=Object(i["createElementVNode"])("span",{class:"ml-5"},"%",-1))])],2),e.$store.getters.isSupportSwap?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:2},[!a.isApprove||n.loadingAllowance?(Object(i["openBlock"])(),Object(i["createBlock"])($,{key:0,class:"submit-btn",block:"",color:a.swapButtonColor,"native-type":"button","loading-text":n.loadingAllowance?e.$t("checkingAllowance"):n.quoteLoading?e.$t("quoting"):n.loadingApprove?e.$t("approve"):"",loading:n.loadingApprove||n.loadingSwap||n.loadingAllowance,disabled:Number(a.fromToken.balance)<Number(a.fromAmount),onClick:Object(i["withModifiers"])(a.approve,["stop"])},{default:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(a.fromAmount)?null!==(t=a.priceImpactV)&&void 0!==t&&null!==(o=t.gt)&&void 0!==o&&o.call(t,.4)?e.$t("priceImpactTooHigh"):a.checkAmountMessage()||e.$t("approve"):e.$t("approve")),1)]}),_:1},8,["color","loading-text","loading","disabled","onClick"])):"buy"===o.activeTab&&(0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(a.fromAmount))?(Object(i["openBlock"])(),Object(i["createBlock"])($,{key:1,class:"submit-btn",block:"",color:a.swapButtonColor,"native-type":"button",onClick:t[11]||(t[11]=Object(i["withModifiers"])(t=>e.$store.dispatch("bot_topUp",a.chain),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("lowBalanceToUP")),1)]),_:1},8,["color"])):(Object(i["openBlock"])(),Object(i["createBlock"])($,{key:2,class:"submit-btn",block:"",loading:n.loadingSwap||n.quoteLoading||n.loadingAllowance,"loading-text":n.loadingSwap?"buy"===o.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:a.swapButtonColor,disabled:(null===(p=a.priceImpactV)||void 0===p||null===(v=p.gt)||void 0===v?void 0:v.call(p,.4))||!a.checkAmount()||!a.fromAmount||!a.toAmount,"native-type":"button",onClick:Object(i["withModifiers"])(a.submitBotSwap,["stop"])},{default:Object(i["withCtx"])(()=>{var t,l,n,s;return[0===Number(a.fromToken.balance)||Number(a.fromToken.balance)<Number(a.fromAmount)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Rv,Object(i["toDisplayString"])(a.checkAmountMessage()||("buy"===o.activeTab?e.$t("buy"):e.$t("sell"))),1)):null!==(t=a.priceImpactV)&&void 0!==t&&null!==(l=t.gt)&&void 0!==l&&l.call(t,.4)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Mv,Object(i["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Uv,Object(i["toDisplayString"])(null!==(n=a.priceImpactV)&&void 0!==n&&null!==(s=n.gt)&&void 0!==s&&s.call(n,.1)?"buy"===o.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):"buy"===o.activeTab?e.$t("buy"):e.$t("sell")),1))]}),_:1},8,["loading","loading-text","color","disabled","onClick"])),Object(i["createElementVNode"])("ul",zv,["solana"===a.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Hv,[Object(i["createElementVNode"])("span",qv,Object(i["toDisplayString"])(e.$t("priorityFee")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.botPriorityFee)+" SOL",1)])):e.$f.isEvmChain(a.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Qv,[Object(i["createElementVNode"])("span",Gv,Object(i["toDisplayString"])(e.$t("extraGas")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(a.botPriorityFee)+" GWEI",1)])):Object(i["createCommentVNode"])("",!0),Object(i["withDirectives"])(Object(i["createElementVNode"])("li",null,[Object(i["createElementVNode"])("div",Wv,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("estimatedGas")),1)]),Object(i["createElementVNode"])("div",Yv,[Object(i["createElementVNode"])("span",null,"$"+Object(i["toDisplayString"])(a.getEstimatedGas()),1)])],512),[[i["vShow"],e.$f.isEvmChain(a.chain)&&a.fromAmount&&a.toAmount&&Number(a.getEstimatedGas())]]),Object(i["createElementVNode"])("li",Jv,[Object(i["createElementVNode"])("span",Kv,Object(i["toDisplayString"])(e.$t("slippage")),1),"auto"!==(null===(O=o.botSettings[a.chain])||void 0===O||null===(O=O[a.selected])||void 0===O?void 0:O.slippage)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Zv,Object(i["toDisplayString"])(null===(f=o.botSettings[a.chain])||void 0===f||null===(f=f[a.selected])||void 0===f?void 0:f.slippage)+"%",1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Xv,Object(i["toDisplayString"])(e.$t("auto")),1))]),o.botSettings[a.chain]&&a.isCanMev?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",eO,[Object(i["createElementVNode"])("span",tO,Object(i["toDisplayString"])(e.$t("protection")),1),"solana"===a.chain?(Object(i["openBlock"])(),Object(i["createBlock"])(N,{key:0,modelValue:o.botSettings.solana[a.selected].mev,"onUpdate:modelValue":t[12]||(t[12]=e=>o.botSettings.solana[a.selected].mev=e),style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small","before-change":a.solanaMevBeforeChange},null,8,["modelValue","before-change"])):e.$f.isEvmChain(a.chain)?(Object(i["openBlock"])(),Object(i["createBlock"])(N,{key:1,modelValue:o.botSettings[a.chain][a.selected].mev,"onUpdate:modelValue":t[13]||(t[13]=e=>o.botSettings[a.chain][a.selected].mev=e),style:{"--el-switch-on-color":"#3c6cf6",zoom:"0.9",height:"14px"},size:"small"},null,8,["modelValue"])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0)])],64)):null!==(j=e.$store.state.bot)&&void 0!==j&&null!==(j=j.userInfo)&&void 0!==j&&j.evmAddress||e.$store.state.currentAccount?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",oO,[Object(i["createVNode"])($,{class:"btn-login",color:"buy"===o.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"button",onClick:Object(i["withModifiers"])(a.connectTgWallet,["stop"])},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(" BOT "+Object(i["toDisplayString"])(e.$t("login")),1)]),_:1},8,["color","onClick"]),Object(i["createVNode"])($,{class:Object(i["normalizeClass"])(["btn-connect","buy"===o.activeTab?"buy":"sell"]),color:"buy"===o.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3],"native-type":"button",onClick:t[14]||(t[14]=Object(i["withModifiers"])(t=>{e.$store.commit("changeConnectVisible",[!0,"1"])},["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("connectWallet1")),1)]),_:1},8,["class","color"])]))])}let lO=null;var nO={name:"BotSwapLimit",props:{activeTab:{type:String,default:"buy"},botSettings:Object,nativeToken:Object,token:Object,tabs1:Array,tabs2:Array},emits:["getTokenBalance"],components:{"van-field":rh["a"],"van-button":pd["a"],RefreshBalance:pv},data(){return{amountToken:"0.0",amountNative:"0.0",amountTokenOut:"",amountNativeOut:"",quoteLoading:!1,swapRouterPath:[],swapQuoteInfo:{},priceImpactBot:0,loadingAllowance:!1,allowance:0,loadingSwap:!1,loadingApprove:!1,loadingConfirmSwap:!1,gasPrice:0,priceLimit:"",priceLimitRange:void 0,isPriceLimit:!0,isTokenPrice:!1}},computed:{selected(){var e;return null===(e=this.botSettings)||void 0===e||null===(e=e[this.chain])||void 0===e?void 0:e.selected},tokenInfo(){var e;return null===(e=this.$store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.tokenInfo},circulation(){var e,t,o,i;let l=new Pe.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(o=this.tokenInfo)||void 0===o?void 0:o.other_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec);return l.lt(0)?0:l},chain(){var e,t,o;return(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain)},walletAddress(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain);return null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address},fromToken(){let e="buy"===this.activeTab?this.nativeToken:this.token;return e},toToken(){let e="buy"===this.activeTab?this.token:this.nativeToken;return e},fromAmount(){let e="buy"===this.activeTab?this.amountNative:this.amountToken;return e},toAmount(){let e="buy"===this.activeTab?this.amountNativeOut:this.amountTokenOut;return e},isApprove(){var e,t,o,i;let l=["solana","ton"],n=(null===(e=this.tokenInfo)||void 0===e?void 0:e.chain)||(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain);if(l.includes(n))return!0;let a="buy"===this.activeTab?this.nativeToken:this.token,s="buy"===this.activeTab;if((null===a||void 0===a?void 0:a.address)===Ki["i"])return!0;if(!this.allowance)return!1;let c=s?this.amountNative:this.amountToken,r=this.fromToken.decimals||18;return c="-"===c||null!==(i=new Pe.a(c||0))&&void 0!==i&&i.lte(0)?new Pe.a(0):new Pe.a(c||0),Ae["h"].parseUnits(c.toFixed(r),r).lte(this.allowance)},priceImpactV(){if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";if(this.priceImpactBot)return new Pe.a(this.priceImpactBot);let e=this.swapQuoteInfo.routerPath,t=(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e[0]:this.swapQuoteInfo.fromToken||null,o=(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e[e.length-1]:this.swapQuoteInfo.toToken||null;if(t&&o){let e=this.swapQuoteInfo.from_price,i=this.swapQuoteInfo.to_price,l=t.amount,n=o.amount;return new Pe.a(l).times(e).div(new Pe.a(n).times(i)).minus(1).abs()}return""},priceImpact(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},priceImpactColor(){var e,t,o,i,l,n;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":null!==(l=this.priceImpactV)&&void 0!==l&&null!==(n=l.gt)&&void 0!==n&&n.call(l,.05)?"#f8be46":""},swapButtonColor(){var e,t,o,i;return this.$store.getters.isSupportSwap?null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(o=this.priceImpactV)&&void 0!==o&&null!==(i=o.gt)&&void 0!==i&&i.call(o,.1)?"#F7933F":"buy"===this.activeTab?this.$store.getters.upColor[3]:"sell"===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD},mainTokensPrice(){return this.$store.state.mainTokensPrice},botPriorityFee(){var e,t;if(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.isSupportChains)||void 0===e||!e.includes(this.chain))return"";let o=null===(t=this.botSettings)||void 0===t?void 0:t[this.chain][this.selected],i=null===o||void 0===o?void 0:o.mev,{gasTip1List:l,gasTip2List:n}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,this.chain),a=i?l:n,s=i?0:1,c=null===o||void 0===o?void 0:o.gas[s],r=(null===c||void 0===c?void 0:c.customFee)||(null===a||void 0===a?void 0:a[null===c||void 0===c?void 0:c.level]);return r},isCanMev(){var e;let{gasTip1List:t}=this.$f.formatBotGasTips(null===(e=this.$store.state.bot)||void 0===e?void 0:e.gasTip,this.chain);return(null===t||void 0===t?void 0:t.length)>1}},watch:{walletAddress(e){e&&"sell"===this.activeTab&&this.getAllowance()},"token.address"(e){e&&(this.amountToken="",this.amountNative="",this.amountTokenOut="",this.amountNativeOut="",this.init())},activeTab(e){this.amountToken="",this.amountNative="",this.amountTokenOut="",this.amountNativeOut="","sell"===e&&this.getAllowance()},priceLimitRange(e){Number.isNaN(Number(e))||(this.priceLimit=this.$f.formatNumber(new Pe.a(this.currentPrice||0).times(this.isPriceLimit?1:this.circulation).times(1+(Number(e)||0)/100),4))},priceLimit(){this.watchAmount(this.activeTab)},isPriceLimit(e){Number.isNaN(Number(this.priceLimit))||(this.priceLimit=e?this.$f.formatNumber(new Pe.a(this.priceLimit||0).div(this.circulation||1).toFixed(),4):this.$f.formatNumber(new Pe.a(this.priceLimit||0).times(this.circulation).toFixed(),4))}},mounted(){this.init()},methods:{init(){this.priceLimit=this.$f.formatNumber(new Pe.a(this.$store.state.tokenPrice||this.tokenInfo.priceUSD||0).times(this.isPriceLimit?1:this.circulation),4),this.getGasPrice(),"sell"===this.activeTab&&this.getAllowance()},getTokensPrice(){var e,t,o,i;if(this.isTokenPrice)return;let l=(null===(e=this.token)||void 0===e?void 0:e.address)+"-"+(null===(t=this.token)||void 0===t?void 0:t.chain),n=(null===(o=this.nativeToken)||void 0===o?void 0:o.address)+"-"+(null===(i=this.nativeToken)||void 0===i?void 0:i.chain);Object(De["Gd"])([l,n]).then(async e=>{if(e){var t,o;let i=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,l=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0;this.nativeToken.price=l,this.token.price=i,this.isTokenPrice=!0}})},handleMax(e,t){let o=this.chain,i=Ki["h"][o]||.01,l=this.fromToken.decimals||18,n=e||0;if("buy"===t){if(new Pe.a(n).lt(i))return void this.$messageBox.alert(this.$t("balanceNotEnough",{n:i,s:this.fromToken.symbol}),this.$t("tips"),{confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode});this.amountNative=new Pe.a(n).minus(i).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`))[0]}else"sell"===t&&(this.amountToken=new Pe.a(n).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${l}})?`))[0]);this.watchAmount2(t)},handleAmount(e,t){if("buy"===t)this.amountNative=e.value;else if("sell"===t){let t=e.value,o=this.token.balance||0;if(t){let e=this.token.decimals||0;o=new Pe.a(o).times(t).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0],0===Number(o)&&(o="")}else o="";this.amount!==o&&(this.amountToken=o<0?0:o)}this.watchAmount2(t)},watchAmount(e){lO&&(clearTimeout(lO),lO=null),lO=setTimeout(()=>{this.watchAmount2(e)},10)},watchAmount2(e){let t=this.amountToken;"buy"===e&&(t=this.amountNative);let o=Number(t);if("buy"===e){if(""===t||"."===t)this.quoteLoading=!1,this.amountNativeOut="";else if(0===o&&0!==Number(this.amountNativeOut))this.amountNativeOut=0,this.quoteLoading=!1;else if(o){var i;this.amountNativeOut="",this.quoteBot(null===(i=this.tokenInfo)||void 0===i?void 0:i.chain,"buy")}}else if("sell"===e)if(""===t||"."===t)this.quoteLoading=!1,this.amountTokenOut="";else if(0===o&&0!==Number(this.amountTokenOut))this.amountTokenOut=0,this.quoteLoading=!1;else if(o){var l;this.amountTokenOut="",this.quoteBot(null===(l=this.tokenInfo)||void 0===l?void 0:l.chain,"sell")}},async quoteBot(e,t=this.activeTab){var o,i,l,n;let a="buy"===t,s=a?this.amountNative:this.amountToken;this.quoteLoading=!0;let c=(null===(o=this.mainTokensPrice)||void 0===o||null===(o=o.find(t=>t.chain===e))||void 0===o?void 0:o.current_price_usd)||0,r=this.isPriceLimit?this.priceLimit:new Pe.a(this.priceLimit).div(this.circulation||1).toFixed(),d=this.$f.formatNumber(r||this.currentPrice||(null===(i=this.token)||void 0===i?void 0:i.price),4),u=a?c||(null===(l=this.nativeToken)||void 0===l?void 0:l.price):d,m=a?d:c||(null===(n=this.nativeToken)||void 0===n?void 0:n.price)||0,b=new Pe.a(s).times(u||0).div(m||1).toFixed();if(b){"buy"===t?this.amountNativeOut=b||"0":this.amountTokenOut=b||"0";let e="buy"===t?this.nativeToken:this.token,o="buy"===t?this.token:this.nativeToken,i="buy"===t?this.amountNative:this.amountToken,l="buy"===t?this.amountNativeOut:this.amountTokenOut;return this.swapRouterPath=[{symbol:null===e||void 0===e?void 0:e.symbol,nextAmm:""},{symbol:null===o||void 0===o?void 0:o.symbol,nextAmm:""}],this.swapQuoteInfo.fromAmount=i,this.swapQuoteInfo.toAmount=l,this.swapQuoteInfo.fromToken={...e,amount:i},this.swapQuoteInfo.toToken={...o,amount:l},this.swapQuoteInfo.from_price=u,this.swapQuoteInfo.to_price=m,void(this.quoteLoading=!1)}},getAllowance(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain);if("solana"===n||this.fromToken.address===Ki["i"])return void(this.allowance=Ki["g"]);let a=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address;this.loadingAllowance=!0,this.$store.dispatch("bot_getApprove",{token:this.fromToken.address,chain:n,owner:a}).then(e=>{this.allowance=e}).finally(()=>{this.loadingAllowance=!1})},async approve(){var e,t,o,i,l;this.loadingApprove=!0;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),a=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address,s={batchId:Date.now().toString(),chain:n,tokenAddress:this.fromToken.address,creatorAddress:[a]};this.$store.dispatch("bot_approve",s).then(e=>{if(e){let e=setTimeout(()=>{this.$notify({type:"success",message:this.$t("approveSubmitted")})},500),t=setTimeout(()=>{this.loadingApprove=!1,this.getAllowance()},2e4),o=this.$watch("$store.state.bot.subscribeResult",i=>{let l=i.batchId;if(l===s.batchId){var n,a;if(e&&(clearTimeout(e),e=null),t&&(clearTimeout(t),t=null),null!==i&&void 0!==i&&null!==(n=i.txList)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.success)this.$notify({type:"success",message:this.$t("approveSuccess")}),o(),setTimeout(()=>{this.getAllowance()},1e3);else this.$f.handleBotError((null===i||void 0===i||null===(a=i.txList)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.failMessage)||"approve error"),o();this.loadingApprove=!1}})}}).catch(e=>{this.$f.handleBotError(e||"approve error"),this.loadingApprove=!1})},checkAmount(){let e=this.fromToken.balance||0;return!(Number(e)<Number(this.fromAmount)||"0"===String(this.fromAmount)||this.token.address===this.nativeToken.address||new Pe.a(this.fromAmount||0).lte(0)||new Pe.a(this.priceLimit||0).lte(0))},checkAmountMessage(){let e=this.fromToken.balance||0;return Number(e)<Number(this.fromAmount)?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0},getAvgPrice(){if(!this.fromAmount||!this.toAmount)return"--";let e=this.fromAmount,t=this.toAmount,o=this.swapQuoteInfo.from_price,i=this.swapQuoteInfo.to_price;return o&&i?"buy"===this.activeTab?this.$f.formatNumber2(e/t/(i/o)*i):"sell"===this.activeTab?this.$f.formatNumber2(t/e/(o/i)*o):void 0:"--"},alertTips(e,t){this.$messageBox.alert(t,e,{confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED",customClass:this.$store.state.mode}).then(()=>{})},async submitBotSwap(){var e,t,o,i,l,n;if(new Pe.a(this.fromAmount||0).lte(0))return void this.$notify({title:"Error",type:"error",message:this.$t("amountMustG0")});let a=new Pe.a(this.fromAmount||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null===(e=this.fromToken)||void 0===e?void 0:e.decimals)||18}})?`))[0];if((Number(a)||0)<=0)return void this.$notify({title:"Error",type:"error",message:this.$t("amountTooSmall")});this.loadingConfirmSwap=!0,this.loadingSwap=!0;let s="buy"===this.activeTab,c=(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$route.params)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain)||(null===(i=this.tokenInfo)||void 0===i?void 0:i.chain)||"",r={solana:"sol",ton:"TON"},d=(null===r||void 0===r?void 0:r[c])||Ki["i"],u=null===(l=this.$store.state.bot.userInfo)||void 0===l||null===(l=l.addresses)||void 0===l||null===(n=l.find)||void 0===n||null===(n=n.call(l,e=>(null===e||void 0===e?void 0:e.chain)===c))||void 0===n?void 0:n.address;if("solana"===c){var m,b,h,p,v;let e=null===(m=this.botSettings)||void 0===m||null===(m=m.solana[this.selected])||void 0===m?void 0:m.mev;if(e){let t=!0;if(await this.$store.dispatch("bot_getBundleAvailable").then(async o=>{o||(t=await this.$messageBox.confirm(this.$t("mevNotAvailable"),this.$t("tips"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(async()=>(e=!1,this.botSettings.solana[this.selected].mev=!1,!0)).catch(async()=>!1))}).catch(e=>{}),!t)return this.loadingConfirmSwap=!1,void(this.loadingSwap=!1)}let{gasTip1List:t,gasTip2List:o}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,"solana"),i=e?t:o,l=e?null===(b=this.botSettings)||void 0===b||null===(b=b.solana)||void 0===b||null===(b=b[this.selected])||void 0===b?void 0:b.gas[0]:null===(h=this.botSettings)||void 0===h||null===(h=h.solana)||void 0===h||null===(h=h[this.selected])||void 0===h?void 0:h.gas[1],n=(null===l||void 0===l?void 0:l.customFee)||(null===i||void 0===i?void 0:i[null===l||void 0===l?void 0:l.level])||"0.002";e&&new Pe.a(n).lt("0.002")&&(n="0.002");let r=new Pe.a(n).times(10**9).toFixed(0),d=this.isPriceLimit?this.priceLimit:this.$f.formatNumber(new Pe.a(this.priceLimit||0).div(this.circulation||1).toFixed(),4),O=(null===(p=this.botSettings)||void 0===p||null===(p=p.solana)||void 0===p||null===(p=p[this.selected])||void 0===p?void 0:p.slippage)||9,f={batchId:Date.now().toString(),swapList:[{creatorAddress:u,inAmount:Ae["h"].parseUnits(a,null===(v=this.fromToken)||void 0===v?void 0:v.decimals).toString()}],tokenAddress:this.token.address||this.$store.state.tokenInfo.address,swapType:s?5:6,isPrivate:e||!1,priceLimit:d,autoGas:null!==l&&void 0!==l&&l.customFee?0:(null===l||void 0===l?void 0:l.level)+1,priorityFee:r,slippage:"auto"!==O?Number(new Pe.a(O).times(100).toFixed(0)):900,autoSlippage:"auto"===O};this.$store.dispatch("bot_createSolLimitTx",f).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.limitHistoryUpdate++,this.$notify({type:"success",message:this.$t("limitSubmitted")}),null!==(e=["myBotPosition","botLimitOrder"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="botLimitOrder"),this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.amountToken="",this.amountNative="",this.amountTokenOut="",this.amountNativeOut="","botLimitOrder"===this.$store.state.tabActive&&(this.$store.state.bot.orderTabActive="my")},500);const o=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:o,chain:c,destination:"/botapi/swap/createSolLimitTx",type:20});const i={[null===o||void 0===o?void 0:o.batchId]:null===o||void 0===o?void 0:o.id};let l=this.$watch("$store.state.bot.subscribeResult",e=>{let o=e.batchId;if(o===f.batchId){var n;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(n=e.txList)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.success){var a;this.$notify({type:"success",message:this.$t("tradeSuccess")}),l(),setTimeout(()=>{var e;this.$emit("getTokenBalance"),this.$store.state.bot.limitHistoryUpdate++,null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory")},1e3),setTimeout(()=>{this.$store.state.bot.historyUpdate=Date.now()},3e3);const t=null===e||void 0===e||null===(a=e.txList)||void 0===a?void 0:a[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===i||void 0===i?void 0:i[o])||"")}else{var s;this.$f.handleBotError((null===e||void 0===e||null===(s=e.txList)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.failMessage)||"swap error"),l(),setTimeout(()=>{this.$emit("getTokenBalance"),this.$store.state.bot.limitHistoryUpdate++,this.$store.state.bot.historyUpdate=Date.now(),this.$store.state.tabActive="myBotHistory"},2e3)}this.loadingSwap=!1,this.loadingConfirmSwap=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),this.loadingSwap=!1,this.loadingConfirmSwap=!1})}else if(this.$f.isEvmChain(this.chain)){var O,f;let e=null===(O=this.botSettings)||void 0===O||null===(O=O[this.chain])||void 0===O?void 0:O[this.selected],t=null===e||void 0===e?void 0:e.mev,o=(null===e||void 0===e?void 0:e.slippage)||9,{gasTip1List:i,gasTip2List:l}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,this.chain),n=t?i:l,r=t?null===e||void 0===e?void 0:e.gas[0]:null===e||void 0===e?void 0:e.gas[1],m=(null===r||void 0===r?void 0:r.customFee)||(null===n||void 0===n?void 0:n[null===r||void 0===r?void 0:r.level])||"3",b=Number(new Pe.a(m).times(10**9).toFixed(0)),h=this.isPriceLimit?this.priceLimit:this.$f.formatNumber(new Pe.a(this.priceLimit||0).div(this.circulation||1).toFixed(),4),p={batchId:Date.now().toString(),chain:this.chain,swapList:[{creatorAddress:u,inAmount:Ae["h"].parseUnits(a,null===(f=this.fromToken)||void 0===f?void 0:f.decimals).toString()}],inTokenAddress:s?d:this.fromToken.address,outTokenAddress:s?this.toToken.address:d,swapType:s?5:6,swapPrice:h,contractType:0,isPrivate:t||!1,gasTip:b,slippage:"auto"!==o?Number(new Pe.a(o).times(100).toFixed(0)):900,autoSlippage:"auto"===o};this.$store.dispatch("bot_createEvmLimitTx",p).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.limitHistoryUpdate++,this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),this.loadingSwap=!1,this.loadingConfirmSwap=!1,this.amountNative="",this.amountNativeOut="",this.amountToken="",this.amountTokenOut="","botLimitOrder"===this.$store.state.tabActive&&(this.$store.state.bot.orderTabActive="my")},500);const o=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:o,chain:c,destination:"/botapi/swap/createEvmLimitTx",type:20});const i={[null===o||void 0===o?void 0:o.batchId]:null===o||void 0===o?void 0:o.id};let l=this.$watch("$store.state.bot.subscribeResult",e=>{let o=e.batchId;if(o===p.batchId){var n;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(n=e.txList)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.success){var a;this.$notify({type:"success",message:this.$t("tradeSuccess")}),l(),setTimeout(()=>{var e;this.$emit("getTokenBalance"),this.$store.state.bot.limitHistoryUpdate++,null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory")},1e3);const t=null===e||void 0===e||null===(a=e.txList)||void 0===a?void 0:a[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===i||void 0===i?void 0:i[o])||"")}else{var s;this.$f.handleBotError((null===e||void 0===e||null===(s=e.txList)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.failMessage)||"swap error"),l()}this.loadingSwap=!1,this.loadingConfirmSwap=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),this.loadingSwap=!1,this.loadingConfirmSwap=!1})}},onProtectionChange(e){},connectTgWallet(){this.$f.connectBotWallet()},getGasPrice(){this.$f.isEvmChain(this.chain)&&Object(Ae["l"])(this.chain).getGasPrice().then(e=>{var t;e&&(this.gasPrice=(null===e||void 0===e||null===(t=e.toString)||void 0===t?void 0:t.call(e))||0)})},getEstimatedGas(){var e;if(this.$f.isEvmChain(this.chain)&&null!==(e=this.$store.state.bot)&&void 0!==e&&null!==(e=e.isSupportChains)&&void 0!==e&&e.includes(this.chain)){var t,o,i,l;let e=null===(t=this.botSettings)||void 0===t||null===(t=t[this.chain])||void 0===t?void 0:t[this.selected],n=null===e||void 0===e?void 0:e.mev,a=(null===(o=this.mainTokensPrice)||void 0===o||null===(o=o.find(e=>e.chain===this.chain))||void 0===o?void 0:o.current_price_usd)||this.nativeToken.price,{gasTip1List:s,gasTip2List:c}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,this.chain),r=n?s:c,d=n?null===e||void 0===e?void 0:e.gas[0]:null===e||void 0===e?void 0:e.gas[1],u=(null===d||void 0===d?void 0:d.customFee)||(null===r||void 0===r?void 0:r[null===d||void 0===d?void 0:d.level])||"3",m=(null===(i=this.$store.state.bot.gasTip)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>e.chain===this.chain&&e.mev===!!n))||void 0===l?void 0:l.gasLimit)||2e5;return new Pe.a(this.gasPrice).plus(new Pe.a(u).times(String(10**9))).times(m).times(a).div(String(10**18)).toFixed(0)}return 0},solanaMevBeforeChange(){var e;return null!==(e=this.botSettings.solana)&&void 0!==e&&e[this.selected].mev||this.$store.state.bot.bundleAvailable?Promise.resolve(!0):(this.$message({type:"warning",message:this.$t("mevPending")}),Promise.resolve(!1))}}};o("a5ae");const aO=wt()(nO,[["render",iO],["__scopeId","data-v-7bee7882"]]);var sO=aO;let cO={solana:"sol",ton:"TON"};var rO={name:"BotSwap",components:{SlippageSet:Ep["a"],Market:jv,Limit:sO},setup(){const e=Object(Yi["c"])();return{botSettings:e}},data(){return{activeTab:"buy",swapType:"market",token:{},nativeToken:{},gasPrice:0,key:0}},computed:{tokenInfo(){var e;return null===(e=this.$store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.tokenInfo},chain(){var e,t,o;let i=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain);return i},walletAddress(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain);return null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address},tabs(){return[{name:this.$t("buy"),value:"buy"},{name:this.$t("sell"),value:"sell"}]},types(){return[{name:this.$t("swapT"),value:"market"},{name:this.$t("limitT"),value:"limit"}]},tabs1(){var e,t,o;let i=null===(e=this.tokenInfo)||void 0===e?void 0:e.chain,l=(null===(t=this.botSettings)||void 0===t?void 0:t[i])||{},n=(null===l||void 0===l||null===(o=l[l.selected])||void 0===o?void 0:o.buyValueList)||["0.02","0.05","0.1","0.5"];return n.map(e=>({name:e,value:e}))},tabs2(){var e,t,o;let i=null===(e=this.tokenInfo)||void 0===e?void 0:e.chain,l=(null===(t=this.botSettings)||void 0===t?void 0:t[i])||{},n=(null===l||void 0===l||null===(o=l[l.selected])||void 0===o?void 0:o.sellPerList)||["25","50","75","100"];return n.map(e=>({name:e+"%",value:new Pe.a(e).div(100).toString()}))},botSetting(){var e;return(null===(e=this.botSettings)||void 0===e?void 0:e[this.chain])||{}}},watch:{"$route.params.id"(e){if("Token"===this.$route.name&&e){let{address:i,chain:l}=this.$f.getAddressAndChainFromId(e);var t,o;if(this.$store.state.bot.swap.token={address:i,chain:l},l!==this.$store.state.bot.swap.nativeToken.chain)this.$store.state.bot.swap.nativeToken={symbol:null===(t=this.$f.getChainInfo(l))||void 0===t?void 0:t.main_name,chain:l,address:cO[l]||Ki["i"],decimals:null===(o=this.$f.getChainInfo(l))||void 0===o?void 0:o.decimals}}},"$store.state.tokenInfo.address"(e){e&&this.getTokenBalance()},walletAddress(e){e&&this.getTokenBalance()},"$store.state.bot.subscribeResult"(e){e&&(null===e||void 0===e?void 0:e.swapType)>2&&this.getTokenBalance()},botSettings(e){this.key++}},mounted(){if(this.$route.params.id){let{address:o,chain:i}=this.$f.getAddressAndChainFromId(this.$route.params.id);var e,t;if(this.$store.state.bot.swap.token={address:o,chain:i},i!==this.$store.state.bot.swap.nativeToken.chain)this.$store.state.bot.swap.nativeToken={symbol:null===(e=this.$f.getChainInfo(i))||void 0===e?void 0:e.main_name,chain:i,address:cO[i]||Ki["i"],decimals:null===(t=this.$f.getChainInfo(i))||void 0===t?void 0:t.decimals}}this.getTokenBalance(),this.getBundleAvailable()},methods:{updateBotSettings(e){Object.assign(this.botSettings,e)},switchTab(e){this.activeTab=e},getBundleAvailable(){this.$store.dispatch("bot_getBundleAvailable").then(e=>{e||(this.botSettings.solana.s1.mev=!1,this.botSettings.solana.s2.mev=!1,this.botSettings.solana.s3.mev=!1)})},getTokenBalance(){var e,t,o,i,l,n,a,s;let c=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),r=(null===(i=this.$f.getAddressAndChainFromId(null===(l=this.$route.params)||void 0===l?void 0:l.id))||void 0===i?void 0:i.address)||(null===(n=this.tokenInfo)||void 0===n?void 0:n.address),d=null===(a=this.$store.state.bot.userInfo)||void 0===a||null===(a=a.addresses)||void 0===a||null===(s=a.find)||void 0===s||null===(s=s.call(a,e=>(null===e||void 0===e?void 0:e.chain)===c))||void 0===s?void 0:s.address;var u,m;d?this.$store.dispatch("bot_getTokenBalance",{chain:c,tokens:[r,cO[c]||Ki["i"]],walletAddress:d}).then(e=>{var t;let o=e[0],i=e[1];this.$store.state.bot.swap.token={...this.tokenInfo,...o,address:o.token||o.address,chain:c},this.$store.state.bot.swap.nativeToken={...i,symbol:null===(t=this.$f.getChainInfo(c))||void 0===t?void 0:t.main_name,chain:c,address:i.token||i.address,decimals:(null===i||void 0===i?void 0:i.decimals)||(null===i||void 0===i?void 0:i.decimal)},this.getTokensPrice()}):this.$store.state.bot.swap.nativeToken={chain:c,symbol:null===(u=this.$f.getChainInfo(c))||void 0===u?void 0:u.main_name,address:cO[c]||Ki["i"],decimals:null===(m=this.$f.getChainInfo(c))||void 0===m?void 0:m.decimals}},getTokensPrice(){var e,t,o,i;let l=(null===(e=this.$store.state.bot.swap.token)||void 0===e?void 0:e.address)+"-"+(null===(t=this.$store.state.bot.swap.token)||void 0===t?void 0:t.chain),n=(null===(o=this.$store.state.bot.swap.nativeToken)||void 0===o?void 0:o.address)+"-"+(null===(i=this.$store.state.bot.swap.nativeToken)||void 0===i?void 0:i.chain);Object(De["Gd"])([l,n]).then(async e=>{if(e){var t,o,i;let l=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,n=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0;this.$store.state.bot.swap.nativeToken.price=n,this.$store.state.bot.swap.token.price=l,this.$store.state.bot.userInfo.addresses=((null===(i=this.$store.state)||void 0===i||null===(i=i.bot)||void 0===i||null===(i=i.userInfo)||void 0===i?void 0:i.addresses)||[]).map(e=>{var t,o;(null===e||void 0===e?void 0:e.chain)===(null===(t=this.$store.state.bot.swap.nativeToken)||void 0===t?void 0:t.chain)&&(e.price=n,e.balance=null===(o=this.$store.state.bot.swap.nativeToken)||void 0===o?void 0:o.balance);return e})}})},getSwapTokenBalance:Object(Ji["debounce"])((function(){var e,t,o,i,l,n,a,s;let c=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),r=(null===(i=this.$f.getAddressAndChainFromId(null===(l=this.$route.params)||void 0===l?void 0:l.id))||void 0===i?void 0:i.address)||(null===(n=this.tokenInfo)||void 0===n?void 0:n.address),d=null===(a=this.$store.state.bot.userInfo)||void 0===a||null===(a=a.addresses)||void 0===a||null===(s=a.find)||void 0===s||null===(s=s.call(a,e=>(null===e||void 0===e?void 0:e.chain)===c))||void 0===s?void 0:s.address;d&&this.$store.dispatch("bot_getTokenBalance",{chain:c,tokens:[r],walletAddress:d}).then(e=>{let t=e[0];this.$store.state.bot.swap.token={...this.tokenInfo,...t,address:t.token||t.address,chain:c}})}),500),getSwapNativeTokenBalance:Object(Ji["debounce"])((function(){var e,t,o,i,l;let n=(null===(e=this.$f.getAddressAndChainFromId(null===(t=this.$route.params)||void 0===t?void 0:t.id))||void 0===e?void 0:e.chain)||(null===(o=this.tokenInfo)||void 0===o?void 0:o.chain),a=null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address;a&&this.$store.dispatch("bot_getTokenBalance",{chain:n,tokens:[cO[n]||Ki["i"]],walletAddress:a}).then(e=>{var t;let o=e[0];this.$store.state.bot.swap.nativeToken={...o,symbol:null===(t=this.$f.getChainInfo(n))||void 0===t?void 0:t.main_name,chain:n,address:o.token||o.address,decimals:(null===o||void 0===o?void 0:o.decimals)||(null===o||void 0===o?void 0:o.decimal)}})}),500),onSubmitBotSwapSet(e){null!==e&&void 0!==e&&e.setting&&("solana"===this.chain?this.botSettings={...this.botSettings,solana:{...e.setting}}:this.botSettings={...this.botSettings,[this.chain]:{...e.setting}})},getGasPrice(){this.$f.isEvmChain(this.chain)&&Object(Ae["l"])(this.chain).getGasPrice().then(e=>{var t;e&&(this.gasPrice=(null===e||void 0===e||null===(t=e.toString)||void 0===t?void 0:t.call(e))||0)})}}};o("4893");const dO=wt()(rO,[["render",Sp],["__scopeId","data-v-1765822a"]]);var uO=dO;const mO={key:0,class:"best-token-container"},bO={class:"token-symbol"},hO={class:"ath-mc-value"};function pO(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("TokenImg"),c=Object(i["resolveDirective"])("tooltip");return n.bestToken?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",mO,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("devBestToken"))+" ",1),Object(i["createElementVNode"])("div",{class:"best-token-content",onClick:t[0]||(t[0]=(...e)=>a.tokenClick&&a.tokenClick(...e))},[Object(i["createVNode"])(s,{width:16,height:16,chainWidth:8,chainHeight:8,logo_url:n.bestToken.logo_url,symbol:n.bestToken.symbol,chain:a.chain,style:{"margin-right":"4px"}},null,8,["logo_url","symbol","chain"]),Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("span",bO,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.bestToken.symbol),1)])),[[c,n.bestToken.symbol]]),t[1]||(t[1]=Object(i["createTextVNode"])(" (ATH MC ")),Object(i["createElementVNode"])("span",hO,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(n.bestToken.all_time_high,0)),1),t[2]||(t[2]=Object(i["createTextVNode"])(") "))])])):Object(i["createCommentVNode"])("",!0)}var vO=o("9317"),OO={components:{TokenImg:vO["a"]},data(){return{bestToken:null}},computed:{chain(){return this.$f.getAddressAndChainFromId(this.$route.params.id||"").chain}},mounted(){this._getBestToken()},methods:{tokenClick(){const{token:e}=this.bestToken;this.$router.push(`/token/${e}-${this.chain}`)},async _getBestToken(){try{const e=await Object(De["Jb"])(this.$route.params.id||""),t=null!==e&&void 0!==e&&e.symbol?e:e.data,o=this.$store.state.tokenInfo.token.token||"",i=(null===t||void 0===t?void 0:t.token_id)||(null===t||void 0===t?void 0:t.token)||"";this.bestToken=i&&i!==o?t:null}catch(e){this.bestToken=null}}},watch:{"$store.state.tokenInfo.token"(){this._getBestToken()}}};o("16e49");const fO=wt()(OO,[["render",pO],["__scopeId","data-v-daa69e10"]]);var jO=fO,kO={name:"TokenRight",inject:["reload"],components:{Swap:Eh,tokenOverview:tp,Pairs:yp,BotSwap:uO,BestToken:jO},setup(){let e=Object(Gi["useStorage"])("priceTabActive","24h");return{tabActive:e}},data(){return{tabs:[{id:"5m",name:"5M"},{id:"1h",name:"1H"},{id:"4h",name:"4H"},{id:"24h",name:"24H"}]}},computed:{tokenInfo(){return this.$store.state.tokenInfo},pair(){return this.$store.state.pair},tab(){var e,t;return null===(e=this.tabs)||void 0===e||null===(t=e.find)||void 0===t?void 0:t.call(e,e=>e.id===this.tabActive)},circulation(){var e,t,o,i;let l=new Pe.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(o=this.tokenInfo)||void 0===o?void 0:o.other_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec);return l.lt(0)?0:l},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD}},watch:{"pair.value"(){var e;if(this.subscribeExtra(),null===(e=this.pair)||void 0===e||!e["price_change_"+this.tabActive]){let e=this.$store.state.pair;this.tabActive=["5m","1h","4h","24h"].find(t=>0!==(null===e||void 0===e?void 0:e["price_change_"+t]))||"5m"}},"$store.state.ws.switch_main_pair"(e){var t;if(e&&null!==e&&void 0!==e&&null!==(t=e.tag)&&void 0!==t&&t.endsWith("king")){var o,i,l,n;this.$message.success(this.$t("openedTip")),Wi["a"].remove("statePair");let t={...e.new_main_pair_data,new_main_pair:e.new_main_pair,init_reserve1:(null===(o=e.new_main_pair_data)||void 0===o?void 0:o.init_reserve1)||0,init_reserve0:(null===(i=e.new_main_pair_data)||void 0===i?void 0:i.init_reserve0)||0,price_change_1h:0,price_change_4h:0,price_change_5m:0,price_change_24h:0,swap_url:"",buy_volume_u_1h:0,buy_volume_u_4h:0,buy_volume_u_5m:0,buy_volume_u_24h:0,buyers_1h:0,buyers_4h:0,buyers_5m:0,buyers_24h:0,buys_tx_1h_count:0,buys_tx_4h_count:0,buys_tx_5m_count:0,buys_tx_24h_count:0,makers_1h:0,makers_4h:0,makers_5m:0,makers_24h:0,sell_volume_u_1h:0,sell_volume_u_4h:0,sell_volume_u_5m:0,sell_volume_u_24h:0,sellers_1h:0,sellers_4h:0,sellers_5m:0,sellers_24h:0,sells_tx_1h_count:0,sells_tx_4h_count:0,sells_tx_5m_count:0,sells_tx_24h_count:0,tx_1h_count:0,tx_4h_count:0,tx_5m_count:57,tx_24h_count:0,volume_u:0,volume_u_1h:0,volume_u_4h:0,volume_u_5m:0,volume_u_24h:0},a=this.$store.state.tokenInfo.pairs;a=null===(l=a)||void 0===l?void 0:l.map(t=>t.pair===e.old_main_pair?{...t,reserve0:0,reserve1:0}:{...t}),a.unshift(t),this.$store.commit("setState",{name:"tokenInfoInit",value:{...this.$store.state.tokenInfo,pairs:a}}),this.$store.commit("setInitToken",null===(n=e.new_main_pair_data)||void 0===n?void 0:n.pair)}},"$store.state.ws.isConnected"(e){e&&this.subscribeExtra()},"$store.state.ws.price_extra"(e){var t,o;let i=null===(t=this.$store.state.pair)||void 0===t?void 0:t.value,l=null===e||void 0===e||null===(o=e.find)||void 0===o?void 0:o.call(e,e=>e.pair+"-"+e.chain===i);var n;l&&(this.$store.state.pair={...this.$store.state.pair,...l},this.$store.state.tokenInfo.pairs=null===(n=this.$store.state.tokenInfo.pairs)||void 0===n?void 0:n.map(e=>e.pair===l.pair?{...e,...l}:{...e}))}},mounted(){},methods:{subscribeExtra(){var e,t;if(this.unSubscribeExtra(),this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&null!==(e=this.pair)&&void 0!==e&&e.value&&"-"!==(null===(t=this.pair)||void 0===t?void 0:t.value)){var o;let e={jsonrpc:"2.0",method:"subscribe",params:["price_extra",[null===(o=this.pair)||void 0===o?void 0:o.value]],id:1};this.$store.commit("setWsState",{name:"wsExtraParams",value:e.params}),this.$store.commit("wsSend",e)}},unSubscribeExtra(){var e;if((null===(e=this.$store.state.ws.wsExtraParams)||void 0===e?void 0:e.length)>0){let e={jsonrpc:"2.0",method:"unsubscribe",params:["price_extra"],id:1};this.$store.commit("setWsState",{name:"wsExtraParams",value:[]}),this.$store.commit("wsSend",e)}}}};o("0fa0");const gO=wt()(kO,[["render",xl],["__scopeId","data-v-0dff8f69"]]);var yO=gO,wO=o("37b2");const _O={class:"check-content"},$O={class:"flex-end"},NO={class:"flex-center width_100"},TO={class:"audit-progress relative"},VO={key:0,class:"danbao-bg-absolute"},xO={class:"danbao-bg"},SO=["href"],EO={class:"audit-bg"},BO={class:"risk-statics"},CO={class:"item1"},DO={class:"icon-svg",style:{cursor:"default"},"aria-hidden":"true"},IO={key:0,"xlink:href":"#icon-risk-gaoliang"},AO={key:1,"xlink:href":"#icon-risk"},LO={class:"item1"},PO={class:"icon-svg",style:{cursor:"default"},"aria-hidden":"true"},FO={key:0,"xlink:href":"#icon-yichang1-gaoliang"},RO={key:1,"xlink:href":"#icon-yichang1"},MO={class:"item1"},UO={class:"icon-svg",style:{cursor:"default"},"aria-hidden":"true"},zO={key:0,"xlink:href":"#icon-zhuyi1-gaoliang"},HO={key:1,"xlink:href":"#icon-zhuyi1"},qO={class:"card card1"},QO={key:0,class:"card-list-item flex-start hover"},GO={style:{display:"inline-flex","align-items":"center",color:"currentColor"}},WO={class:"icon-svg",style:{cursor:"default"},"aria-hidden":"true"},YO=["xlink:href"],JO={class:"risk-message"},KO={class:"icon-svg",style:{cursor:"default"},"aria-hidden":"true"},ZO=["xlink:href"],XO={class:"risk-message"},ef={key:1,class:"remark"},tf={class:"card basic"},of={class:"flex-between",style:{"align-items":"flex-start"}},lf={style:{flex:"1","margin-right":"15px","padding-right":"15px","border-right":"1px solid #97979733"}},nf={key:0,class:"icon-svg shui-icon","aria-hidden":"true"},af={key:1,class:"icon-svg shui-icon","aria-hidden":"true"},sf={key:0,class:"buy_tax_list"},cf={class:"indent"},rf={key:0,class:"card-list-item in"},df={class:"gray"},uf={key:1,class:"card-list-item in"},mf={class:"gray"},bf={key:2,class:"card-list-item in"},hf={class:"gray"},pf={key:3,class:"card-list-item in"},vf={class:"gray"},Of={key:4,class:"card-list-item in"},ff={class:"gray"},jf={key:5,class:"card-list-item in"},kf={class:"gray"},gf={key:6,class:"card-list-item in"},yf={class:"gray"},wf={key:7,class:"card-list-item in"},_f={class:"gray"},$f={style:{flex:"1"}},Nf={key:0,class:"icon-svg shui-icon","aria-hidden":"true"},Tf={key:1,class:"icon-svg shui-icon","aria-hidden":"true"},Vf={key:0,class:"buy_tax_list"},xf={class:"indent"},Sf={key:0,class:"card-list-item in"},Ef={class:"gray"},Bf={key:1,class:"card-list-item in"},Cf={class:"gray"},Df={key:2,class:"card-list-item in"},If={class:"gray"},Af={key:3,class:"card-list-item in"},Lf={class:"gray"},Pf={key:4,class:"card-list-item in"},Ff={class:"gray"},Rf={key:5,class:"card-list-item in"},Mf={class:"gray"},Uf={key:6,class:"card-list-item in"},zf={class:"gray"},Hf={key:7,class:"card-list-item in"},qf={class:"gray"},Qf={class:"flex-between",style:{"align-items":"flex-start"}},Gf={style:{flex:"1","margin-right":"15px","padding-right":"15px","border-right":"1px solid #97979733"}},Wf={key:0,class:"card-list-item in"},Yf={key:1,class:"card-list-item in"},Jf={class:"danger"},Kf={style:{flex:"1"}},Zf={key:0,class:"card-list-item in"},Xf={key:1,class:"card-list-item in"},ej={class:"danger"},tj={key:0,class:"mt_10"},oj={key:0,class:"card-list-item cursor"},ij={class:"color-333"},lj={key:1,class:"card-list-item"},nj={class:"color-333"},aj={class:"danger"},sj={key:2,class:"card-list-item"},cj={class:"color-333"},rj=["href"],dj={key:3,class:"card-list-item"},uj={class:"color-333"},mj=["href"],bj={key:4,class:"card-list-item"},hj={class:"color-333"},pj=["href"],vj={class:"iconfont icon-copy color-text-2 ml-3"},Oj={key:5,class:"card-list-item"},fj={class:"color-333"},jj=["href"],kj={class:"iconfont icon-copy color-text-2 ml-3"},gj={key:6,class:"card-list-item"},yj={class:"color-333"},wj={key:7,class:"card-list-item"},_j={class:"color-333"},$j={key:8,class:"card-list-item"},Nj={class:"color-333",style:{"word-break":"keep-all"}},Tj=["innerHTML"],Vj={class:"text-12px"},xj={class:"card card1"},Sj={class:"flex-1"},Ej={class:"label"},Bj={class:"range-text"},Cj={class:"flex-1"},Dj={class:"label"},Ij={class:"range-text"},Aj={class:"range"},Lj=["href"],Pj={key:2,class:"iconfont icon-LP","aria-hidden":"true",style:{width:"12px",height:"12px","vertical-align":"middle"}},Fj={key:3,class:"iconfont icon-contract",style:{"vertical-align":"middle"}},Rj={key:0,class:"table-lock"},Mj={key:0,class:"remark"},Uj={class:"text-12px"},zj={class:"card card1"},Hj={class:"flex-1"},qj={class:"label"},Qj={class:"range-text"},Gj={class:"flex-1"},Wj={class:"label"},Yj={class:"range-text"},Jj={class:"range"},Kj=["href"],Zj={key:0,style:{height:"15px"},src:Re.a,alt:"",srcset:""},Xj={key:2,class:"iconfont icon-contract"},ek={key:0,class:"table-lock"},tk={class:"risk-addition"},ok={key:0,class:"warning"},ik={key:1,class:"warning"},lk={key:2,class:"warning"},nk={key:3,class:"warning"},ak={key:4,class:"warning"},sk={key:5,class:"warning"},ck={key:6,class:"warning"},rk={key:0,class:"remark"},dk={key:0,class:"text-12px"},uk={key:1,class:"card card1"},mk=["onClick"],bk={class:"top"},hk={class:"ellipsis"},pk={class:"color-777e90"},vk={class:"color-777e90 date"},Ok={key:0,class:"bottom"},fk={class:"color-777e90 van-ellipsis"},jk={key:0,class:"color-777e90",style:{color:"#f6465d"}},kk={key:1,class:"color-777e90 flex",style:{color:"#ff9f00"}},gk={key:2,class:"color-777e90"},yk={key:1,class:"color-777e90"},wk={key:2,class:"color-777e90"},_k={key:0,class:"block ml_10"},$k={key:3,class:"color-777e90"},Nk={class:"card card1 simulate"},Tk={class:"block color-999"},Vk={class:"block"},xk={class:"block color-999"},Sk={class:"block"},Ek={class:"block"},Bk={class:"color-999"},Ck={colspan:"3",class:"tl"},Dk={class:"color-999"},Ik={class:"color-999"},Ak={class:"color-999"},Lk={class:"risk-addition"};function Pk(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("loading"),c=Object(i["resolveComponent"])("arc-progress"),r=Object(i["resolveComponent"])("el-col"),d=Object(i["resolveComponent"])("el-tooltip"),u=Object(i["resolveComponent"])("van-tag"),m=Object(i["resolveComponent"])("van-icon"),b=Object(i["resolveComponent"])("Avatar"),h=Object(i["resolveComponent"])("el-icon"),p=Object(i["resolveComponent"])("el-row"),v=Object(i["resolveComponent"])("el-empty"),O=Object(i["resolveDirective"])("copy");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",_O,[Object(i["createElementVNode"])("div",$O,[Object(i["createElementVNode"])("a",{href:"",class:"color-999 font-20",onClick:t[0]||(t[0]=Object(i["withModifiers"])(t=>e.$store.state.check.checkVisible=!1,["stop","prevent"]))},t[5]||(t[5]=[Object(i["createElementVNode"])("i",{class:"iconfont icon-_28-Arrows1 font-20"},null,-1)]))]),Object(i["createVNode"])(s,{style:{"z-index":"1"},active:n.loading,"onUpdate:active":t[1]||(t[1]=e=>n.loading=e),"can-cancel":!1,loader:"dots",opacity:1,backgroundColor:"light"===e.$store.state.mode?"#fff":"var(--custom-bg-1-color)",color:"#286DFF","is-full-page":!1},null,8,["active","backgroundColor"]),n.showResult?(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0,gutter:20},{default:Object(i["withCtx"])(()=>{var o;return[Object(i["createVNode"])(r,{span:24},{default:Object(i["withCtx"])(()=>{var t,o,l,a,s,r;return[Object(i["createElementVNode"])("div",NO,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",TO,[null!==(t=n.checkResult)&&void 0!==t&&t.is_safu_contract?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",VO,[Object(i["createElementVNode"])("div",xO,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("SAFU")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(1==(null===(o=n.checkResult)||void 0===o?void 0:o.is_safu_contract)?"PinkSale":null===(l=n.checkResult)||void 0===l?void 0:l.is_safu_contract),1)])])])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(c,{progress:n.progress,width:100,thickness:5,big:!1,class:"arc-progress",fontSize:"24px",textHeight:40},null,8,["progress"]),null!==(a=n.checkResult)&&void 0!==a&&a.audit_pass_by?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:1,class:"audit-bg-absolute",href:null===(s=n.checkResult)||void 0===s?void 0:s.audit_link,target:"_blank"},[Object(i["createElementVNode"])("div",EO,[Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("audited")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(null===(r=n.checkResult)||void 0===r?void 0:r.audit_pass_by),1)])])],8,SO)):Object(i["createCommentVNode"])("",!0)])])])]}),_:1}),Object(i["createVNode"])(r,{span:24},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",BO,[Object(i["createElementVNode"])("div",CO,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",DO,[a.statistics_risk?(Object(i["openBlock"])(),Object(i["createElementBlock"])("use",IO)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("use",AO))])),Object(i["createElementVNode"])("span",{class:"num",style:Object(i["normalizeStyle"])({color:a.statistics_risk?"#e74e54":""})},Object(i["toDisplayString"])(a.statistics_risk||0),5)]),Object(i["createElementVNode"])("div",LO,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",PO,[a.statistics_warning?(Object(i["openBlock"])(),Object(i["createElementBlock"])("use",FO)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("use",RO))])),Object(i["createElementVNode"])("span",{class:"num",style:Object(i["normalizeStyle"])({color:a.statistics_warning?"#f8be46":""})},Object(i["toDisplayString"])(a.statistics_warning),5)]),Object(i["createElementVNode"])("div",MO,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",UO,[a.statistics_unknown?(Object(i["openBlock"])(),Object(i["createElementBlock"])("use",zO)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("use",HO))])),Object(i["createElementVNode"])("span",{class:"num",style:Object(i["normalizeStyle"])({color:a.statistics_unknown?"#507eef":""})},Object(i["toDisplayString"])(a.statistics_unknown),5)])])]),_:1}),Object(i["createVNode"])(r,{span:24},{default:Object(i["withCtx"])(()=>{var o,l,s;return[Object(i["createElementVNode"])("div",qO,[Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.showRiskList||"solana"===(null===(o=n.checkResult)||void 0===o?void 0:o.chain)?a.riskList:null===(l=a.riskList)||void 0===l?void 0:l.slice(0,2),(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:o},[.6===t[0]?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",QO,[Object(i["createVNode"])(d,{effect:"customized",content:e.$t("notSurePermissionRemovalRemovesRisk"),placement:"top-start","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",GO,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",WO,[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-"+n.riskStatus[t[0]]},null,8,YO)])),Object(i["createElementVNode"])("span",JO,Object(i["toDisplayString"])(t[1]),1)])]),_:2},1032,["content","popper-class"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:1,class:Object(i["normalizeClass"])(["card-list-item flex-start",""+n.riskStatus[t[0]]])},[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",KO,[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-"+n.riskStatus[t[0]]},null,8,ZO)])),Object(i["createElementVNode"])("span",XO,Object(i["toDisplayString"])(t[1]),1)],2))],64))),128))]),a.riskList.length>2&&"solana"!==(null===(s=n.checkResult)||void 0===s?void 0:s.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"block textCenter",href:"",onClick:t[2]||(t[2]=Object(i["withModifiers"])(e=>n.showRiskList=!n.showRiskList,["stop","prevent"])),style:{color:"var(--custom-text-2-color)","font-size":"12px","text-decoration":"none"}},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["iconfont",{"icon-shouqi1":n.showRiskList,"icon-zhankai":!n.showRiskList}])},null,2)])):Object(i["createCommentVNode"])("",!0),a.risk_remark?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ef,Object(i["toDisplayString"])(e.$t("remark"))+": "+Object(i["toDisplayString"])(a.risk_remark),1)):Object(i["createCommentVNode"])("",!0)])]}),_:1}),Object(i["createVNode"])(r,{span:24},{default:Object(i["withCtx"])(()=>{var o,l,a,s,c,r,d,u,m,b,h,p,v,f,j,k,g,y;return[Object(i["createElementVNode"])("div",tf,[Object(i["createElementVNode"])("div",of,[Object(i["createElementVNode"])("ul",lf,[Object(i["createElementVNode"])("li",{class:"card-list-item cursor",style:{"margin-top":"0"},onClick:t[3]||(t[3]=Object(i["withModifiers"])(e=>{n.buy_tax_list_show=!n.buy_tax_list_show,n.sell_tax_list_show=!n.sell_tax_list_show},["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("buyTax")),1),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])({danger:n.checkResult.buy_tax>0})},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.buy_tax,2))+"% ",1),Number(null===(o=this.checkResult)||void 0===o?void 0:o.tm_buy_tax_for_lp)>0||Number(null===(l=this.checkResult)||void 0===l?void 0:l.tm_buy_tax_for_burn)>0||Number(null===(a=this.checkResult)||void 0===a?void 0:a.tm_buy_tax_for_fund)>0||Number(null===(s=this.checkResult)||void 0===s?void 0:s.tm_buy_tax_for_holders)>0||Number(null===(c=this.checkResult)||void 0===c?void 0:c.tm_buy_tax_for_lp_holders)>0||Number(null===(r=this.checkResult)||void 0===r?void 0:r.tm_buy_tax_for_team)>0||Number(null===(d=this.checkResult)||void 0===d?void 0:d.tm_buy_tax_for_inviter)>0||Number(null===(u=this.checkResult)||void 0===u?void 0:u.tm_buy_tax_for_other)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[n.buy_tax_list_show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",nf,t[6]||(t[6]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-shouqi1"},null,-1)]))):(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",af,t[7]||(t[7]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-zhankai"},null,-1)])))],64)):Object(i["createCommentVNode"])("",!0)],2)]),Object(i["createVNode"])(i["Transition"],null,{default:Object(i["withCtx"])(()=>[n.buy_tax_list_show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",sf,[Object(i["createElementVNode"])("ul",cf,[Number(n.checkResult.tm_buy_tax_for_lp)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",rf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_lp")),1),Object(i["createElementVNode"])("span",df,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_lp,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_burn)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",uf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_burn")),1),Object(i["createElementVNode"])("span",mf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_burn,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_fund)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",bf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_fund")),1),Object(i["createElementVNode"])("span",hf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_fund,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_holders)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",pf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_holders")),1),Object(i["createElementVNode"])("span",vf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_holders,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_lp_holders)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Of,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_lp_holders")),1),Object(i["createElementVNode"])("span",ff,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_lp_holders,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_team)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",jf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_team")),1),Object(i["createElementVNode"])("span",kf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_team,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_inviter)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",gf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_inviter")),1),Object(i["createElementVNode"])("span",yf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_inviter,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_buy_tax_for_other)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",wf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_buy_tax_for_other")),1),Object(i["createElementVNode"])("span",_f,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_buy_tax_for_other,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0)])])):Object(i["createCommentVNode"])("",!0)]),_:1})]),Object(i["createElementVNode"])("ul",$f,[Object(i["createElementVNode"])("li",{style:{"margin-top":"0"},class:"card-list-item cursor",onClick:t[4]||(t[4]=Object(i["withModifiers"])(e=>{n.buy_tax_list_show=!n.buy_tax_list_show,n.sell_tax_list_show=!n.sell_tax_list_show},["stop"]))},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("sellTax")),1),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])({danger:n.checkResult.sell_tax>0})},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.sell_tax,2))+"% ",1),Number(null===(m=this.checkResult)||void 0===m?void 0:m.tm_sell_tax_for_lp)>0||Number(null===(b=this.checkResult)||void 0===b?void 0:b.tm_sell_tax_for_burn)>0||Number(null===(h=this.checkResult)||void 0===h?void 0:h.tm_sell_tax_for_fund)>0||Number(null===(p=this.checkResult)||void 0===p?void 0:p.tm_sell_tax_for_holders)>0||Number(null===(v=this.checkResult)||void 0===v?void 0:v.tm_sell_tax_for_lp_holders)>0||Number(null===(f=this.checkResult)||void 0===f?void 0:f.tm_sell_tax_for_team)>0||Number(null===(j=this.checkResult)||void 0===j?void 0:j.tm_sell_tax_for_inviter)>0||Number(null===(k=this.checkResult)||void 0===k?void 0:k.tm_sell_tax_for_other)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[n.sell_tax_list_show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Nf,t[8]||(t[8]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-shouqi1"},null,-1)]))):(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Tf,t[9]||(t[9]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-zhankai"},null,-1)])))],64)):Object(i["createCommentVNode"])("",!0)],2)]),Object(i["createVNode"])(i["Transition"],null,{default:Object(i["withCtx"])(()=>[n.sell_tax_list_show?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Vf,[Object(i["createElementVNode"])("ul",xf,[Number(n.checkResult.tm_sell_tax_for_lp)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Sf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_lp")),1),Object(i["createElementVNode"])("span",Ef,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_lp,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_burn)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Bf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_burn")),1),Object(i["createElementVNode"])("span",Cf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_burn,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_fund)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Df,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_fund")),1),Object(i["createElementVNode"])("span",If,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_fund,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_holders)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Af,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_holders")),1),Object(i["createElementVNode"])("span",Lf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_holders,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_lp_holders)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Pf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_lp_holders")),1),Object(i["createElementVNode"])("span",Ff,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_lp_holders,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_team)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Rf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_team")),1),Object(i["createElementVNode"])("span",Mf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_team,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_inviter)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Uf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_inviter")),1),Object(i["createElementVNode"])("span",zf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_inviter,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0),Number(n.checkResult.tm_sell_tax_for_other)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Hf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("tm_sell_tax_for_other")),1),Object(i["createElementVNode"])("span",qf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_sell_tax_for_other,2))+"% ",1)])):Object(i["createCommentVNode"])("",!0)])])):Object(i["createCommentVNode"])("",!0)]),_:1})])]),Object(i["createElementVNode"])("div",Qf,[Object(i["createElementVNode"])("ul",Gf,[Number(n.checkResult.buy_gas)>=.1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Wf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("buy_gas")),1),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:e.$f.filterGas(Number(n.checkResult.buy_gas),n.checkResult.chain)})}," $"+Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.buy_gas,2)),5)])):Object(i["createCommentVNode"])("",!0),n.checkResult.buy_max_amount_per_tx?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Yf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("buyMaxAmount")),1),Object(i["createElementVNode"])("span",Jf,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.buy_max_amount_per_tx,0)),1)])):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("ul",Kf,[Number(n.checkResult.sell_gas)>=.1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Zf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("sell_gas")),1),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:e.$f.filterGas(Number(n.checkResult.sell_gas),n.checkResult.chain)})}," $"+Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.sell_gas,2)),5)])):Object(i["createCommentVNode"])("",!0),n.checkResult.sell_max_amount_per_tx?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Xf,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("sellMaxAmount")),1),Object(i["createElementVNode"])("span",ej,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.sell_max_amount_per_tx,0)),1)])):Object(i["createCommentVNode"])("",!0)])]),Number(n.checkResult.approve_gas)>=.1||n.checkResult.tm_max_hold_amount_per_wallet||n.checkResult.tm_bonus_token_name||n.checkResult.tm_bonus_token_for_lp_holders||n.checkResult.market_wallet||n.checkResult.team_wallet||n.checkResult.tm_kill_block_after_open||n.checkResult.tm_start_trade_at_block||n.checkResult.mechanism_intro?(Object(i["openBlock"])(),Object(i["createElementBlock"])("ul",tj,[Number(n.checkResult.approve_gas)>=.1?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",oj,[Object(i["createElementVNode"])("span",ij,Object(i["toDisplayString"])(e.$t("approve_gas")),1),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:e.$f.filterGas(Number(n.checkResult.approve_gas),n.checkResult.chain)})}," $"+Object(i["toDisplayString"])(e.$f.formatNumber2(n.checkResult.approve_gas,2)),5)])):Object(i["createCommentVNode"])("",!0),n.checkResult.tm_max_hold_amount_per_wallet?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",lj,[Object(i["createElementVNode"])("span",nj,Object(i["toDisplayString"])(e.$t("tm_max_hold_amount_per_wallet")),1),Object(i["createElementVNode"])("span",aj,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_max_hold_amount_per_wallet,0)),1)])):Object(i["createCommentVNode"])("",!0),n.checkResult.tm_bonus_token_name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",sj,[Object(i["createElementVNode"])("span",cj,Object(i["toDisplayString"])(e.$t("tm_bonus_token_name")),1),Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.checkResult.chain,n.checkResult.tm_bonus_token_for_holders),target:"_blank"},Object(i["toDisplayString"])(n.checkResult.tm_bonus_token_name),9,rj)])):Object(i["createCommentVNode"])("",!0),n.checkResult.tm_bonus_token_for_lp_holders?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",dj,[Object(i["createElementVNode"])("span",uj,Object(i["toDisplayString"])(e.$t("tm_bonus_token_name_for_lp")),1),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.checkResult.chain||"",n.checkResult.tm_bonus_token_for_lp_holders||"","address"),target:"_blank"},Object(i["toDisplayString"])(n.checkResult.tm_bonus_token_name_for_lp||(n.checkResult.tm_bonus_token_for_lp_holders||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,mj)])])):Object(i["createCommentVNode"])("",!0),n.checkResult.market_wallet?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",bj,[Object(i["createElementVNode"])("span",hj,Object(i["toDisplayString"])(e.$t("fundWallet")),1),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.checkResult.chain||"",n.checkResult.market_wallet||"","address"),target:"_blank"},Object(i["toDisplayString"])((n.checkResult.market_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,pj),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",vj,null,512),[[O,n.checkResult.market_wallet||""]])])])):Object(i["createCommentVNode"])("",!0),n.checkResult.team_wallet?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",Oj,[Object(i["createElementVNode"])("span",fj,Object(i["toDisplayString"])(e.$t("teamWallet")),1),Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.checkResult.chain||"",n.checkResult.team_wallet||"","address"),target:"_blank"},Object(i["toDisplayString"])((n.checkResult.team_wallet||"").replace(new RegExp("(^.{6})(.+)(.{4}$)"),"$1...$3")),9,jj),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",kj,null,512),[[O,n.checkResult.team_wallet||""]])])])):Object(i["createCommentVNode"])("",!0),n.checkResult.tm_kill_block_after_open?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",gj,[Object(i["createElementVNode"])("span",yj,Object(i["toDisplayString"])(e.$t("tm_kill_block_after_open")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_kill_block_after_open,0)),1)])):Object(i["createCommentVNode"])("",!0),n.checkResult.tm_start_trade_at_block?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",wj,[Object(i["createElementVNode"])("span",_j,Object(i["toDisplayString"])(e.$t("tm_start_trade_at_block")),1),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$f.formatNumUnit(n.checkResult.tm_start_trade_at_block,0)),1)])):Object(i["createCommentVNode"])("",!0),n.checkResult.mechanism_intro?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",$j,[Object(i["createElementVNode"])("span",Nj,Object(i["toDisplayString"])(e.$t("mechanism_intro")),1),Object(i["createElementVNode"])("span",{class:"indent",innerHTML:null===(g=n.checkResult)||void 0===g||null===(g=g.mechanism_intro)||void 0===g||null===(y=g.replace)||void 0===y?void 0:y.call(g,/\n/g,"<br/>")},null,8,Tj)])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0)])]}),_:1}),Object(i["createVNode"])(r,{span:24},{default:Object(i["withCtx"])(()=>{var o,l,s,c,r,p,v,O,f,j,k,g,y,w,_,$,N,T,V,x,S,E,B,C;return[Object(i["createElementVNode"])("div",Vj,Object(i["toDisplayString"])(null===(o=a.list)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.name)+"("+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(l=n.checkResult)||void 0===l?void 0:l.holders)||0))+")",1),Object(i["createElementVNode"])("div",xj,[Object(i["createElementVNode"])("div",Sj,[Object(i["createElementVNode"])("span",Ej,Object(i["toDisplayString"])(e.$t("totalSupply1")),1),Object(i["createElementVNode"])("span",Bj,Object(i["toDisplayString"])(e.$f.formatNumber2(n.checkResult.total||0)),1)]),Object(i["createElementVNode"])("div",Cj,[Object(i["createElementVNode"])("span",Dj,Object(i["toDisplayString"])(e.$t("top10Holder")),1),t[10]||(t[10]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("span",Ij,Object(i["toDisplayString"])(e.$f.formatPercent(a.range)),1),Object(i["createElementVNode"])("div",Aj,[Object(i["createElementVNode"])("span",{class:"range-bar",style:Object(i["normalizeStyle"])({width:e.$f.formatPercent(a.range)})},null,4)])]),Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(s=n.checkResult)||void 0===s?void 0:s.token_holders_rank)||[],(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:l},[Object(i["createElementVNode"])("li",{class:Object(i["normalizeClass"])(["card-list-item",{"bg-warning":1===Number(null===o||void 0===o?void 0:o.analysis_show_warning)}])},[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.checkResult.chain||"",o.address||"","address"),target:"_blank"},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(l+1)+".",1),1===Number(null===o||void 0===o?void 0:o.analysis_show_creator)?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,type:"primary",round:"",size:"10",class:"mr-3"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("contractCreator")),1)]),_:1})):Object(i["createCommentVNode"])("",!0),o.lock||/lock|null/gi.test(o.mark||"")?(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:1,color:"#B3920E",name:"lock"})):Object(i["createCommentVNode"])("",!0),1===o.is_lp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Pj,t[11]||(t[11]=[Object(i["createElementVNode"])("use",{"xlink:href":"#icon-LP"},null,-1)]))):Object(i["createCommentVNode"])("",!0),1===o.is_contract?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",Fj)):Object(i["createCommentVNode"])("",!0),o.mark?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:5},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(o.mark),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createTextVNode"])(Object(i["toDisplayString"])((o.address||"").slice(0,2)+"..."+(o.address||"").slice(-4)),1)],64)),o.lock&&o.lock.length>0&&o.lock.every(e=>1e3*e.unlockDate<=Date.now())?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:6},[t[12]||(t[12]=Object(i["createElementVNode"])("br",null,null,-1)),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.$t("unlocked")),1)],64)):Object(i["createCommentVNode"])("",!0)],8,Lj),Object(i["createElementVNode"])("span",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(o.quantity||0,2,4,1e4))+" ",1),n.checkResult.total&&o.quantity?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" ("+Object(i["toDisplayString"])(e.$f.formatPercent(o.quantity/n.checkResult.total,2))+") ",1)],64)):Object(i["createCommentVNode"])("",!0)])],2),o.lock&&o.lock.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("table",Rj,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("lockDate")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateStart")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateEnd")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(o.lock,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o},[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.amount||0,2,4,1e4)),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.vesting_end||t.unlockDate,"YYYY-MM-DD")),1)]))),128))])])):Object(i["createCommentVNode"])("",!0)],64))),128))]),a.holder_remark?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Mj,Object(i["toDisplayString"])(e.$t("remark"))+": "+Object(i["toDisplayString"])(a.holder_remark),1)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",Uj,Object(i["toDisplayString"])(null===(c=a.list)||void 0===c||null===(c=c[1])||void 0===c?void 0:c.name)+"("+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(r=n.checkResult)||void 0===r?void 0:r.pair_holders)||0))+")",1),Object(i["createElementVNode"])("div",zj,[Object(i["createElementVNode"])("div",Hj,[Object(i["createElementVNode"])("span",qj,Object(i["toDisplayString"])(e.$t("totalSupply1")),1),Object(i["createElementVNode"])("span",Qj,Object(i["toDisplayString"])(e.$f.formatNumber2(n.checkResult.pair_total)),1)]),Object(i["createElementVNode"])("div",Gj,[Object(i["createElementVNode"])("span",Wj,Object(i["toDisplayString"])(e.$t("LPLocked")),1),t[13]||(t[13]=Object(i["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(i["createElementVNode"])("span",Yj,Object(i["toDisplayString"])(e.$f.formatPercent(a.rangePair)),1),Object(i["createElementVNode"])("div",Jj,[Object(i["createElementVNode"])("span",{class:"range-bar",style:Object(i["normalizeStyle"])({width:e.$f.formatPercent(a.rangePair)})},null,4)])]),Object(i["createElementVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(p=n.checkResult)||void 0===p?void 0:p.pair_holders_rank)||[],(t,o)=>{var l,s,c;return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:o},[Object(i["createElementVNode"])("li",{class:Object(i["normalizeClass"])(["card-list-item",{"bg-warning":1===Number(null===t||void 0===t?void 0:t.analysis_show_warning)}])},[Object(i["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.checkResult.chain||"",t.address||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(o+1)+".",1),1===Number(null===t||void 0===t?void 0:t.analysis_show_creator)?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,type:"primary",round:"",size:"10",class:"mr-3"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("contractCreator")),1)]),_:1})):Object(i["createCommentVNode"])("",!0),a.formatLock(t)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[(null===t||void 0===t||null===(l=t.lock)||void 0===l?void 0:l.length)>0&&null!==t&&void 0!==t&&null!==(s=t.lock)&&void 0!==s&&null!==(c=s.every)&&void 0!==c&&c.call(s,e=>1e3*e.unlockDate<=Date.now())?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",Zj)):(Object(i["openBlock"])(),Object(i["createBlock"])(m,{key:1,color:"#B3920E",name:"lock"}))],64)):Object(i["createCommentVNode"])("",!0),1===t.is_contract?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",Xj)):Object(i["createCommentVNode"])("",!0),t.mark?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:4},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.mark),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:3},[Object(i["createTextVNode"])(Object(i["toDisplayString"])((t.address||"").slice(0,2)+"..."+(t.address||"").slice(-4)),1)],64))],8,Kj),Object(i["createElementVNode"])("span",null,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(t.quantity||0,2,4,1e4))+" ",1),n.checkResult.pair_total&&t.quantity||t.percent?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" ("+Object(i["toDisplayString"])(t.percent&&Number(t.percent)?e.$f.formatPercent(t.percent,2):e.$f.formatPercent(t.quantity/n.checkResult.pair_total,2))+") ",1)],64)):Object(i["createCommentVNode"])("",!0)])],2),t.lock&&t.lock.length>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("table",ek,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("amount")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("lockDate")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateStart")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.$t("unlockDateEnd")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(t.lock,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:o,style:Object(i["normalizeStyle"])({color:1e3*t.unlockDate<=Date.now()?"#FF9F00":""})},[Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatNumber2(t.amount||0,2,4,1e4)),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1),Object(i["createElementVNode"])("td",null,Object(i["toDisplayString"])(e.$f.formatDate(t.vesting_end||t.unlockDate,"YYYY-MM-DD")),1)],4))),128))])])):Object(i["createCommentVNode"])("",!0)],64)}),128))]),Object(i["createElementVNode"])("ul",tk,[Number((null===(v=n.checkResult)||void 0===v?void 0:v.analysis_creator_gt_5percent)||0)>5?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ok,Object(i["toDisplayString"])(e.$t("analysis_creator_gt_5percent"))+"("+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(O=n.checkResult)||void 0===O?void 0:O.analysis_creator_gt_5percent)||0,2))+"%) ",1)):Object(i["createCommentVNode"])("",!0),"1"===(null===(f=n.checkResult)||void 0===f?void 0:f.analysis_scam_wallet)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ik,Object(i["toDisplayString"])(e.$t("analysis_scam_wallet")),1)):Object(i["createCommentVNode"])("",!0),Number((null===(j=n.checkResult)||void 0===j?void 0:j.analysis_lp_creator_gt_5percent)||0)>5?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",lk,Object(i["toDisplayString"])(e.$t("analysis_lp_creator_gt_5percent"))+"("+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(k=n.checkResult)||void 0===k?void 0:k.analysis_lp_creator_gt_5percent)||0,2))+"%) ",1)):Object(i["createCommentVNode"])("",!0),"1"===(null===(g=n.checkResult)||void 0===g?void 0:g.analysis_big_wallet)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",nk,Object(i["toDisplayString"])(e.$t("analysis_big_wallet")),1)):Object(i["createCommentVNode"])("",!0),null!==(y=n.checkResult)&&void 0!==y&&y.analysis_lp_locked_or_burned_gt_15days&&Number(null===(w=n.checkResult)||void 0===w?void 0:w.analysis_lp_locked_or_burned_gt_15days)<50?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ak,Object(i["toDisplayString"])(e.$t("analysis_lp_locked_or_burned_gt_15days"))+" ("+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(_=n.checkResult)||void 0===_?void 0:_.analysis_lp_locked_or_burned_gt_15days)||0,2))+"%) ",1)):Object(i["createCommentVNode"])("",!0),null!==($=n.checkResult)&&void 0!==$&&$.analysis_lp_current_adequate&&"0"==(null===(N=n.checkResult)||void 0===N?void 0:N.analysis_lp_current_adequate)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",sk,Object(i["toDisplayString"])(e.$t("analysis_lp_current_adequate")),1)):Object(i["createCommentVNode"])("",!0),null!==(T=n.checkResult)&&void 0!==T&&T.big_lp_without_any_lock&&1==(null===(V=n.checkResult)||void 0===V?void 0:V.big_lp_without_any_lock)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",ck,Object(i["toDisplayString"])(e.$t("big_lp_without_any_lock")),1)):Object(i["createCommentVNode"])("",!0)]),a.lp_remark?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rk,Object(i["toDisplayString"])(e.$t("remark"))+": "+Object(i["toDisplayString"])(a.lp_remark),1)):Object(i["createCommentVNode"])("",!0)]),null!==(x=a.list)&&void 0!==x&&x[2]?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",dk,Object(i["toDisplayString"])(null===(S=a.list)||void 0===S||null===(S=S[2])||void 0===S?void 0:S.name)+"("+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(E=n.checkResult)||void 0===E||null===(E=E.owner_txs)||void 0===E?void 0:E.length)||0))+")",1)):Object(i["createCommentVNode"])("",!0),null!==(B=a.list)&&void 0!==B&&B[2]?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",uk,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(C=n.checkResult)||void 0===C?void 0:C.owner_txs,(o,l)=>{var n,s,c;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"ownerTxs",key:l,onClick:t=>a.jump(e.item,l)},[Object(i["createElementVNode"])("div",bk,[Object(i["createElementVNode"])("span",hk,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(null===o||void 0===o?void 0:o.method_name)+" ",1),Object(i["createElementVNode"])("span",pk,[t[14]||(t[14]=Object(i["createTextVNode"])(" ( ")),t[15]||(t[15]=Object(i["createElementVNode"])("i",{class:"iconfont icon-heyue color-777e90"},null,-1)),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])((null===o||void 0===o||null===(n=o.method_code)||void 0===n?void 0:n.slice(0,4))+"..."+(null===o||void 0===o||null===(s=o.method_code)||void 0===s?void 0:s.slice(-4)))+") ",1)])]),Object(i["createElementVNode"])("span",vk,Object(i["toDisplayString"])((null===(c=String(null===o||void 0===o?void 0:o.timestamp))||void 0===c?void 0:c.length)>10?e.$f.formatDate((null===o||void 0===o?void 0:o.timestamp)/1e3||0,"YYYY-MM-DD"):e.$f.formatDate((null===o||void 0===o?void 0:o.timestamp)||0,"YYYY-MM-DD")),1)]),(null===o||void 0===o?void 0:o.params.length)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ok,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===o||void 0===o?void 0:o.params,(o,l)=>{var n,a,s,c,r,u,m,p;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"flex-start",key:l},[Object(i["createElementVNode"])("span",fk,Object(i["toDisplayString"])(null===o||void 0===o?void 0:o.name)+"：",1),"address"==(null===o||void 0===o?void 0:o.type)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[(null===o||void 0===o?void 0:o.value)==e.$store.state.currentAccount?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",jk,Object(i["toDisplayString"])((null===o||void 0===o||null===(n=o.value)||void 0===n?void 0:n.slice(0,8))+"..."+(null===o||void 0===o||null===(a=o.value)||void 0===a?void 0:a.slice(-4)))+" ("+Object(i["toDisplayString"])(e.$t("myWallet"))+") ",1)):1==(null===o||void 0===o?void 0:o.is_trader_addr)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",kk,[Object(i["createTextVNode"])(Object(i["toDisplayString"])((null===o||void 0===o||null===(s=o.value)||void 0===s?void 0:s.slice(0,8))+"..."+(null===o||void 0===o||null===(c=o.value)||void 0===c?void 0:c.slice(-4)))+" ",1),Object(i["createVNode"])(d,{effect:"customized",content:e.$t("latestTrader"),placement:"top","popper-class":e.$store.state.mode},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(h,{style:{color:"#ff9f00"}},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(b)]),_:1})]),_:1},8,["content","popper-class"])])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",gk,Object(i["toDisplayString"])((null===o||void 0===o||null===(r=o.value)||void 0===r?void 0:r.slice(0,8))+"..."+(null===o||void 0===o||null===(u=o.value)||void 0===u?void 0:u.slice(-4))),1))],64)):"uint256"==(null===o||void 0===o?void 0:o.type)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",yk,Object(i["toDisplayString"])(e.$f.formatNumber2(null===o||void 0===o?void 0:o.value)),1)):"address[]"==(null===o||void 0===o?void 0:o.type)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",wk,[t[16]||(t[16]=Object(i["createElementVNode"])("strong",null,"[",-1)),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===o||void 0===o?void 0:o.value.slice(0,3),(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{class:"block ml_10",key:t}," '"+Object(i["toDisplayString"])((null===e||void 0===e?void 0:e.slice(0,4))+"..."+(null===e||void 0===e?void 0:e.slice(-4)))+"' ",1))),128)),(null===o||void 0===o||null===(m=o.value)||void 0===m?void 0:m.length)>3?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_k," //"+Object(i["toDisplayString"])(e.$t("totalTxs",{n:null===o||void 0===o||null===(p=o.value)||void 0===p?void 0:p.length})),1)):Object(i["createCommentVNode"])("",!0),t[17]||(t[17]=Object(i["createElementVNode"])("strong",null,"]",-1))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",$k,Object(i["toDisplayString"])(null===o||void 0===o?void 0:o.value),1))])}),128))])):Object(i["createCommentVNode"])("",!0)],8,mk)}),128))])):Object(i["createCommentVNode"])("",!0)]}),_:1}),null!==(o=this.checkResult)&&void 0!==o&&o.holder_analysis?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,span:24},{default:Object(i["withCtx"])(()=>{var t,o,l,s,c,r,d,u,m,b;return[Object(i["createElementVNode"])("div",Nk,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("simulate")),1),Object(i["createElementVNode"])("table",null,[Object(i["createElementVNode"])("tbody",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("span",Tk,Object(i["toDisplayString"])(e.$t("simulateHolders")),1),Object(i["createElementVNode"])("span",Vk,Object(i["toDisplayString"])(e.$f.formatNumber2(null===(t=n.checkResult)||void 0===t||null===(t=t.holder_analysis)||void 0===t?void 0:t.simulate_holders)),1)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("span",xk,Object(i["toDisplayString"])(e.$t("sellSuccessful")),1),Object(i["createElementVNode"])("span",Sk,Object(i["toDisplayString"])(e.$f.formatNumber2(null===(o=n.checkResult)||void 0===o||null===(o=o.holder_analysis)||void 0===o?void 0:o.sell_successful)),1)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["block color-999",{failedBg:(null===(l=n.checkResult)||void 0===l||null===(l=l.holder_analysis)||void 0===l?void 0:l.sell_failure)>0}])},Object(i["toDisplayString"])(e.$t("sellFailure")),3),Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["block",{failedColor:(null===(s=n.checkResult)||void 0===s||null===(s=s.holder_analysis)||void 0===s?void 0:s.sell_failure)>0}])},Object(i["toDisplayString"])(e.$f.formatNumber2((null===(c=n.checkResult)||void 0===c||null===(c=c.holder_analysis)||void 0===c?void 0:c.sell_failure)||0)),3)]),Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["block color-999",{balanceBg:(null===(r=n.checkResult)||void 0===r||null===(r=r.holder_analysis)||void 0===r?void 0:r.balance_disappeared)>0}])},Object(i["toDisplayString"])(e.$t("balanceDisappeared")),3),Object(i["createElementVNode"])("span",Ek,Object(i["toDisplayString"])(e.$f.formatNumber2((null===(d=n.checkResult)||void 0===d||null===(d=d.holder_analysis)||void 0===d?void 0:d.balance_disappeared)||0)),1)])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",null,[Object(i["createElementVNode"])("span",Bk,Object(i["toDisplayString"])(e.$t("sellSlippage")),1)]),Object(i["createElementVNode"])("td",Ck,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])({avgBg:1==(null===(u=n.checkResult)||void 0===u?void 0:u.avg_tax_too_high)})},[Object(i["createElementVNode"])("span",Dk,Object(i["toDisplayString"])(e.$t("averageTax")),1),Object(i["createTextVNode"])("  "+Object(i["toDisplayString"])(e.$f.formatNumber2(null===(m=n.checkResult)||void 0===m||null===(m=m.holder_analysis)||void 0===m?void 0:m.average_tax))+"% ",1)],2),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(b=n.checkResult)||void 0===b||null===(b=b.holder_analysis)||void 0===b?void 0:b.tax_distribution,(t,o)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"flex-start",key:o},[Object(i["createElementVNode"])("span",null,[Object(i["createElementVNode"])("span",Ik,Object(i["toDisplayString"])(e.$t("slippage1")),1),Object(i["createTextVNode"])("  "+Object(i["toDisplayString"])(e.$f.formatNumber2(null===t||void 0===t?void 0:t.tax))+"% ",1)]),Object(i["createElementVNode"])("span",null,[Object(i["createElementVNode"])("span",Ak,Object(i["toDisplayString"])(e.$t("addressCount")),1),Object(i["createTextVNode"])("  "+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.count),1)])]))),128))])])])]),Object(i["createElementVNode"])("ul",Lk,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(a.riskSimulateList,(e,t)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("li",{key:t,class:Object(i["normalizeClass"])({warning:1==e[0],danger:2==e[0]})},Object(i["toDisplayString"])(e[1]),3))),128))])])]}),_:1})):Object(i["createCommentVNode"])("",!0)]}),_:1})):(Object(i["openBlock"])(),Object(i["createBlock"])(v,{key:1,image:"light"===e.$store.state.mode?n.imageEmptyWhite:n.imageEmptyBlack},null,8,["image"]))])}var Fk=o("645d"),Rk=o("3d29"),Mk=o.n(Rk),Uk={name:"Check",components:{ArcProgress:Fk["a"],"van-icon":jt["a"],"van-tag":kt["a"]},data(){var e,t;let o=Object.values(this.$store.state.chainConfig);return{imageEmptyWhite:Co.a,imageEmptyBlack:Io.a,initNetworkList:o,loading:!1,form:{contractAddress:this.$route.params.id&&this.$route.params.id.includes("-")?null===(e=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===e?void 0:e.address:"",chain:this.$route.params.id&&this.$route.params.id.includes("-")?null===(t=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===t?void 0:t.chain:"bsc"},checkResult:{},progress:0,showResult:!1,hasLpLock:!1,goPlusImage:Mk.a,feedbackDialogVisible:!1,riskStatus:{0:"normal1",.5:"normal1",.6:"unknownRisk1",1:"warning1",2:"danger1"},loadingVote:!1,buy_tax_list_show:!0,sell_tax_list_show:!0,activeTab:1,showRiskList:!1}},computed:{list(){var e;return[{name:this.$t("holders1"),id:1},{name:this.$t("poolInfo"),id:2},...(null===(e=this.checkResult)||void 0===e||null===(e=e.owner_txs)||void 0===e?void 0:e.length)>0?[{name:this.$t("ownerTxs"),id:3}]:[]]},reportLink(){return"https://ave.ai/check/"+this.tokenId},riskSimulateList(){var e,t,o,i;let l=[];return(null===(e=this.checkResult)||void 0===e||null===(e=e.holder_analysis)||void 0===e?void 0:e.sell_failure)>0&&1==(null===(t=this.checkResult)||void 0===t?void 0:t.some_users_are_blocked)&&l.push([2,this.$t("some_users_are_blocked")]),(null===(o=this.checkResult)||void 0===o||null===(o=o.holder_analysis)||void 0===o?void 0:o.balance_disappeared)>0&&1==(null===(i=this.checkResult)||void 0===i?void 0:i.some_users_balance_are_tampered)&&l.push([1,this.$t("some_users_balance_are_tampered")]),l},riskList(){let e=this.formatRisk(this.checkResult)||[];return e},noteList(){return this.formatNote(this.checkResult)||[]},ave_remarks(){return this.checkResult.ave_remarks?JSON.parse(this.checkResult.ave_remarks):{}},lp_remark(){return this.ave_remarks.lp_remark||""},holder_remark(){return this.ave_remarks.holder_remark||""},tx_liq_remark(){return this.ave_remarks.tx_liq_remark||""},risk_remark(){return this.ave_remarks.risk_remark||""},holdersPieData(){var e;let t=(null===(e=this.checkResult)||void 0===e?void 0:e.token_holders_rank)||[],o=t.reduce((e,t)=>e+(1==t.is_lp?0:Number(t.quantity)),0),i=o/this.checkResult.total;return[{name:"tokenHolders",value:i},{name:"default",value:1-i}]},range(){var e;return(null===(e=this.holdersPieData)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.value)||0},pairHoldersPieData(){var e;let t=(null===(e=this.checkResult)||void 0===e?void 0:e.pair_holders_rank)||[],o=t.reduce((e,t)=>{let o=0;return this.formatLock(t)&&(o=Number(t.percent)||Number(t.quantity)/this.checkResult.pair_total),e+o},0),i=o;return[{name:"pairHolders",value:i},{name:"default",value:1-i}]},rangePair(){var e;return(null===(e=this.pairHoldersPieData)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.value)||0},checkChains(){return this.initNetworkList.filter(e=>this.$store.state.checkChains.includes(e.netName))},chainName(){var e,t;let o=this.$store.state.chainConfig;return this.form.chain&&null!==o&&void 0!==o&&null!==(e=o[this.form.chain])&&void 0!==e&&e.name?null===o||void 0===o||null===(t=o[this.form.chain])||void 0===t?void 0:t.name:this.$t("allChain")},shareInfo(){return this.$store.state.shareInfo},shareLink(){return this.shareInfo.shareCode?"https://m.ave.ai/shareLink/"+this.shareInfo.shareCode:""},tokenId(){return this.form.contractAddress+"-"+this.form.chain},hasNoAdmin(){var e,t,o,i;return!(null!==(e=this.checkResult)&&void 0!==e&&e.owner&&!(null!==(t=this.checkResult)&&void 0!==t&&null!==(t=t.owner)&&void 0!==t&&t.startsWith("0x00000")||null!==(o=this.checkResult)&&void 0!==o&&null!==(o=o.owner)&&void 0!==o&&o.startsWith("T9yD14Nj9j7x")||"Contract"===(null===(i=this.checkResult)||void 0===i?void 0:i.owner_type)))&&(void 0==this.checkResult.can_take_back_ownership||"0"===this.checkResult.can_take_back_ownership)&&(void 0==this.checkResult.hidden_owner||"1"!==this.checkResult.hidden_owner)&&""!==this.checkResult.owner},statistics_risk(){var e,t;let o=(null===(e=this.riskList.filter(e=>2==e[0]))||void 0===e?void 0:e.length)||0;this.riskSimulateList&&this.riskSimulateList.forEach(e=>{2==e[0]&&(o+=1)});let i=null!==(t=this.checkResult)&&void 0!==t&&t.audit_pass_by?0:o;return this.$store.state.check.statistics_risk=i,i},statistics_unknown(){var e,t,o,i,l,n,a,s;let c=this.noteList.length;Number(null===(e=this.checkResult)||void 0===e?void 0:e.sell_gas)>=.1&&"#f81111"===this.$f.filterGas(Number(null===(t=this.checkResult)||void 0===t?void 0:t.sell_gas),this.checkResult.chain)&&(c+=1),Number(null===(o=this.checkResult)||void 0===o?void 0:o.buy_gas)>=.1&&"#f81111"===this.$f.filterGas(Number(null===(i=this.checkResult)||void 0===i?void 0:i.buy_gas),this.checkResult.chain)&&(c+=1),Number(null===(l=this.checkResult)||void 0===l?void 0:l.approve_gas)>=.1&&"#f81111"===this.$f.filterGas(Number(null===(n=this.checkResult)||void 0===n?void 0:n.approve_gas),this.checkResult.chain)&&(c+=1),c+=null===(a=this.riskList.filter(e=>.6==e[0]))||void 0===a?void 0:a.length;let r=null!==(s=this.checkResult)&&void 0!==s&&s.audit_pass_by?0:c;return this.$store.state.check.statistics_unknown=r,r},statistics_warning(){var e,t,o,i,l,n,a,s,c,r,d,u;let m=0;Number((null===(e=this.checkResult)||void 0===e?void 0:e.analysis_creator_gt_5percent)||0)>5&&(m+=1),"1"===(null===(t=this.checkResult)||void 0===t?void 0:t.analysis_scam_wallet)&&(m+=1),Number((null===(o=this.checkResult)||void 0===o?void 0:o.analysis_lp_creator_gt_5percent)||0)>5&&(m+=1),"1"===(null===(i=this.checkResult)||void 0===i?void 0:i.analysis_big_wallet)&&(m+=1),null!==(l=this.checkResult)&&void 0!==l&&l.analysis_lp_locked_or_burned_gt_15days&&Number(null===(n=this.checkResult)||void 0===n?void 0:n.analysis_lp_locked_or_burned_gt_15days)<50&&(m+=1),null!==(a=this.checkResult)&&void 0!==a&&a.analysis_lp_current_adequate&&"0"==(null===(s=this.checkResult)||void 0===s?void 0:s.analysis_lp_current_adequate)&&(m+=1),null!==(c=this.checkResult)&&void 0!==c&&c.big_lp_without_any_lock&&1==(null===(r=this.checkResult)||void 0===r?void 0:r.big_lp_without_any_lock)&&(m+=1),m+=null===(d=this.riskList.filter(e=>1==e[0]))||void 0===d?void 0:d.length,this.riskSimulateList&&this.riskSimulateList.forEach(e=>{1==e[0]&&(m+=1)});let b=null!==(u=this.checkResult)&&void 0!==u&&u.audit_pass_by?0:m;return this.$store.state.check.statistics_warning=b,b}},activated(){},watch:{"$store.state.id"(e){"Token"===this.$route.name&&this.init()},"$store.state.checkChains"(e){"Token"===this.$route.name&&this.init()}},created(){this.init()},methods:{getRiskColor(e){return e<40?"#81c54e":e>=40&&e<60?"#f8be46":"#e74e54"},init(){var e;let t=this.$route.params.id,o=t&&t.includes("-")?null===(e=this.$f.getAddressAndChainFromId(t))||void 0===e?void 0:e.chain:"";var i,l;t&&o&&(this.$store.state.checkChains.includes(o)&&(this.form.contractAddress=this.$route.params.id&&this.$route.params.id.includes("-")?null===(i=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===i?void 0:i.address:"",this.form.chain=this.$route.params.id&&this.$route.params.id.includes("-")?null===(l=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===l?void 0:l.chain:"bsc",this.onSubmit()))},onSubmit(){this.loading=!0,this.showResult=!1,this.checkResult={};let e=this.form.contractAddress+"-"+this.form.chain;Object(De["Qb"])(e,"token",this.$store.state.currentAccount).then(e=>{var t,o,i,l,n,a,s;let c=e.token_contract,r=null===c||void 0===c||null===(t=c.contract_data)||void 0===t?void 0:t.audits_info,d={};r&&(d=JSON.parse(r));let u=(null===c||void 0===c||null===(o=c.contract_data)||void 0===o||null===(o=o.owner_txs)||void 0===o?void 0:o.filter(e=>{var t;return(null===e||void 0===e||null===(t=e.params)||void 0===t?void 0:t.length)>0}))||[];this.checkResult={...c.contract_data,...c,audits_info:d,owner_txs:u},this.$store.state.check.checkResult={...this.checkResult};let m=(null===(i=this.checkResult)||void 0===i?void 0:i.pair_holders_rank)||[],b=m.reduce((e,t)=>{let o=0;return this.formatLock(t)&&(o=Number(t.quantity)),e+o},0),h=b/Number(this.checkResult.pair_total);this.hasLpLock=(null===(l=this.checkResult)||void 0===l?void 0:l.is_locked)||(null===(n=this.checkResult)||void 0===n||null===(n=n.pair_holders_rank)||void 0===n||null===(a=n.some)||void 0===a?void 0:a.call(n,e=>this.formatLock(e)))&&h>.001,null!==this.checkResult.contract_data&&(this.showResult=!0),this.progress=(null===(s=this.checkResult)||void 0===s?void 0:s.risk_score)/100||0}).catch(e=>{}).finally(()=>{this.loading=!1})},formatNumUnit(e,t=2){return this.$f.formatNum(Number(Number(e).toFixed(t)))},selectChain(e){this.$refs.dropDownChain.toggle(!1),this.chain=e.netName},goPlusUrl(){window.open("https://gopluslabs.io")},formatLock(e){return e.lock||/lock|null|(black hole)/gi.test(e.mark||"")},formatRisk(e){var t,o,i,l;if(null===e.contract_data||!e.risk_score)return[];let n=[],a={"-1":this.$t("noLookLike"),0:this.$t("checkFailed"),1:this.$t("isHoneypot")},s=0;s=0===e.is_honeypot?1:1===e.is_honeypot?2:0,void 0!==e.is_honeypot&&n.push([s,a[e.is_honeypot]]);let c=0===e.has_code?2:0,r=0===e.has_code?this.$t("open-source"):this.$t("openSource");void 0!==e.has_code&&"solana"!==(null===e||void 0===e?void 0:e.chain)&&n.push([c,r]);let d="1"===e.owner_change_balance?2:0,u="1"===e.owner_change_balance?this.$t("ownerChangeBalance"):this.$t("ownerNoChangeBalance");void 0!==e.owner_change_balance&&n.push([d,u]);let m="1"===e.is_proxy?2:0,b="1"===e.is_proxy?this.$t("isProxy"):this.$t("isNotProxy");2===m&&this.hasNoAdmin&&(1===e.has_owner_removed_risk?(m=.5,b=this.$t("hasNoAuth")+this.$t("isProxyNoAuth")):m=.6),void 0!==e.is_proxy&&n.push([m,b]);let h=1===e.slippage_modifiable?1:0,p=1===e.slippage_modifiable?this.$t("slippageModifiable"):this.$t("noSlippageModifiable");1===h&&this.hasNoAdmin&&(1===e.has_owner_removed_risk?(h=.5,p=this.$t("hasNoAuth")+this.$t("noSlippageModifiable")):h=.6),void 0!==e.slippage_modifiable&&n.push([h,p]);let v=1===e.has_white_method?1:0,O=1===e.has_white_method?this.$t("whitelist"):this.$t("noWhitelist");v>0&&this.hasNoAdmin&&(1===e.has_owner_removed_risk?(v=.5,O=this.$t("hasNoAuth")+this.$t("whitelistNoAuth")):v=.6),void 0!==e.has_white_method&&n.push([v,O]);let f=1===e.has_black_method?1:0,j=1===e.has_black_method?this.$t("blacklist"):this.$t("noBlacklist");if(f>0&&this.hasNoAdmin&&(1===e.has_owner_removed_risk?(f=.5,j=this.$t("hasNoAuth")+this.$t("blacklistNoAuth")):f=.6),void 0!==e.has_black_method&&n.push([f,j]),""!==e.owner&&"-"!==e.owner){let t=this.hasNoAdmin?0:1,o=this.hasNoAdmin?this.$t("dropContractAuth1"):this.$t("dropContractAuth");null!==e&&void 0!==e&&e.audit_pass_by&&!this.hasNoAdmin||n.push([t,o])}let k=1===e.has_mint_method?1:0,g=1===e.has_mint_method?this.$t("canMint"):this.$t("canNotMint");k>0&&this.hasNoAdmin&&(1===e.has_owner_removed_risk?(k=.5,g=this.$t("hasNoAuth")+this.$t("canNotMint")):k=.6),void 0!==e.has_mint_method&&n.push([k,g]);let y=this.hasLpLock?0:1,w=this.hasLpLock?this.$t("hasLpLock"):this.$t("hasNoLpLock");void 0!==e.hasLpLock&&n.push([y,w]);let _="1"===e.can_take_back_ownership?1:0,$="1"===e.can_take_back_ownership?this.$t("canTakeBackOwnership"):this.$t("canNotTakeBackOwnership");void 0!==e.can_take_back_ownership&&n.push([_,$]);let N="1"===e.trading_cooldown?1:0,T="1"===e.trading_cooldown?this.$t("tradingCoolDown"):this.$t("noTradingCoolDown");void 0!==e.trading_cooldown&&n.push([N,T]),"1"===e.hidden_owner&&n.push([2,this.$t("hasHiddenOwner")]),e.other_potential_risks&&n.push([1,e.other_potential_risks]),e.note&&n.push([1,e.note]),"1"===e.external_call&&n.push([2,this.$t("externalCall")]),e.is_safu_contract&&n.push([0,this.$t("isSafuContract")]),(null===e||void 0===e?void 0:e.is_recidivist)>=1&&n.push([2,this.$t("isRecidivist")]),1==(null===e||void 0===e?void 0:e.has_malicious_code)&&n.push([2,this.$t("has_malicious_code")]),1==(null===e||void 0===e?void 0:e.has_sell_max_limit)&&n.push([.6,this.$t("has_sell_max_limit")]),1===(null===e||void 0===e?void 0:e.can_remove_liqudity)&&n.push([2,this.$t("can_remove_liqudity")]),null===e||void 0===e||!e.liquidity_provider||Number(null===e||void 0===e?void 0:e.pair_lock_percent)||null!==e&&void 0!==e&&null!==(t=e.liquidity_provider)&&void 0!==t&&null!==(o=t.startsWith)&&void 0!==o&&o.call(t,"0x00000")||null!==e&&void 0!==e&&null!==(i=e.liquidity_provider)&&void 0!==i&&null!==(l=i.startsWith)&&void 0!==l&&l.call(i,"T9yD14Nj9j7x")||n.push([1,this.$t("liquidity_provider")]),"solana"==(null===e||void 0===e?void 0:e.chain)&&(1===(null===e||void 0===e?void 0:e.has_top10_holder_amount_over_30)&&n.push([2,this.$t("has_top10_holder_amount_over_30")]),0===(null===e||void 0===e?void 0:e.has_top10_holder_amount_over_30)&&n.push([0,this.$t("has_top10_holder_amount_lt_30")]),1===(null===e||void 0===e?void 0:e.has_not_burned_lp)&&n.push([1,this.$t("has_not_burned_lp")]),0===(null===e||void 0===e?void 0:e.has_not_burned_lp)&&n.push([0,this.$t("has_burned_lp")])),1===e.is_low_liquidity&&n.push([1,this.$t("is_low_liquidity")]);let V=n.sort((e,t)=>t[0]-e[0]);return V},formatNote(e){let t=[];"1"===e.is_anti_whale&&t.push(this.$t("isAntiWhale")),"1"===e.anti_whale_modifiable&&t.push(this.$t("antiWhaleModifiable")),"1"===e.cannot_sell_all&&t.push(this.$t("cannotSellAll")),(e.wallet_count_24h_buy&&(e.wallet_count_24h_buy||0)<10||e.wallet_count_24h_sell&&(e.wallet_count_24h_sell||0)<10)&&t.push(this.$t("txNoActive")),(e.wallet_count_24h_sell&&(e.wallet_count_24h_buy||0)/e.wallet_count_24h_sell>8||!e.wallet_count_24h_sell&&e.wallet_count_24h_buy)&&t.push(this.$t("highBuyLowSell")),e.vol_24h_top100&&(e.vol_24h_top10||0)/e.vol_24h_top100>.75&&t.push(this.$t("volumeConcentrated"));let o=this.checkResult.vote_support||0,i=this.checkResult.vote_against||0;return o+i>30&&i/(i+o)>.7&&t.push(this.$t("lowCommunityScore")),"1"===e.personal_slippage_modifiable&&t.push(this.$t("personalSlippageModifiable")),"1"===e.selfdestruct&&t.push(this.$t("selfdeStruct")),t},formatVote(e){let{vote_support:t,vote_against:o}=e;if(t=t||0,o=o||0,0===t&&0===o)return[0,0,0];let i=t+o;return[t/i,o/i,i]},formatVoteP(e){let{vote_support:t,vote_against:o}=e;if(t=t||0,o=o||0,0===t&&0===o)return[.5,.5,0];let i=t+o;return[t/i,o/i,i]},getVote(){var e;let t=this.form.contractAddress+"-"+this.form.chain;Object(De["ge"])(t,this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress)).then(e=>{Object.keys(e).forEach(t=>{this.checkResult[t]=e[t]})})},voteSupport(){var e;let t=this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress);if(!t||"undefined"===t)return void this.$message.error(this.$t("connectWalletFirst"));if(0!==this.checkResult.my_vote)return void this.$message.error(this.$t("voted"));let o=()=>{let e=this.form.contractAddress+"-"+this.form.chain;this.loadingVote=!0,Object(De["jf"])(e).then(()=>{0===this.checkResult.my_vote?this.$message.success(this.$t("voteSuccess")):this.$message.success(this.$t("success")),this.getVote()}).catch(e=>{this.$message.error(e)}).finally(()=>{this.loadingVote=!1})};this.$confirm(this.$t("voteTips"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),type:"warning",customClass:this.$store.state.mode}).then(()=>{o()}).catch(()=>{})},voteAgainst(){var e;let t=this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress);if(!t||"undefined"===t)return void this.$message.error(this.$t("connectWalletFirst"));if(0!==this.checkResult.my_vote)return void this.$message.error(this.$t("voted"));let o=()=>{let e=this.form.contractAddress+"-"+this.form.chain;this.loadingVote=!0,Object(De["if"])(e).then(()=>{0===this.checkResult.my_vote?this.$message.success(this.$t("voteSuccess")):this.$message.success(this.$t("success")),this.getVote()}).catch(e=>{this.$message.error(e)}).finally(()=>{this.loadingVote=!1})};this.$confirm(this.$t("voteTips"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),type:"warning",customClass:this.$store.state.mode}).then(()=>{o()}).catch(()=>{})},openTips(e){.6===e&&this.$alert(this.$t("notSurePermissionRemovalRemovesRisk"),this.$t("tips"))},jump(e){var t;e.tx_hash&&(window.location=this.$f.formatExplorerUrl((null===(t=this.checkResult)||void 0===t?void 0:t.chain)||"",(null===e||void 0===e?void 0:e.tx_hash)||"","tx"))}}};o("b14a");const zk=wt()(Uk,[["render",Pk],["__scopeId","data-v-f75e7518"]]);var Hk=zk;const qk={key:0,class:"fixed-one-click"},Qk={class:"flex-between"},Gk={class:"flex-start"},Wk={class:"tabs-1 ml-5"},Yk=["onClick"],Jk={class:"content"},Kk={class:"flex-between mt_10"},Zk={class:""},Xk={class:"color-999 ml-auto"},eg={class:"mt_10 tabs"},tg={class:"flex-between mt_15"},og={class:""},ig={class:"color-999 ml-auto"},lg={class:"mt_10 tabs"};function ng(e,t,o,l,n,a){var s,c,r,d,u,m,b;const h=Object(i["resolveComponent"])("SlippageSetMarket"),p=Object(i["resolveComponent"])("Close"),v=Object(i["resolveComponent"])("el-icon"),O=Object(i["resolveComponent"])("RefreshBalance"),f=Object(i["resolveComponent"])("el-button");return null!==(s=e.$store.state.bot)&&void 0!==s&&null!==(s=s.isSupportChains)&&void 0!==s&&s.includes(a.chain)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",qk,[Object(i["createElementVNode"])("div",Qk,[Object(i["createElementVNode"])("div",Gk,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("oneClick")),1),Object(i["createElementVNode"])("div",Wk,[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(["s1","s2","s3"],e=>{var t;return Object(i["createElementVNode"])("button",{key:e,class:Object(i["normalizeClass"])({active:e===(null===(t=l.botSettings)||void 0===t||null===(t=t[a.chain])||void 0===t?void 0:t.selected)}),type:"button",onClick:Object(i["withModifiers"])(t=>l.botSettings[a.chain].selected=e,["stop"])},Object(i["toDisplayString"])(e.toUpperCase()),11,Yk)}),64))]),Object(i["createVNode"])(h,{chain:a.chain},null,8,["chain"])]),Object(i["createElementVNode"])("a",{href:"",onClick:t[0]||(t[0]=Object(i["withModifiers"])(t=>e.$store.commit("switchOneClick",!1),["stop","prevent"]))},[Object(i["createVNode"])(v,{color:"#959A9F",size:"14px"},{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(p)]),_:1})])]),Object(i["createElementVNode"])("div",Jk,[Object(i["createElementVNode"])("div",Kk,[Object(i["createElementVNode"])("span",Zk,Object(i["toDisplayString"])(e.$t("buy1")),1),Object(i["createElementVNode"])("span",Xk,Object(i["toDisplayString"])(e.$t("balance1"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(c=e.$store.state.bot.swap.nativeToken)||void 0===c?void 0:c.balance)||0))+" "+Object(i["toDisplayString"])(null===(r=e.$f.getChainInfo(a.chain))||void 0===r?void 0:r.main_name),1),Object(i["createVNode"])(O,{type:0})]),Object(i["createElementVNode"])("div",eg,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(d=l.botSettings)||void 0===d||null===(d=d[a.chain][a.selected])||void 0===d?void 0:d.buyValueList,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(f,{class:"one-click-button green",key:t,onClick:Object(i["withModifiers"])(o=>a.submitBotSwap(e,"buy",t),["stop","prevent"]),loading:n.loadingSwapBuy[t],disabled:n.loadingSwapBuy[t]},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.loadingSwapBuy[t]?"":e),1)]),_:2},1032,["onClick","loading","disabled"]))),128))]),Object(i["createElementVNode"])("div",tg,[Object(i["createElementVNode"])("span",og,Object(i["toDisplayString"])(e.$t("sell1")),1),Object(i["createElementVNode"])("span",ig,Object(i["toDisplayString"])(e.$t("balance1"))+": "+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(u=e.$store.state.bot.swap.token)||void 0===u?void 0:u.balance)||0))+" "+Object(i["toDisplayString"])((null===(m=e.$store.state.tokenInfo)||void 0===m?void 0:m.symbol)||""),1),Object(i["createVNode"])(O,{type:1})]),Object(i["createElementVNode"])("div",lg,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(null===(b=l.botSettings)||void 0===b||null===(b=b[a.chain][a.selected])||void 0===b?void 0:b.sellPerList,(e,t)=>(Object(i["openBlock"])(),Object(i["createBlock"])(f,{class:"one-click-button red ellipsis",key:t,onClick:Object(i["withModifiers"])(o=>a.handleSellAmount(e,t),["stop","prevent"]),loading:n.loadingSwapSell[t],disabled:n.loadingSwapSell[t]},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(n.loadingSwapSell[t]?"":e+"%"),1)]),_:2},1032,["onClick","loading","disabled"]))),128))])])])):Object(i["createCommentVNode"])("",!0)}var ag=o("ceb0"),sg={name:"OneClick",components:{SlippageSetMarket:ag["a"],RefreshBalance:pv},setup(){const e=Object(Yi["c"])();return{botSettings:e}},data(){return{loadingSwap:!1,loadingSwapBuy:[!1,!1,!1,!1,!1],loadingSwapSell:[!1,!1,!1,!1,!1]}},mounted(){this.enableDragScroll()},unmounted(){this.disableDragScroll()},computed:{tokenInfo(){var e;return null===(e=this.$store)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.tokenInfo},chain(){var e,t;return(null===(e=this.$f.getAddressAndChainFromId(this.$route.params.id))||void 0===e?void 0:e.chain)||(null===(t=this.$store.state.tokenInfo)||void 0===t?void 0:t.chain)},walletAddress(){var e,t,o,i,l;let n=(null===(e=this.tokenInfo)||void 0===e?void 0:e.chain)||(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$store.state)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain);return null===(i=this.$store.state.bot.userInfo)||void 0===i||null===(i=i.addresses)||void 0===i||null===(l=i.find)||void 0===l||null===(l=l.call(i,e=>(null===e||void 0===e?void 0:e.chain)===n))||void 0===l?void 0:l.address},selected(){var e;return null===(e=this.botSettings)||void 0===e||null===(e=e[this.chain])||void 0===e?void 0:e.selected}},methods:{async submitBotSwap(e,t,o=0){var i,l,n,a,s,c;if(null===(i=this.$store.state.bot)||void 0===i||null===(i=i.userInfo)||void 0===i||!i.evmAddress)return void this.$store.commit("changeConnectVisible",!0);let r="buy"==t;var d,u;if(r){if(null!==(d=this.loadingSwapBuy)&&void 0!==d&&d.some(e=>e))return}else if(null!==(u=this.loadingSwapSell)&&void 0!==u&&u.some(e=>e))return;if(new Pe.a(e||0).lte(0))return void this.$notify({title:"Error",type:"error",message:this.$t("amountMustG0")});let m=r?this.$store.state.bot.swap.nativeToken:this.$store.state.bot.swap.token,b=r?this.$store.state.bot.swap.token:this.$store.state.bot.swap.nativeToken,h=new Pe.a(e||0).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${(null===m||void 0===m?void 0:m.decimals)||18}})?`))[0];if((Number(h)||0)<=0)return void this.$notify({title:"Error",type:"error",message:this.$t("amountTooSmall")});if(new Pe.a(h||0).gt((null===m||void 0===m?void 0:m.balance)||0))return void this.$notify({title:"Error",type:"error",message:this.$t("insufficientBalance")});r?this.loadingSwapBuy[o]=!0:this.loadingSwapSell[o]=!0;let p=(null===(l=this.tokenInfo)||void 0===l?void 0:l.chain)||(null===(n=this.$f.getAddressAndChainFromId(null===(a=this.$store.state)||void 0===a?void 0:a.id))||void 0===n?void 0:n.chain)||"",v={solana:"sol",ton:"TON"},O=(null===v||void 0===v?void 0:v[p])||Ki["i"],f=null===(s=this.$store.state.bot.userInfo)||void 0===s||null===(s=s.addresses)||void 0===s||null===(c=s.find)||void 0===c||null===(c=c.call(s,e=>(null===e||void 0===e?void 0:e.chain)===p))||void 0===c?void 0:c.address;if("solana"===p){var j;let e=null===(j=this.botSettings)||void 0===j?void 0:j.solana,t=e.selected,i=null===e||void 0===e?void 0:e[t],l=null===i||void 0===i?void 0:i.mev,n=(null===i||void 0===i?void 0:i.slippage)||"9";if(l){let e=!0;if(await this.$store.dispatch("bot_getBundleAvailable").then(async o=>{o||(e=await this.$messageBox.confirm(this.$t("mevNotAvailable"),this.$t("tips"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(async()=>(l=!1,this.botSettings.solana[t].mev=!1,!0)).catch(async()=>!1))}).catch(e=>{}),!e)return void(r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1)}let{gasTip1List:a,gasTip2List:s}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,"solana"),c=l?a:s,d=l?null===i||void 0===i?void 0:i.gas[0]:null===i||void 0===i?void 0:i.gas[1],u=(null===d||void 0===d?void 0:d.customFee)||(null===c||void 0===c?void 0:c[null===d||void 0===d?void 0:d.level])||"0.002";l&&new Pe.a(u).lt("0.002")&&(u="0.002");let v=new Pe.a(u).times(10**9).toFixed(0),k={batchId:Date.now().toString(),swapList:[{creatorAddress:f,inAmount:Ae["h"].parseUnits(h,null===m||void 0===m?void 0:m.decimals).toString()}],inTokenAddress:r?O:m.address,outTokenAddress:r?b.address:O,swapType:r?1:2,isPrivate:l||!1,priorityFee:v,autoSell:r&&(null===i||void 0===i?void 0:i.autoSell)||!1,slippage:"auto"!==n?Number(new Pe.a(n||"9").times(100).toFixed(0)):900,autoSlippage:"auto"===n};this.$store.dispatch("bot_createSolTx",k).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.historyUpdate++,this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1},500);const i=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:i,chain:p,destination:"solana"===p?"/botapi/swap/createSolTx":"/botapi/swap/createSwapEvmTx",type:10});const l={[null===i||void 0===i?void 0:i.batchId]:null===i||void 0===i?void 0:i.id};let n=this.$watch("$store.state.bot.subscribeResult",e=>{let i=e.batchId;if(i===k.batchId){var a;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(a=e.txList)&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&a.success){var s;this.$notify({type:"success",message:this.$t("tradeSuccess")}),n(),setTimeout(()=>{var e;this.getTokenBalance(),this.$store.state.bot.historyUpdate++,null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory")},1e3);const t=null===e||void 0===e||null===(s=e.txList)||void 0===s?void 0:s[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===l||void 0===l?void 0:l[i])||"")}else{var c;this.$f.handleBotError((null===e||void 0===e||null===(c=e.txList)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.failMessage)||"swap error"),n(),setTimeout(()=>{this.getTokenBalance(),this.$store.state.bot.historyUpdate++},1e3)}r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1})}else if(this.$f.isEvmChain(p)){var k;let e=null===(k=this.botSettings)||void 0===k?void 0:k[p],t=e.selected,i=null===e||void 0===e?void 0:e[t],l=null===i||void 0===i?void 0:i.mev,n=(null===i||void 0===i?void 0:i.slippage)||"9",{gasTip1List:a,gasTip2List:s}=this.$f.formatBotGasTips(this.$store.state.bot.gasTip,p),c=l?a:s,d=l?null===i||void 0===i?void 0:i.gas[0]:null===i||void 0===i?void 0:i.gas[1],u=0===(null===d||void 0===d?void 0:d.customFee)?"0":(null===d||void 0===d?void 0:d.customFee)||(null===c||void 0===c?void 0:c[null===d||void 0===d?void 0:d.level])||"3",v=Number(new Pe.a(u).times(10**9).toFixed(0)),j={batchId:Date.now().toString(),chain:p,swapList:[{creatorAddress:f,inAmount:Ae["h"].parseUnits(h,null===m||void 0===m?void 0:m.decimals).toString()}],inTokenAddress:r?O:m.address,outTokenAddress:r?b.address:O,swapType:r?1:2,contractType:0,isPrivate:l||!1,gasTip:v,autoSell:r&&(null===i||void 0===i?void 0:i.autoSell)||!1,preApprove:!0,slippage:"auto"!==n?Number(new Pe.a(n||"9").times(100).toFixed(0)):900,autoSlippage:"auto"===n};this.$store.dispatch("bot_createSwapEvmTx",j).then(e=>{if(e){let t=setTimeout(()=>{var e;this.$store.state.bot.historyUpdate++,this.$notify({type:"success",message:this.$t("transactionsSubmitted")}),null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory"),r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1},500);const i=(null===e||void 0===e?void 0:e[0])||{};Object(Zi["b"])({txInfo:i,chain:p,destination:"solana"===p?"/botapi/swap/createSolTx":"/botapi/swap/createSwapEvmTx",type:10});const l={[null===i||void 0===i?void 0:i.batchId]:null===i||void 0===i?void 0:i.id};let n=this.$watch("$store.state.bot.subscribeResult",e=>{let i=e.batchId;if(i===j.batchId){var a;if(t&&(clearTimeout(t),t=null),null!==e&&void 0!==e&&null!==(a=e.txList)&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&a.success){var s;this.$notify({type:"success",message:this.$t("tradeSuccess")}),n(),setTimeout(()=>{var e;this.getTokenBalance(),this.$store.state.bot.historyUpdate++,null!==(e=["myBotHistory","myBotPosition"])&&void 0!==e&&e.includes(this.$store.state.tabActive)||(this.$store.state.tabActive="myBotHistory")},1e3);const t=null===e||void 0===e||null===(s=e.txList)||void 0===s?void 0:s[0];Object(Zi["e"])({...t,chain:null===e||void 0===e?void 0:e.chain},(null===l||void 0===l?void 0:l[i])||"")}else{var c;this.$f.handleBotError((null===e||void 0===e||null===(c=e.txList)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.failMessage)||"swap error"),n()}r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1}})}}).catch(e=>{this.$f.handleBotError(e||"swap error"),r?this.loadingSwapBuy[o]=!1:this.loadingSwapSell[o]=!1})}},async handleSellAmount(e,t){var o,i,l,n,a;if(null===(o=this.$store.state.bot)||void 0===o||null===(o=o.userInfo)||void 0===o||!o.evmAddress)return void this.$store.commit("changeConnectVisible",!0);let s=new Pe.a(e).div(100).toFixed(),c=this.$store.state.bot.swap.token,r=c.balance||0;if(s){let e=c.decimals||0;r=new Pe.a(r).times(s).toFixed().match(new RegExp(`[0-9]*(\\.[0-9]{0,${e}})?`))[0],0===Number(r)&&(r="")}else r="";if(r=r<0?0:r,null!==(i=this.loadingSwapSell)&&void 0!==i&&i.some(e=>e))return;let d=c.chain||(null===(l=this.tokenInfo)||void 0===l?void 0:l.chain)||(null===(n=this.$f.getAddressAndChainFromId(null===(a=this.$store.state)||void 0===a?void 0:a.id))||void 0===n?void 0:n.chain)||"";this.loadingSwapSell[t]=!0,await this.$store.dispatch("checkApproveAndApprove",{token:c.address,chain:d}).finally(()=>{this.loadingSwapSell[t]=!1}),this.submitBotSwap(r,"sell",t)},getTokenBalance(){var e,t,o,i,l,n,a,s;let c={solana:"sol",ton:"TON"},r=(null===(e=this.tokenInfo)||void 0===e?void 0:e.chain)||(null===(t=this.$f.getAddressAndChainFromId(null===(o=this.$store.state)||void 0===o?void 0:o.id))||void 0===t?void 0:t.chain),d=(null===(i=this.tokenInfo)||void 0===i?void 0:i.address)||(null===(l=this.$f.getAddressAndChainFromId(null===(n=this.$store.state)||void 0===n?void 0:n.id))||void 0===l?void 0:l.address),u=null===(a=this.$store.state.bot.userInfo)||void 0===a||null===(a=a.addresses)||void 0===a||null===(s=a.find)||void 0===s||null===(s=s.call(a,e=>(null===e||void 0===e?void 0:e.chain)===r))||void 0===s?void 0:s.address;u?this.$store.dispatch("bot_getTokenBalance",{chain:r,tokens:[d,c[r]||Ki["i"]],walletAddress:u}).then(e=>{var t;let o=e[0],i=e[1];this.$store.state.bot.swap.token={...this.tokenInfo,...o,address:o.token||o.address},this.$store.state.bot.swap.nativeToken={...i,symbol:null===(t=this.$f.getChainInfo(r))||void 0===t?void 0:t.main_name,chain:r,address:i.token||i.address,decimals:(null===i||void 0===i?void 0:i.decimals)||(null===i||void 0===i?void 0:i.decimal)},this.getTokensPrice()}):this.$store.state.bot.swap.nativeToken={chain:r}},getTokensPrice(){var e,t,o,i;let l=(null===(e=this.$store.state.bot.swap.token)||void 0===e?void 0:e.address)+"-"+(null===(t=this.$store.state.bot.swap.token)||void 0===t?void 0:t.chain),n=(null===(o=this.$store.state.bot.swap.nativeToken)||void 0===o?void 0:o.address)+"-"+(null===(i=this.$store.state.bot.swap.nativeToken)||void 0===i?void 0:i.chain);Object(De["Gd"])([l,n]).then(async e=>{if(e){var t,o,i;let l=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.current_price_usd)||0,n=(null===e||void 0===e||null===(o=e[1])||void 0===o?void 0:o.current_price_usd)||0;this.$store.state.bot.swap.nativeToken.price=n,this.$store.state.bot.swap.token.price=l,this.$store.state.bot.userInfo.addresses=((null===(i=this.$store.state)||void 0===i||null===(i=i.bot)||void 0===i||null===(i=i.userInfo)||void 0===i?void 0:i.addresses)||[]).map(e=>{var t,o;(null===e||void 0===e?void 0:e.chain)===(null===(t=this.$store.state.bot.swap.nativeToken)||void 0===t?void 0:t.chain)&&(e.price=n,e.balance=null===(o=this.$store.state.bot.swap.nativeToken)||void 0===o?void 0:o.balance);return e})}})},enableDragScroll(){const e=document.querySelector(".fixed-one-click");if(!e)return;e.style.position="fixed";const t=JSON.parse(localStorage.getItem("fixed-one-click-position"))||{top:"180px",left:"115px"};e.style.top=t.top,e.style.left=t.left,e.style.cursor="grab",e.style.zIndex="3014";let o=!1,i=0,l=0,n=0,a=0,s=document.createElement("div");function c(){return{width:window.innerWidth,height:window.innerHeight}}s.style.background="rgba(0, 0, 0, 0)",s.classList.add("drag-mask-s"),s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.right="0",s.style.bottom="0",s.style.zIndex="3013",e.onmousedown=t=>{o=!0,i=t.clientX,l=t.clientY,n=e.offsetLeft,a=e.offsetTop,e.style.cursor="grabbing",t.preventDefault()},window.onmousemove=t=>{if(!o)return;const r=t.clientX-i,d=t.clientY-l,u=n+r,m=a+d,b=c();e.style.left=Math.min(Math.max(u,0),b.width-e.offsetWidth)+"px",e.style.top=Math.min(Math.max(m,0),b.height-e.offsetHeight)+"px",e.style.boxShadow="0px 0px 5px rgba(0, 0, 0, 0.2)",e.style.opacity="0.9",document.body.appendChild(s)},window.onmouseup=()=>{o=!1,e.style.cursor="grab",e.style.boxShadow="none",e.style.opacity="1",s&&s.remove(),localStorage.setItem("fixed-one-click-position",JSON.stringify({top:e.style.top,left:e.style.left}))}},disableDragScroll(){const e=document.querySelector(".fixed-one-click");e&&(e.onmousedown=null,window.onmousemove=null,window.onmouseup=null)}}};o("a3fb");const cg=wt()(sg,[["render",ng],["__scopeId","data-v-5dc65fd9"]]);var rg=cg,dg={name:"Token",setup(){const{height:e}=Object(wO["b"])();let t=Object(Gi["useStorage"])("showLeft",!1,localStorage);return{wHeight:e,showLeft:t}},data(){let e=Wi["a"].get("kHeight")||Math.max(.5*this.wHeight,400);return e+180>this.wHeight&&(e=Math.max(.5*this.wHeight,400)),{loading:!1,warningStatus:!1,count:1,showUp:!0,showDown:!0,isStretch:!1,showRight:!0,hover1:!1,hover2:!1,hover3:!1,hover4:!1,hover5:!1,hover6:!1,kHeight:e,isMask:!1,lHeight:0,loadingSwap:!1}},components:{TokenInfo:Uo,KLineChart:Ho["a"],Tx:zo["a"],TokenRank:tl,TokenRight:yO,KCheck:Hk,OneClick:rg,Run:Fo},computed:{rowspanDown(){return 3-this.rowspanUp},tokenInfo(){return this.$store.state.tokenInfo},tokenPrice(){return this.$store.state.tokenPrice},middleHeight(){return Math.max(.7*this.wHeight,400)}},watch:{tokenPrice:{handler(e){"Token"==this.$route.name&&(document.title="$"+this.$f.formatNumber2(e||this.tokenInfo.priceUSD)+" "+this.tokenInfo.symbol+" | Ave")},deep:!0},"$store.state.id"(e){e&&"Token"==this.$route.name&&(this.init(),this.$store.state.runVisible&&(this.$store.state.runVisible=!1))}},mounted(){this.init(),this.getLeftHeight(),this.setOpenGraph()},beforeRouteLeave(e,t,o){this.$store.state.runVisible&&(this.$store.state.runVisible=!1),this.$store.dispatch("unSubMultiPrice"),this.unSubscribeExtra();try{var i,l;null===(i=this.$refs)||void 0===i||null===(i=i.kLine)||void 0===i||i.routeLeave(),null===(l=this.$refs)||void 0===l||null===(l=l.ref_list)||void 0===l||l.unSubscribe()}catch(n){}o()},methods:{unSubscribeExtra(){var e;if((null===(e=this.$store.state.ws.wsExtraParams)||void 0===e?void 0:e.length)>0){let e={jsonrpc:"2.0",method:"unsubscribe",params:["price_extra"],id:1};this.$store.commit("setWsState",{name:"wsExtraParams",value:[]}),this.$store.commit("wsSend",e)}},setOpenGraph(){let e=window.location.href;const t=[{property:"og:site_name",content:"AVE.ai"},{property:"og:type",content:"website"},{property:"og:url",content:e},{property:"og:title",content:`${this.tokenInfo.symbol} latest price,buy,sell and trade ${this.tokenInfo.symbol}`},{property:"og:description",content:"Real-Time Blockchain Data, Price Alerts, Smart Money, KOL, Sniping, Copy-Trading and more."},{property:"og:image",content:"https://ave.s3.ap-east-1.amazonaws.com/logo/logo_tgbg.png"},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"600"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:url",content:e},{property:"twitter:title",content:`${this.tokenInfo.symbol} latest price,buy,sell and trade ${this.tokenInfo.symbol}`},{property:"twitter:description",content:"Real-Time Blockchain Data, Price Alerts, Smart Money, KOL, Sniping, Copy-Trading and more."},{property:"twitter:image",content:"https://ave.s3.ap-east-1.amazonaws.com/logo/logo_tgbg.png"},{property:"fb:app_id",content:"1024585522541030"}];t.forEach(({property:e,content:t})=>{const o=document.querySelector(`meta[property='${e}']`);if(o)o.setAttribute("content",t);else{const o=document.createElement("meta");o.setAttribute("property",e),o.setAttribute("content",t),document.head.appendChild(o)}})},drag(e){let t=e.clientY;this.isMask=!0;let{height:o}=Object(wO["a"])(document.querySelector("#k-line-chart-container"));return this.kHeight=o,document.onmousemove=e=>{this.isMask&&(e.clientY>this.wHeight?this.isMask=!1:(document.getElementById("k-line-chart-container").style.pointerEvents="none",e.clientY<t?this.kHeight-=t-e.clientY:this.kHeight+=e.clientY-t,t=e.clientY,Wi["a"].set("kHeight",this.kHeight)))},document.onmouseup=()=>{document.getElementById("k-line-chart-container").style.pointerEvents="auto",this.isMask=!1,document.onmousemove=null,document.onmouseup=null},!1},toggle(e){"right"===e?this.$store.state.layout.showRight=!this.$store.state.layout.showRight:this.showLeft=!this.showLeft},init(){this.$store.state.id&&(this.$store.state.ws.isConnected||this.$store.dispatch("initWs"),this.getInitData(),this.$store.dispatch("getLPHolders")),document.title="$"+(this.tokenPrice?this.$f.formatNum(this.$f.formatNumber(this.tokenPrice)):this.$f.formatNum(this.$f.formatNumber(this.tokenInfo.priceUSD)))+" "+this.tokenInfo.symbol+" | Ave"},getLeftHeight(){this.$nextTick(()=>{let{height:e}=Object(wO["a"])(document.querySelector("#token-left"));this.lHeight=e})},getInitData(){this.loading=!0,this.$store.dispatch("getToken").then(()=>{this.getWarningStatus()}).finally(()=>{this.loading=!1})},getWarningStatus(){var e,t,o;this.warningStatus=!1;let i=this.$store.state.id||this.$route.params.id,l=null!==(e=localStorage)&&void 0!==e&&e.tokenWarningNotice?JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.tokenWarningNotice):{};var n;"Token"===this.$route.name&&(null===(o=this.tokenInfo)||void 0===o?void 0:o.risk_level)>=0&&!l[i]&&(this.warningStatus=this.tokenInfo.risk_level>=0&&!this.tokenInfo.logo_url&&!(null!==(n=this.tokenInfo)&&void 0!==n&&n.is_audited))}}};o("5c09");const ug=wt()(dg,[["render",d],["__scopeId","data-v-51bd6720"]]);t["default"]=ug},"0fa0":function(e,t,o){"use strict";o("dbfc")},"102d9":function(e,t,o){},1066:function(e,t,o){},1073:function(e,t,o){},"139d":function(e,t,o){},"14eb":function(e,t,o){},"16e49":function(e,t,o){"use strict";o("4175")},"16e5":function(e,t,o){"use strict";o("14eb")},"186e":function(e,t,o){"use strict";o("3f52")},"18e4":function(e,t,o){},"1a05":function(e,t,o){"use strict";var i=o("7a23");const l={key:0,class:"table-empty"},n=["src"],a={key:1},s={class:"flex-start"},c={class:"icon-token-container",style:{"margin-right":"5px"}},r=["src"],d=["src"],u=["src"],m={class:"token-symbol"},b={key:0,class:"iconfont icon-zhiding ml-5 text-12px",style:{color:"#F0B90A"}},h={class:"dropdown-link"},p={class:"table-field-text"},v={class:"table-field-text"},O={class:"table-field-text"},f={class:"type-header"},j={key:0,class:"table-field-text"},k={key:1,class:"table-field-text"},g={key:2,class:"table-field-text"},y={key:3,class:"table-field-text"},w={class:"flex-end"},_={class:"table-field-text"},$={class:"table-field-text"},N=["onClick","loading"],T={key:1};function V(e,t,V,x,S,E){var B;const C=Object(i["resolveComponent"])("el-image"),D=Object(i["resolveComponent"])("el-table-column"),I=Object(i["resolveComponent"])("el-dropdown-item"),A=Object(i["resolveComponent"])("el-dropdown-menu"),L=Object(i["resolveComponent"])("el-dropdown"),P=(Object(i["resolveComponent"])("el-input"),Object(i["resolveComponent"])("el-slider"),Object(i["resolveComponent"])("el-button"),Object(i["resolveComponent"])("el-popover"),Object(i["resolveComponent"])("el-table")),F=Object(i["resolveDirective"])("loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(P,{data:E.txHistory,fit:"",stripe:"","max-height":"700",style:{width:"100%","min-height":"250px"},onRowClick:E.tableRowClick},{empty:Object(i["withCtx"])(()=>[S.loading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",a)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",l,[Object(i["createElementVNode"])("img",{src:"light"===e.$store.state.mode?o("b28f"):o("fab6")},null,8,n),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("emptyNoData")),1)]))]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(D,{label:e.$t("token"),align:"left"},{default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("div",s,[Object(i["createElementVNode"])("div",c,[Object(i["createVNode"])(C,{class:"token-icon",src:e.$f.formatIcon({logo_url:null!==t&&void 0!==t&&t.isBuy?t.outTokenLogoUrl:null===t||void 0===t?void 0:t.inTokenLogoUrl,chain:t.chain},null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol)},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),alt:"",srcset:""},null,8,r)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),alt:"",srcset:""},null,8,d)]),_:2},1032,["src"]),null!==t&&void 0!==t&&t.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,u)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",m,Object(i["toDisplayString"])(null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),1),"waiting"===t.status&&"my"===e.$store.state.bot.orderTabActive?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",b)):Object(i["createCommentVNode"])("",!0)])]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("type"),align:"right",prop:"isBuy"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("type")),1),Object(i["createVNode"])(L,{trigger:"click",onCommand:E.handleTypeCommand},{dropdown:Object(i["withCtx"])(()=>[Object(i["createVNode"])(A,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(I,{command:"all"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("all")),1)]),_:1}),Object(i["createVNode"])(I,{command:"5"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("limitBuy")),1)]),_:1}),Object(i["createVNode"])(I,{command:"6"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("limitSell")),1)]),_:1})]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",h,[Object(i["createElementVNode"])("i",{class:"iconfont icon-guolv1 text-10px ml-3 clickable",style:Object(i["normalizeStyle"])({color:E.isActiveFilter("volume")?"var(--custom-primary-color)":""})},null,4)])]),_:1},8,["onCommand"])]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["btn-type",null!==t&&void 0!==t&&t.isBuy?"btn-buy":"btn-sell"]),style:Object(i["normalizeStyle"])({color:null!==t&&void 0!==t&&t.isBuy?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(null!==t&&void 0!==t&&t.isBuy?e.$t("buy"):e.$t("sell")),7)]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("price"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("price")),1)]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",p,"$"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===t||void 0===t?void 0:t.PriceLimit)||0)),1)]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("volume4"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("volume4")),1),Object(i["createCommentVNode"])("",!0)]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",v,Object(i["toDisplayString"])(e.$f.formatNumberS(Number(null===t||void 0===t?void 0:t.inValue)||0,2)),1)]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("amount1"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("amount1")),1)]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",O,[null!==t&&void 0!==t&&t.isBuy?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.outputAmount)?e.$f.formatNumber2(E.formatUnits(new S.BigNumber((null===t||void 0===t?void 0:t.outputAmount)||0).toFixed(0),t.outTokenDecimals||0),4):"--")+" "+Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.outputAmount)?null===t||void 0===t?void 0:t.outTokenSymbol:""),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.inAmount)?e.$f.formatNumber2(E.formatUnits(new S.BigNumber((null===t||void 0===t?void 0:t.inAmount)||0).toFixed(0),t.inTokenDecimals||0),4):"--")+" "+Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.inAmount)?null===t||void 0===t?void 0:t.inTokenSymbol:""),1)],64))])]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("status"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("status")),1),Object(i["createCommentVNode"])("",!0)])]),default:Object(i["withCtx"])(({row:t})=>["confirmed"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",j,Object(i["toDisplayString"])(e.$t("completed")),1)):"cancelled"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",k,Object(i["toDisplayString"])(e.$t("cancelled1")),1)):"sent"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",g,Object(i["toDisplayString"])(e.$t("sent")),1)):"waiting"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",y,Object(i["toDisplayString"])(e.$t("pendingOrder")),1)):Object(i["createCommentVNode"])("",!0)]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("CreateTime"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",w,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("CreateTime")),1)])]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",_,Object(i["toDisplayString"])(x.isShowDate?e.$f.formatDate(t.time,"YYYY/MM/DD HH:mm"):e.$dayjs(1e3*t.time).fromNow()),1)]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("ExpirationTime"),align:"right"},{default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",$,Object(i["toDisplayString"])(x.isShowDate?e.$f.formatDate(t.time+604800,"YYYY/MM/DD HH:mm"):e.$dayjs(1e3*(t.time+604800)).fromNow()),1)]),_:1},8,["label"]),Object(i["createVNode"])(D,{label:e.$t("operate"),align:"right"},{default:Object(i["withCtx"])(({row:t})=>["waiting"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{key:0,class:"btn-cancel",onClick:Object(i["withModifiers"])(e=>E.handleCancelOrder(t),["stop"]),loading:S.loadingCancel[t.batchId]},Object(i["toDisplayString"])(e.$t("Cancel")),9,N)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",T," - "))]),_:1},8,["label"])]),_:1},8,["data","onRowClick"])),[[F,S.loading&&!(null!==(B=E.txHistory)&&void 0!==B&&B.length)]])])}o("0643"),o("2382"),o("fffc"),o("a573"),o("9a9a");var x=o("2c28"),S=o("cdc2"),E=o("901e"),B=o.n(E),C=o("fa7d");let D=1;var I={name:"BotLimitMarket",props:{botOrderOnlyCurrentToken:Boolean,txHistoryObj:Object,selectedChain:String},components:{"van-count-down":S["a"]},setup(){var e;let t=!0,o={volume:{type:"volume",range:[0,1e5]},swapType:{type:"swapType",value:["buy","sell"]},statusType:{type:"statusType",value:["waiting","confirmed","error","cancelled","sent"]},version:D},i=Object(x["useStorage"])("bot_order_market_filter",o,localStorage);return(null===i||void 0===i||null===(e=i.value)||void 0===e?void 0:e.version)!==D&&(i.value=o),{filterConditions:i,isShowDate:t}},data(){var e,t,o;let i=(null===(e=this.filterConditions)||void 0===e||null===(e=e.volume)||void 0===e?void 0:e.range)||[0,1e5];return 0===i[1]&&(i[1]=1e5),{BigNumber:B.a,page:0,pageSize:50,typeFilter:{visible:!1,value:["buy","sell"]},loading:!1,filterForm:{volume:{type:"volume",visible:!1,range:i,defaultRange:[0,1e5]},swapType:{type:"swapType",visible:!1,value:(null===(t=this.filterConditions)||void 0===t||null===(t=t.swapType)||void 0===t?void 0:t.value)||["buy","sell"],defaultValue:["buy","sell"]},statusType:{type:"statusType",visible:!1,value:(null===(o=this.filterConditions)||void 0===o||null===(o=o.statusType)||void 0===o?void 0:o.value)||["waiting","confirmed","error","cancelled","sent"],defaultValue:["waiting","confirmed","error","cancelled","sent"]}},loadingCancel:{},dialogVisible:!1,shareItem:{},logoTokenBase64:"",logoChainBase64:"",shareImgCanvas:"",loadingCopy:!1,bgImg:"",qrcodeUrl:""}},computed:{txHistory(){var e,t,o,i,l;let n=(null===(e=this.filterConditions)||void 0===e||null===(e=e.swapType)||void 0===e?void 0:e.value)||["buy","sell"],a=this.botOrderOnlyCurrentToken,s=(null===(t=this.$store.state)||void 0===t||null===(t=t.tokenInfo)||void 0===t?void 0:t.address)||(null===(o=this.token)||void 0===o?void 0:o.address)||"",c=a?"my_"+s:"my",r=null===(i=(null===(l=this.txHistoryObj)||void 0===l?void 0:l[c])||[])||void 0===i?void 0:i.filter(e=>!a||((null===e||void 0===e?void 0:e.inTokenAddress)===s||(null===e||void 0===e?void 0:e.outTokenAddress)===s));1===n.length&&("buy"===n[0]?r=r.filter(e=>5===e.swapType):"sell"===n[0]&&(r=r.filter(e=>6===e.swapType)));const d=r.filter(e=>"waiting"===e.status).length;return this.$store.commit("setPendingOrdersCount",d),r},orderTabActive(){return this.$store.state.bot.orderTabActive},sortedAddresses(){var e;const t=(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.addresses)||[];return[...t].sort((e,t)=>"solana"===e.chain?-1:"solana"===t.chain?1:"bsc"===e.chain?-1:"bsc"===t.chain?1:0)},upImg(){var e;let t=this.$store.state.globalConfig,o=null===t||void 0===t||null===(e=t.pc_share_image)||void 0===e?void 0:e.replace(/^.*\|/,"");return o.split(",").map(e=>(null===t||void 0===t?void 0:t.token_logo_url)+"pc_share/"+e)},downImg(){var e,t,o;let i=this.$store.state.globalConfig,l=null===i||void 0===i||null===(e=i.pc_share_image)||void 0===e?void 0:e.replace(/\|.*$/,"");return null===l||void 0===l||null===(t=l.split(","))||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,e=>(null===i||void 0===i?void 0:i.token_logo_url)+"pc_share/"+e)}},watch:{"$store.state.bot.limitHistoryUpdate"(e){e&&setTimeout(()=>{this.page=0,this.getUserPendingTx()},1e3)},"$store.state.bot.orderTabActive"(e){e&&(this.page=0,this.getUserPendingTx())},botOrderOnlyCurrentToken(){this.page=0,this.getUserPendingTx()},"$store.state.tokenInfo.chain"(e){e&&(this.page=0,this.getUserPendingTx())},"$store.state.bot.userInfo.evmAddress"(e){e&&(this.page=0,this.getUserPendingTx())},"$store.state.bot.subscribeResult"(e){var t;let o=e.batchId;o&&null!==(t=this.txHistory)&&void 0!==t&&t.some(e=>e.batchId==o)&&this.getUserPendingTx()}},created(){this.getUserPendingTx()},methods:{formatUnits:C["h"].formatUnits,getUserPendingTx(){var e,t,o,i,l,n,a,s,c,r,d;let u=this.selectedChain;this.$store.state.bot.orderTabActive;u=null!==(e=this.$store.state.bot.isSupportChains)&&void 0!==e&&null!==(t=e.includes)&&void 0!==t&&t.call(e,u)?u:"";let m=null===(o=this.filterConditions)||void 0===o?void 0:o.swapType.value,b=(null===m||void 0===m||null===(i=m.includes)||void 0===i||i.call(m,"buy"),null===m||void 0===m||null===(l=m.includes)||void 0===l||l.call(m,"sell"),(null===(n=this.$store.state)||void 0===n||null===(n=n.tokenInfo)||void 0===n?void 0:n.address)||(null===(a=this.token)||void 0===a?void 0:a.address)||""),h=(null===(s=this.filterConditions)||void 0===s||null===(s=s.volume)||void 0===s||null===(s=s.range)||void 0===s||null===(c=s.slice)||void 0===c?void 0:c.call(s,0))||[0,0];h[0]>h[1]&&(h=[h[1],h[0]]),1e5===h[1]&&(h[1]=0);const p=(null===(r=(d=this.sortedAddresses).find)||void 0===r||null===(r=r.call(d,e=>e.chain===u))||void 0===r?void 0:r.address)||"";let v={chain:u,token:this.botOrderOnlyCurrentToken?b:"",walletAddress:p};return this.loading=!0,this.$store.dispatch("bot_getUserPendingTxWeb",v).then(async e=>{var t;let o=v.token?"my_"+v.token:"my";return this.$store.commit("setPendingOrdersCount",null!==(t=e.length)&&void 0!==t?t:0),this.txHistoryObj[o]=null===e||void 0===e?void 0:e.map(e=>{let t=new Date(e.createTime).getTime()/1e3;return{...e,time:t}}),e}).finally(()=>{this.loading=!1})},formatBotError(e){let t=this.$f.formatBotError(e);return(null===t||void 0===t?void 0:t.length)>70?(null===t||void 0===t?void 0:t.slice(0,60))+"...":t},filterHandler(e,t,o){const i=o["property"];return t[i]===e},isActiveFilterType(){let e=["buy","sell"],t=this.typeFilter.value;return e.every(e=>t.includes(e))},tableRowClick(e){e.txHash&&window.open(this.$f.formatExplorerUrl(e.chain,e.txHash,"tx"))},isActiveFilter(e){if(!e)return!1;if("volume"===e){var t;let o=[0,1e5],{range:i}=(null===(t=this.filterConditions)||void 0===t?void 0:t[e])||{};return!((null===i||void 0===i?void 0:i[0])===(null===o||void 0===o?void 0:o[0])&&((null===i||void 0===i?void 0:i[1])===(null===o||void 0===o?void 0:o[1])||0===(null===i||void 0===i?void 0:i[1])))}if("swapType"===e){var o;let t=["buy","sell"],i=(null===(o=this.filterConditions)||void 0===o||null===(o=o[e])||void 0===o?void 0:o.value)||[];return!t.every(e=>i.includes(e))}},handleFilterConfirm(e){"volume"===e.type?(this.filterConditions[e.type].range[0]=e.range[0]||0,this.filterConditions[e.type].range[1]=e.range[1]||0):("swapType"===e.type||"statusType"===e.type)&&(this.filterConditions[e.type].value=e.value||[]),e.visible=!1,this.page=0,this.getUserPendingTx()},handleReset(e){"volume"===e.type?e.range=[0,1e5]:"swapType"===e.type?e.value=["buy","sell"]:"statusType"===e.type&&(e.value=["waiting","confirmed","error","cancelled","sent"]),this.handleFilterConfirm(e)},handleCancelOrder(e){this.$confirm(this.$t("botCancelOrder"),"",{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(()=>{this.loadingCancel[e.batchId]=!0,this.$store.dispatch("bot_cancelLimitOrdersByBatch",{chain:e.chain,batchId:e.batchId}).then(e=>{e&&this.getUserPendingTx()}).catch(e=>{this.$f.handleBotError(e||"swap error")}).finally(()=>{this.loadingCancel[e.batchId]=!1})}).catch(()=>{})},handleTypeCommand(e){"all"===e?this.filterConditions.swapType.value=["buy","sell"]:"5"===e?this.filterConditions.swapType.value=["buy"]:"6"===e&&(this.filterConditions.swapType.value=["sell"]),this.page=0,this.getUserPendingTx()},getTypeFilterText(){const e=this.filterForm["swapType"].value;return e.includes("buy")&&e.includes("sell")?this.$t("all"):e.includes("buy")?this.$t("limitBuy"):e.includes("sell")?this.$t("limitSell"):this.$t("all")},handleStatusCommand(e){"全部"===e?this.filterForm["statusType"].value=["waiting","confirmed","error","cancelled","sent"]:"挂单中"===e?this.filterForm["statusType"].value=["waiting"]:"部分成交"===e&&(this.filterForm["statusType"].value=["confirmed"]),this.handleFilterConfirm(this.filterForm["statusType"])},getStatusFilterText(){const e=this.filterForm["statusType"].value,t=["waiting","confirmed","error","cancelled","sent"];return t.every(t=>e.includes(t))?"全部":!e.includes("waiting")||e.includes("confirmed")||e.includes("error")||e.includes("cancelled")||e.includes("sent")?e.includes("confirmed")&&1===e.length?"部分成交":"全部":"挂单中"},batchCancelOrders(){const e=this.txHistory.filter(e=>"waiting"===e.status);0!==e.length?this.$confirm(this.$t("confirmCancelAllOrders"),"",{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(async()=>{const t=this.$loading({lock:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});try{for(let i=0;i<e.length;i++){const l=e[i];t.text=this.$t("cancellingOrders",{current:i+1,total:e.length});try{this.loadingCancel[l.batchId]=!0,await this.$store.dispatch("bot_cancelLimitOrdersByBatch",{chain:l.chain,batchId:l.batchId})}catch(o){}finally{this.loadingCancel[l.batchId]=!1}}this.$message.success(this.$t("cancelAllSuccess")),this.getUserPendingTx()}catch(o){this.$message.error(this.$t("cancelAllFailed"))}finally{t.close()}}).catch(()=>{}):this.$message.info(this.$t("noPendingOrders"))}}},A=(o("7f76"),o("6b0d")),L=o.n(A);const P=L()(I,[["render",V],["__scopeId","data-v-2e08bf11"]]);t["a"]=P},"1af7":function(e,t,o){},2280:function(e,t,o){"use strict";var i=o("7a23");const l={class:"bot-swap-history"},n={class:"flex-between chain-tabs"},a={class:"tabs chain-tabs-list"},s=["id","value","onChange"],c=["for"],r={class:"action-buttons"},d=["disabled"];function u(e,t,o,u,m,b){Object(i["resolveComponent"])("el-checkbox");const h=Object(i["resolveComponent"])("BotUnified");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",l,[Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",n,[Object(i["createElementVNode"])("div",a,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(b.chains,o=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:o.chain},[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"tab-bot-chain-"+o.chain,"onUpdate:modelValue":t[2]||(t[2]=e=>m.selectedChain=e),value:o.chain,class:"tab-radio-input",onChange:e=>b.handleChainChange(o.chain)},null,40,s),[[i["vModelRadio"],m.selectedChain]]),o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",{key:0,for:"tab-bot-chain-"+o.chain,class:"tab-item clickable-btn"},Object(i["toDisplayString"])(e.$f.getChainInfo(o.chain).name),9,c)):Object(i["createCommentVNode"])("",!0)],64))),128))]),Object(i["createElementVNode"])("div",r,[Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["btn-current-token",{active:u.botOrderOnlyCurrentToken}]),onClick:t[3]||(t[3]=(...e)=>b.toggleCurrentToken&&b.toggleCurrentToken(...e))},Object(i["toDisplayString"])(e.$t("currentToken")),3),Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["btn-cancel-all",{active:m.isCancelAllActive&&b.hasPendingOrders}]),onClick:t[4]||(t[4]=(...e)=>b.toggleCancelAll&&b.toggleCancelAll(...e)),disabled:!b.hasPendingOrders},Object(i["toDisplayString"])(e.$t("cancelAll")),11,d)])]),Object(i["withDirectives"])(Object(i["createVNode"])(h,{ref:"botUnified",botOrderOnlyCurrentToken:u.botOrderOnlyCurrentToken,txHistoryObj:m.txHistoryObj,selectedChain:m.selectedChain,"onUpdate:pendingCount":b.updatePendingCount},null,8,["botOrderOnlyCurrentToken","txHistoryObj","selectedChain","onUpdate:pendingCount"]),[[i["vShow"],"unified"===e.$store.state.bot.orderTabActive||"my"===this.$store.state.bot.orderTabActive]])])}o("0643"),o("2382"),o("fffc"),o("a573"),o("9a9a");var m=o("2c28"),b=o("901e"),h=o.n(b);const p={key:0,class:"table-empty"},v=["src"],O={key:1},f={class:"flex-start"},j={class:"icon-token-container",style:{"margin-right":"5px"}},k=["src"],g=["src"],y=["src"],w={class:"token-symbol"},_={key:0,class:"iconfont icon-zhiding ml-5 text-12px",style:{color:"#F0B90A"}},$={class:"flex-end"},N={key:1},T={class:"text-12px font-400 filter-title"},V={class:"flex mt-10"},x={class:"mt-20 flex"},S={class:"text-12px font-400 filter-title"},E={class:"flex mt-10"},B={class:"mt-10 mb-20",style:{padding:"0 10px"}},C={class:"mt-60 flex"},D={key:0,style:{color:"var(--custom-text-2-color)"}},I={key:1,style:{color:"var(--custom-text-2-color)","word-break":"break-all"}},A={key:2,style:{color:"var(--custom-text-2-color)"}},L={key:3,style:{color:"var(--custom-text-2-color)"}},P={key:4,style:{color:"var(--custom-text-1-color)"}};function F(e,t,l,n,a,s){var c;const r=Object(i["resolveComponent"])("el-image"),d=Object(i["resolveComponent"])("el-table-column"),u=Object(i["resolveComponent"])("van-count-down"),m=Object(i["resolveComponent"])("el-checkbox"),b=Object(i["resolveComponent"])("el-checkbox-group"),h=Object(i["resolveComponent"])("el-button"),F=Object(i["resolveComponent"])("el-popover"),R=Object(i["resolveComponent"])("el-input"),M=Object(i["resolveComponent"])("el-slider"),U=Object(i["resolveComponent"])("el-table"),z=Object(i["resolveDirective"])("loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(U,{data:s.txHistory,fit:"",stripe:"","max-height":"500",style:{width:"100%","min-height":"250px"},onRowClick:s.tableRowClick},{empty:Object(i["withCtx"])(()=>[a.loading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",O)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",p,[Object(i["createElementVNode"])("img",{src:"light"===e.$store.state.mode?o("b28f"):o("fab6")},null,8,v),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("emptyNoData")),1)]))]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(d,{label:e.$t("token"),align:"left"},{default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("div",j,[Object(i["createVNode"])(r,{class:"token-icon",src:e.$f.formatIcon({logo_url:null!==t&&void 0!==t&&t.isBuy?t.outTokenLogoUrl:null===t||void 0===t?void 0:t.inTokenLogoUrl,chain:t.chain},null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol)},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),alt:"",srcset:""},null,8,k)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),alt:"",srcset:""},null,8,g)]),_:2},1032,["src"]),null!==t&&void 0!==t&&t.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,y)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",w,Object(i["toDisplayString"])(null!==t&&void 0!==t&&t.isBuy?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),1),"waiting"===t.status&&"my"===e.$store.state.bot.orderTabActive?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",_)):Object(i["createCommentVNode"])("",!0)])]),_:1},8,["label"]),Object(i["createVNode"])(d,{label:e.$t("time"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",$,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("time")),1),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",{class:"iconfont icon-riqi clickable text-12px ml-3",onClick:t[0]||(t[0]=Object(i["withModifiers"])(e=>n.isShowDate=!1,["stop"]))},null,512),[[i["vShow"],n.isShowDate]]),Object(i["withDirectives"])(Object(i["createElementVNode"])("i",{class:"iconfont icon-countdown clickable text-12px ml-3",onClick:t[1]||(t[1]=Object(i["withModifiers"])(e=>n.isShowDate=!0,["stop"]))},null,512),[[i["vShow"],!n.isShowDate]])])]),default:Object(i["withCtx"])(({row:t})=>[!n.isShowDate&&null!==t&&void 0!==t&&t.time&&e.$f.formatTimeFromNow(null===t||void 0===t?void 0:t.time,!0)<60?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,time:1e3*(60-e.$f.formatTimeFromNow(null===t||void 0===t?void 0:t.time,!0)),style:{"--van-count-down-text-color":"currentColor","--van-count-down-line-height":"1","--van-count-down-font-size":"13px"}},{default:Object(i["withCtx"])(({total:o})=>[o>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Math.floor((e.$f.formatTimeFromNow(null===t||void 0===t?void 0:t.time,!0)+6e4-o)/1e3))+" "+Object(i["toDisplayString"])(e.$t("ss")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$dayjs(1e3*t.time).fromNow()),1)],64))]),_:2},1032,["time"])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",N,Object(i["toDisplayString"])(n.isShowDate?e.$f.formatDate(t.time,"MM-DD HH:mm:ss"):e.$dayjs(1e3*t.time).fromNow()),1))]),_:1},8,["label"]),Object(i["createVNode"])(d,{label:e.$t("type"),align:"right",prop:"isBuy"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("type")),1),Object(i["createVNode"])(F,{placement:"bottom","popper-class":"chains-table-filter",title:"",width:180,trigger:"click",visible:a.filterForm["swapType"].visible,"onUpdate:visible":t[5]||(t[5]=e=>a.filterForm["swapType"].visible=e)},{reference:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("i",{class:"iconfont icon-guolv1 text-10px ml-3 clickable",style:Object(i["normalizeStyle"])({color:s.isActiveFilter("swapType")?"var(--custom-primary-color)":""})},null,4)]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["filter-box",e.$store.state.mode])},[Object(i["createElementVNode"])("div",T,Object(i["toDisplayString"])(e.$t("type")),1),Object(i["createElementVNode"])("div",V,[Object(i["createVNode"])(b,{modelValue:a.filterForm["swapType"].value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.filterForm["swapType"].value=e),size:"small"},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(["buy","sell"],(t,o)=>Object(i["createVNode"])(m,{key:o,label:e.$t(t),value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),Object(i["createElementVNode"])("div",x,[Object(i["createVNode"])(h,{size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},color:"dark"!==e.$store.state.mode?"#f2f2f2":"#333333",onClick:t[3]||(t[3]=Object(i["withModifiers"])(e=>s.handleReset(a.filterForm["swapType"]),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("reset")),1)]),_:1},8,["color"]),Object(i["createVNode"])(h,{size:"default",color:"dark"!==e.$store.state.mode?"#222222":"#f5f5f5",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:t[4]||(t[4]=Object(i["withModifiers"])(e=>s.handleFilterConfirm(a.filterForm["swapType"]),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]),_:1},8,["color"])])],2)]),_:1},8,["visible"])]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["btn-type",null!==t&&void 0!==t&&t.isBuy?"btn-buy":"btn-sell"]),style:Object(i["normalizeStyle"])({color:null!==t&&void 0!==t&&t.isBuy?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(null!==t&&void 0!==t&&t.isBuy?e.$t("buy"):e.$t("sell")),7)]),_:1},8,["label"]),Object(i["createVNode"])(d,{label:e.$t("volume4"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("volume4")),1),Object(i["createVNode"])(F,{placement:"bottom","popper-class":"chains-table-filter",title:"",width:350,trigger:"click",visible:a.filterForm["volume"].visible,"onUpdate:visible":t[11]||(t[11]=e=>a.filterForm["volume"].visible=e)},{reference:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("i",{class:"iconfont icon-guolv1 text-10px ml-3 clickable",style:Object(i["normalizeStyle"])({color:s.isActiveFilter("volume")?"var(--custom-primary-color)":""})},null,4)]),default:Object(i["withCtx"])(()=>{var o;return[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["filter-box",e.$store.state.mode])},[Object(i["createElementVNode"])("div",S,Object(i["toDisplayString"])(e.$t("volume4"))+"($)",1),Object(i["createElementVNode"])("div",E,[Object(i["createVNode"])(R,{modelValue:a.filterForm["volume"].range[0],"onUpdate:modelValue":t[6]||(t[6]=e=>a.filterForm["volume"].range[0]=e),modelModifiers:{trim:!0,number:!0},placeholder:e.$t("minor"),clearable:""},null,8,["modelValue","placeholder"]),t[12]||(t[12]=Object(i["createElementVNode"])("span",{class:"ml-10 mr-10"},"~",-1)),Object(i["createVNode"])(R,{modelValue:a.filterForm["volume"].range[1],"onUpdate:modelValue":t[7]||(t[7]=e=>a.filterForm["volume"].range[1]=e),modelModifiers:{trim:!0,number:!0},placeholder:e.$t("max1"),clearable:""},null,8,["modelValue","placeholder"])]),Object(i["createElementVNode"])("div",B,[Object(i["createVNode"])(M,{style:{"--el-slider-main-bg-color":"var(--a-slider-bg-color)"},modelValue:a.filterForm["volume"].range,"onUpdate:modelValue":t[8]||(t[8]=e=>a.filterForm["volume"].range=e),range:"",min:0,size:"small",max:a.filterForm["volume"].defaultRange[1],marks:{0:"0",[a.filterForm["volume"].defaultRange[1]]:e.$f.formatNumber2((null===(o=a.filterForm["volume"])||void 0===o||null===(o=o.defaultRange)||void 0===o?void 0:o[1])||0,0,4,1e4)}},null,8,["modelValue","max","marks"])]),Object(i["createElementVNode"])("div",C,[Object(i["createVNode"])(h,{size:"default",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},color:"dark"!==e.$store.state.mode?"#f2f2f2":"#333333",onClick:t[9]||(t[9]=Object(i["withModifiers"])(e=>s.handleReset(a.filterForm["volume"]),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("reset")),1)]),_:1},8,["color"]),Object(i["createVNode"])(h,{size:"default",color:"dark"!==e.$store.state.mode?"#222222":"#f5f5f5",style:{height:"30px","min-width":"70px","--el-button-font-weight":"400"},onClick:t[10]||(t[10]=Object(i["withModifiers"])(e=>s.handleFilterConfirm(a.filterForm["volume"]),["stop"]))},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("confirm")),1)]),_:1},8,["color"])])],2)]}),_:1},8,["visible"])]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:null!==t&&void 0!==t&&t.isBuy?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(Number(null===t||void 0===t?void 0:t.inValue)||(null===t||void 0===t?void 0:t.outValue)||0,2)),5)]),_:1},8,["label"]),Object(i["createVNode"])(d,{label:e.$t("amount1"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("amount1")),1)]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:null!==t&&void 0!==t&&t.isBuy?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},[null!==t&&void 0!==t&&t.isBuy?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.outputAmount)?e.$f.formatNumber2(s.formatUnits(new a.BigNumber((null===t||void 0===t?void 0:t.outputAmount)||0).toFixed(0),t.outTokenDecimals||0),4):"--")+" "+Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.outputAmount)?null===t||void 0===t?void 0:t.outTokenSymbol:""),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.inAmount)?e.$f.formatNumber2(s.formatUnits(new a.BigNumber((null===t||void 0===t?void 0:t.inAmount)||0).toFixed(0),t.inTokenDecimals||0),4):"--")+" "+Object(i["toDisplayString"])(Number(null===t||void 0===t?void 0:t.inAmount)?null===t||void 0===t?void 0:t.inTokenSymbol:""),1)],64))],4)]),_:1},8,["label"]),Object(i["createVNode"])(d,{label:e.$t("price"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("price")),1)]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:5===(null===t||void 0===t?void 0:t.swapType)?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},"$"+Object(i["toDisplayString"])(null!==t&&void 0!==t&&t.isBuy?e.$f.formatNumber2("waiting"===t.status?(null===t||void 0===t?void 0:t.outPriceLimit)||(null===t||void 0===t?void 0:t.outPrice)||0:(null===t||void 0===t?void 0:t.outPrice)||0):e.$f.formatNumber2("waiting"===t.status?(null===t||void 0===t?void 0:t.outPriceLimit)||(null===t||void 0===t?void 0:t.inPrice)||0:(null===t||void 0===t?void 0:t.inPrice)||0)),5)]),_:1},8,["label"]),Object(i["createVNode"])(d,{label:e.$t("status"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("status")),1)]),default:Object(i["withCtx"])(({row:t})=>["confirmed"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",D,Object(i["toDisplayString"])(e.$t("completed")),1)):"error"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",I,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("failed")),1),null!==t&&void 0!==t&&t.errorLog?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])("("+Object(i["toDisplayString"])(s.formatBotError(null===t||void 0===t?void 0:t.errorLog))+")",1)],64)):Object(i["createCommentVNode"])("",!0)])):"cancelled"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",A,Object(i["toDisplayString"])(e.$t("cancelled1")),1)):"sent"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",L,Object(i["toDisplayString"])(e.$t("sent")),1)):"waiting"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",P,Object(i["toDisplayString"])(e.$t("pendingOrder")),1)):Object(i["createCommentVNode"])("",!0)]),_:1},8,["label"])]),_:1},8,["data","onRowClick"])),[[z,a.loading&&!(null!==(c=s.txHistory)&&void 0!==c&&c.length)]])])}var R=o("cdc2"),M=o("fa7d");let U=1;var z={name:"BotLimitMarket",props:{botOrderOnlyCurrentToken:Boolean,txHistoryObj:Object},components:{"van-count-down":R["a"]},setup(){var e;let t=Object(m["useStorage"])("bot_limit_market_date_isShow",!0,localStorage),o={volume:{type:"volume",range:[0,1e5]},swapType:{type:"swapType",value:["buy","sell"]},version:U},i=Object(m["useStorage"])("bot_order_market_filter",o,localStorage);return(null===i||void 0===i||null===(e=i.value)||void 0===e?void 0:e.version)!==U&&(i.value=o),{filterConditions:i,isShowDate:t}},data(){var e,t;let o=(null===(e=this.filterConditions)||void 0===e||null===(e=e.volume)||void 0===e?void 0:e.range)||[0,1e5];return 0===o[1]&&(o[1]=1e5),{BigNumber:h.a,page:0,pageSize:50,typeFilter:{visible:!1,value:["buy","sell"]},loading:!1,filterForm:{volume:{type:"volume",visible:!1,range:o,defaultRange:[0,1e5]},swapType:{type:"swapType",visible:!1,value:(null===(t=this.filterConditions)||void 0===t||null===(t=t.swapType)||void 0===t?void 0:t.value)||["buy","sell"],defaultValue:["buy","sell"]}},loadingCancel:{},dialogVisible:!1,shareItem:{},logoTokenBase64:"",logoChainBase64:"",shareImgCanvas:"",loadingCopy:!1,bgImg:"",qrcodeUrl:""}},computed:{txHistory(){var e,t,o,i,l;let n=(null===(e=this.filterConditions)||void 0===e||null===(e=e.swapType)||void 0===e?void 0:e.value)||["buy","sell"],a=this.botOrderOnlyCurrentToken,s=(null===(t=this.$store.state)||void 0===t||null===(t=t.tokenInfo)||void 0===t?void 0:t.address)||(null===(o=this.token)||void 0===o?void 0:o.address)||"",c=a?"market_"+s:"market";return null===(i=(null===(l=this.txHistoryObj)||void 0===l?void 0:l[c])||[])||void 0===i?void 0:i.filter(e=>{var t;return(null===n||void 0===n||null===(t=n.includes)||void 0===t?void 0:t.call(n,null!==e&&void 0!==e&&e.isBuy?"buy":"sell"))&&(!a||((null===e||void 0===e?void 0:e.inTokenAddress)===s||(null===e||void 0===e?void 0:e.outTokenAddress)===s))})},orderTabActive(){return this.$store.state.bot.orderTabActive},upImg(){var e;let t=this.$store.state.globalConfig,o=null===t||void 0===t||null===(e=t.pc_share_image)||void 0===e?void 0:e.replace(/^.*\|/,"");return o.split(",").map(e=>(null===t||void 0===t?void 0:t.token_logo_url)+"pc_share/"+e)},downImg(){var e,t,o;let i=this.$store.state.globalConfig,l=null===i||void 0===i||null===(e=i.pc_share_image)||void 0===e?void 0:e.replace(/\|.*$/,"");return null===l||void 0===l||null===(t=l.split(","))||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,e=>(null===i||void 0===i?void 0:i.token_logo_url)+"pc_share/"+e)}},watch:{"$store.state.bot.limitHistoryUpdate"(e){e&&setTimeout(()=>{this.page=0,this.getUserPendingTx()},1e3)},"$store.state.bot.orderTabActive"(e){e&&(this.page=0,this.getUserPendingTx())},botOrderOnlyCurrentToken(){this.page=0,this.getUserPendingTx()},"$store.state.tokenInfo.chain"(e){e&&(this.page=0,this.getUserPendingTx())},"$store.state.bot.userInfo.evmAddress"(e){e&&(this.page=0,this.getUserPendingTx())},"$store.state.bot.subscribeResult"(e){var t;let o=e.batchId;o&&null!==(t=this.txHistory)&&void 0!==t&&t.some(e=>e.batchId==o)&&this.getUserPendingTx()}},created(){this.getUserPendingTx()},methods:{formatUnits:M["h"].formatUnits,getUserPendingTx(){var e,t,o,i,l,n,a,s,c,r;let d=null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.chain,u=this.$store.state.bot.orderTabActive;if("my"===u)return;let m=null===(t=this.filterConditions)||void 0===t?void 0:t.swapType.value,b=null===m||void 0===m||null===(o=m.includes)||void 0===o?void 0:o.call(m,"buy"),p=null===m||void 0===m||null===(i=m.includes)||void 0===i?void 0:i.call(m,"sell"),v=b&&p?0:b&&!p?5:6,O=(null===(l=this.$store.state)||void 0===l||null===(l=l.tokenInfo)||void 0===l?void 0:l.address)||(null===(n=this.token)||void 0===n?void 0:n.address)||"",f=(null===(a=this.filterConditions)||void 0===a||null===(a=a.volume)||void 0===a||null===(a=a.range)||void 0===a||null===(s=a.slice)||void 0===s?void 0:s.call(a,0))||[0,0];f[0]>f[1]&&(f=[f[1],f[0]]),1e5===f[1]&&(f[1]=0);let j={page:this.page,pageSize:this.pageSize,chain:d,token:this.botOrderOnlyCurrentToken?O:"",timeSort:!0,tradeVolumeSort:!1,swapType:v,minTradeVolume:(null===(c=f)||void 0===c?void 0:c[0])||0,maxTradeVolume:(null===(r=f)||void 0===r?void 0:r[1])||0};this.loading=!0,this.$store.dispatch("bot_getMarketCompletedLimitTx",j).then(e=>{let t=j.token?"market_"+j.token:"market";this.txHistoryObj[t]=null===e||void 0===e?void 0:e.map(e=>{let t=(null===e||void 0===e?void 0:e.blockTime)||Number(new h.a((null===e||void 0===e?void 0:e.batchId)||0).div(1e3).toFixed(0));return{...e,time:t}})}).finally(()=>{this.loading=!1})},formatBotError(e){let t=this.$f.formatBotError(e);return(null===t||void 0===t?void 0:t.length)>70?(null===t||void 0===t?void 0:t.slice(0,60))+"...":t},filterHandler(e,t,o){const i=o["property"];return t[i]===e},isActiveFilterType(){let e=["buy","sell"],t=this.typeFilter.value;return e.every(e=>t.includes(e))},tableRowClick(e){e.txHash&&window.open(this.$f.formatExplorerUrl(e.chain,e.txHash,"tx"))},isActiveFilter(e){if(!e)return!1;if("volume"===e){var t;let o=[0,1e5],{range:i}=(null===(t=this.filterConditions)||void 0===t?void 0:t[e])||{};return!((null===i||void 0===i?void 0:i[0])===(null===o||void 0===o?void 0:o[0])&&((null===i||void 0===i?void 0:i[1])===(null===o||void 0===o?void 0:o[1])||0===(null===i||void 0===i?void 0:i[1])))}if("swapType"===e){var o;let t=["buy","sell"],i=(null===(o=this.filterConditions)||void 0===o||null===(o=o[e])||void 0===o?void 0:o.value)||[];return!t.every(e=>i.includes(e))}},handleFilterConfirm(e){"volume"===e.type?(this.filterConditions[e.type].range[0]=e.range[0]||0,this.filterConditions[e.type].range[1]=e.range[1]||0):"swapType"===e.type&&(this.filterConditions[e.type].value=e.value||[]),e.visible=!1,this.page=0,this.getUserPendingTx()},handleReset(e){"volume"===e.type?e.range=[0,1e5]:"swapType"===e.type&&(e.value=["buy","sell"]),this.handleFilterConfirm(e)},handleCancelOrder(e){this.$confirm(this.$t("botCancelOrder"),"",{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(()=>{this.loadingCancel[e.batchId]=!0,this.$store.dispatch("bot_cancelLimitOrdersByBatch",{chain:e.chain,batchId:e.batchId}).then(e=>{e&&this.getUserPendingTx()}).catch(e=>{this.$f.handleBotError(e||"swap error")}).finally(()=>{this.loadingCancel[e.batchId]=!1})}).catch(()=>{})}}},H=(o("eeab"),o("6b0d")),q=o.n(H);const Q=q()(z,[["render",F],["__scopeId","data-v-0f097faf"]]);var G=Q,W=o("4334"),Y=o.n(W),J=o("854f"),K=o.n(J),Z=o("ad22"),X=o.n(Z),ee=o("ab75"),te=o.n(ee);const oe={class:"content"},ie=["src"],le={style:{display:"inline-block"}},ne={class:"flex",style:{"flex-direction":"column"}},ae={class:"mt_5 block",style:{"margin-left":"auto","font-size":"10px",color:"#fff","max-width":"180px","text-align":"center"}},se={class:"flex-start mt-40"},ce={class:"icon-token-container share",style:{"margin-right":"10px"}},re=["src"],de=["src"],ue=["src"],me={class:"text-20px"},be={class:"mt_5 color-666 block"},he={class:"mt_15"},pe={class:"color-999"},ve={class:"mt-20 share-table"},Oe={key:1,style:{color:"#999"}},fe={key:1,style:{color:"#999"}},je={key:1,style:{color:"#999"}},ke={key:1,style:{color:"#999"}},ge={class:"invite"},ye={class:"tr mt_10"},we={class:"font-20 font_weight_700 block"},_e={class:"font-12 font_weight_400 mt_10"},$e={class:"ml_10"},Ne=["src","alt"],Te={class:"font-14 font_weight_400 mt_5 block"},Ve={class:"flex mt-20 text-12px",style:{width:"300px",color:"#999"}},xe={class:"mt-8"};function Se(e,t,o,l,n,a){const s=Object(i["resolveComponent"])("el-image"),c=(Object(i["resolveComponent"])("el-table-column"),Object(i["resolveComponent"])("van-count-down"),Object(i["resolveComponent"])("el-checkbox"),Object(i["resolveComponent"])("el-checkbox-group"),Object(i["resolveComponent"])("el-button"),Object(i["resolveComponent"])("el-popover"),Object(i["resolveComponent"])("el-input"),Object(i["resolveComponent"])("el-slider"),Object(i["resolveComponent"])("el-table"),Object(i["resolveComponent"])("el-dialog"));Object(i["resolveDirective"])("loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(c,{class:"dialog-share",modelValue:n.dialogVisible,"onUpdate:modelValue":t[15]||(t[15]=e=>n.dialogVisible=e),title:e.$t("share"),width:"700","append-to-body":""},{default:Object(i["withCtx"])(()=>{var o,l,c,r,d,u,m,b,h,p,v,O,f,j,k,g,y;return[Object(i["createElementVNode"])("div",oe,[Object(i["createElementVNode"])("div",{class:"share-card",style:Object(i["normalizeStyle"])({background:(null===(o=n.shareItem)||void 0===o?void 0:o.profitRate)>0?"linear-gradient(146.57deg, #003A29 0.8%, #000000 98.72%)":"linear-gradient(145.74deg, #49000A 0.79%, #000000 100%)"})},[Object(i["createElementVNode"])("img",{class:"share-bg-img",src:n.bgImg,alt:"",srcset:""},null,8,ie),Object(i["createElementVNode"])("div",le,[Object(i["createElementVNode"])("div",ne,[t[17]||(t[17]=Object(i["createElementVNode"])("div",{class:"flex-start"},[Object(i["createElementVNode"])("img",{src:Y.a,style:{height:"24px"},height:"24",alt:"",srcset:""}),Object(i["createElementVNode"])("span",{class:"ml-5 text-20px"},"Ave.ai")],-1)),Object(i["createElementVNode"])("span",ae,Object(i["toDisplayString"])(e.$t("campaignTitle")),1)])]),Object(i["createElementVNode"])("div",se,[Object(i["createElementVNode"])("div",ce,[Object(i["createVNode"])(s,{class:"token-icon token-logo",src:e.$f.formatIcon({logo_url:n.shareItem.isBuy?n.shareItem.outTokenLogoUrl:null===(l=n.shareItem)||void 0===l?void 0:l.inTokenLogoUrl,chain:n.shareItem.chain},n.shareItem.isBuy?e.row.outTokenSymbol:null===(c=n.shareItem)||void 0===c?void 0:c.inTokenSymbol)},{error:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===(t=n.shareItem)||void 0===t?void 0:t.chain,n.shareItem.isBuy?n.shareItem.outTokenSymbol:null===(o=n.shareItem)||void 0===o?void 0:o.inTokenSymbol),alt:"",srcset:""},null,8,re)]}),placeholder:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===(t=n.shareItem)||void 0===t?void 0:t.chain,n.shareItem.isBuy?n.shareItem.outTokenSymbol:null===(o=n.shareItem)||void 0===o?void 0:o.inTokenSymbol),alt:"",srcset:""},null,8,de)]}),_:1},8,["src"]),null!==(r=n.shareItem)&&void 0!==r&&r.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol chain-logo",src:n.logoChainBase64||`${e.$store.state.s3BaseUrl}chain/${n.shareItem.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,ue)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",me,Object(i["toDisplayString"])(n.shareItem.isBuy?n.shareItem.outTokenSymbol:null===(d=n.shareItem)||void 0===d?void 0:d.inTokenSymbol),1)]),Object(i["createElementVNode"])("span",be,Object(i["toDisplayString"])((null===(u=this.$store.state.bot)||void 0===u||null===(u=u.userInfo)||void 0===u||null===(u=u.evmAddress)||void 0===u?void 0:u.slice(0,6))+"..."+(null===(m=this.$store.state.bot)||void 0===m||null===(m=m.userInfo)||void 0===m||null===(m=m.evmAddress)||void 0===m?void 0:m.slice(-6))),1),Object(i["createElementVNode"])("div",he,[Object(i["createElementVNode"])("span",pe,Object(i["toDisplayString"])(e.$t("RIO")),1),null!==(b=n.shareItem)&&void 0!==b&&b.profitRate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"mt_5",style:Object(i["normalizeStyle"])([{"font-size":"40px","font-weight":"700"},{color:(null===(h=n.shareItem)||void 0===h?void 0:h.profitRate)>0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]}])},Object(i["toDisplayString"])((null===(p=n.shareItem)||void 0===p?void 0:p.profitRate)>0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumberS((null===(v=n.shareItem)||void 0===v?void 0:v.profitRate)||0))+"%",5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"mt_5",style:Object(i["normalizeStyle"])([{"font-size":"40px","font-weight":"700"},{color:"#999"}])},"--"))]),Object(i["createElementVNode"])("table",ve,[Object(i["createElementVNode"])("tbody",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignBuyAvg"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignBuyAvg")),5),Object(i["createElementVNode"])("td",null,[(null===(O=n.shareItem)||void 0===O?void 0:O.avg_buy_price)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(f=n.shareItem)||void 0===f?void 0:f.avg_buy_price)||0)),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oe,"--"))])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignSellAvg"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignSellAvg")),5),Object(i["createElementVNode"])("td",null,[(null===(j=n.shareItem)||void 0===j?void 0:j.avg_sell_price)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(k=n.shareItem)||void 0===k?void 0:k.avg_sell_price)||0)),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",fe,"--"))])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignBuyTime"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignBuyTime")),5),Object(i["createElementVNode"])("td",null,[null!==(g=n.shareItem)&&void 0!==g&&g.last_buy_time?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(n.shareItem.last_buy_time/1e3,"YYYY-MM-DD HH:mm:ss")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",je,"--"))])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignSellTime"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignSellTime")),5),Object(i["createElementVNode"])("td",null,[null!==(y=n.shareItem)&&void 0!==y&&y.last_sell_time?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(n.shareItem.last_sell_time/1e3,"YYYY-MM-DD HH:mm:ss")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ke,"--"))])])])]),Object(i["createElementVNode"])("div",ge,[Object(i["createElementVNode"])("div",ye,[Object(i["createElementVNode"])("span",we,Object(i["toDisplayString"])(e.$t("campaignSubTitle")),1),Object(i["createElementVNode"])("span",_e,Object(i["toDisplayString"])(e.$t("campaignDesc")),1)]),Object(i["createElementVNode"])("div",$e,[Object(i["createElementVNode"])("img",{src:n.qrcodeUrl,alt:e.$t("campaignScan"),width:"60px",height:"60px"},null,8,Ne),Object(i["createElementVNode"])("span",Te,Object(i["toDisplayString"])(e.$t("campaignScan")),1)])])],4),Object(i["createElementVNode"])("div",Ve,[Object(i["createElementVNode"])("div",{class:"flex-col flex-center clickable",onClick:t[12]||(t[12]=Object(i["withModifiers"])((...e)=>a.downloadSharePoster&&a.downloadSharePoster(...e),["stop"]))},[t[18]||(t[18]=Object(i["createElementVNode"])("img",{src:K.a,height:"48",alt:"",srcset:""},null,-1)),Object(i["createElementVNode"])("span",xe,Object(i["toDisplayString"])(e.$t("download")),1)]),Object(i["createElementVNode"])("div",{class:"flex-col flex-center clickable",onClick:t[13]||(t[13]=Object(i["withModifiers"])(t=>e.$f.jumpX(),["stop"]))},t[19]||(t[19]=[Object(i["createElementVNode"])("img",{src:X.a,height:"48",alt:"",srcset:""},null,-1),Object(i["createElementVNode"])("span",{class:"mt-8"},"Twitter",-1)])),Object(i["createElementVNode"])("div",{class:"flex-col flex-center clickable",onClick:t[14]||(t[14]=Object(i["withModifiers"])(t=>e.$f.jumpTg(),["stop"]))},t[20]||(t[20]=[Object(i["createElementVNode"])("img",{src:te.a,height:"48",alt:"",srcset:""},null,-1),Object(i["createElementVNode"])("span",{class:"mt-8"},"Telegram",-1)]))])])]}),_:1},8,["modelValue","title"])])}o("14d9"),o("88a7"),o("271a"),o("5494");var Ee=o("c0e9"),Be=o.n(Ee),Ce=o("5c2c"),De=o.n(Ce),Ie=o("bbaa"),Ae=o.n(Ie),Le=o("365c"),Pe=o("d055"),Fe=o.n(Pe);function Re(e,t){return Math.floor(Math.random()*(t-e+1))+e}let Me=1,Ue=null;var ze={name:"BotLimitMy",props:{botOrderOnlyCurrentToken:Boolean,txHistoryObj:Object},emits:["update:isShowDate"],components:{"van-count-down":R["a"]},setup(){var e;let t=Object(m["useStorage"])("bot_limit_my_date_isShow",!0,localStorage),o={volume:{type:"volume",range:[0,1e5]},swapType:{type:"swapType",value:["buy","sell"]},version:Me},i=Object(m["useStorage"])("bot_order_my_filter",o,localStorage);return(null===i||void 0===i||null===(e=i.value)||void 0===e?void 0:e.version)!==Me&&(i.value=o),{filterConditions:i,isShowDate:t}},data(){var e,t;let o=(null===(e=this.filterConditions)||void 0===e||null===(e=e.volume)||void 0===e?void 0:e.range)||[0,1e5];return 0===o[1]&&(o[1]=1e5),{BigNumber:h.a,page:0,pageSize:50,typeFilter:{visible:!1,value:["buy","sell"]},loading:!1,filterForm:{volume:{type:"volume",visible:!1,range:o,defaultRange:[0,1e5]},swapType:{type:"swapType",visible:!1,value:(null===(t=this.filterConditions)||void 0===t||null===(t=t.swapType)||void 0===t?void 0:t.value)||["buy","sell"],defaultValue:["buy","sell"]}},loadingCancel:{},dialogVisible:!1,shareItem:{},logoTokenBase64:"",logoChainBase64:"",shareImgCanvas:"",loadingCopy:!1,bgImg:"",qrcodeUrl:""}},computed:{txHistory(){var e,t,o,i,l;let n=(null===(e=this.filterConditions)||void 0===e||null===(e=e.swapType)||void 0===e?void 0:e.value)||["buy","sell"],a=this.botOrderOnlyCurrentToken,s=(null===(t=this.$store.state)||void 0===t||null===(t=t.tokenInfo)||void 0===t?void 0:t.address)||(null===(o=this.token)||void 0===o?void 0:o.address)||"",c=a?"my_"+s:"my";return null===(i=(null===(l=this.txHistoryObj)||void 0===l?void 0:l[c])||[])||void 0===i?void 0:i.filter(e=>{var t;return(null===n||void 0===n||null===(t=n.includes)||void 0===t?void 0:t.call(n,5===(null===e||void 0===e?void 0:e.swapType)?"buy":"sell"))&&(!a||((null===e||void 0===e?void 0:e.inTokenAddress)===s||(null===e||void 0===e?void 0:e.outTokenAddress)===s))})},orderTabActive(){return this.$store.state.bot.orderTabActive},sortedAddresses(){var e;const t=(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.addresses)||[];return[...t].sort((e,t)=>"solana"===e.chain?-1:"solana"===t.chain?1:"bsc"===e.chain?-1:"bsc"===t.chain?1:0)},upImg(){var e;let t=this.$store.state.globalConfig,o=null===t||void 0===t||null===(e=t.pc_share_image)||void 0===e?void 0:e.replace(/^.*\|/,"");return o.split(",").map(e=>(null===t||void 0===t?void 0:t.token_logo_url)+"pc_share/"+e)},downImg(){var e,t,o;let i=this.$store.state.globalConfig,l=null===i||void 0===i||null===(e=i.pc_share_image)||void 0===e?void 0:e.replace(/\|.*$/,"");return null===l||void 0===l||null===(t=l.split(","))||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,e=>(null===i||void 0===i?void 0:i.token_logo_url)+"pc_share/"+e)}},watch:{"$store.state.bot.limitHistoryUpdate"(e){e&&setTimeout(()=>{this.page=0,this.getUserPendingTx()},1e3)},"$store.state.bot.orderTabActive"(e){e&&(this.page=0,this.getUserPendingTx())},botOrderOnlyCurrentToken(){this.page=0,this.getUserPendingTx()},"$store.state.tokenInfo.chain"(e){e&&(this.page=0,this.getUserPendingTx())},"$store.state.bot.userInfo.evmAddress"(e){e&&(this.page=0,this.getUserPendingTx())},"$store.state.bot.subscribeResult"(e){let t=e.batchId;if(t){let e=Date.now();this.getUserPendingTx().then(()=>{this.getUserPendingTx_poll(e)})}}},created(){this.getUserPendingTx()},methods:{formatUnits:M["h"].formatUnits,getUserPendingTx_poll(e){Ue=setTimeout(()=>{this.getUserPendingTx().finally(()=>{Date.now()<e+3e4?this.getUserPendingTx_poll(e):(clearTimeout(Ue),Ue=null)})},5e3)},getUserPendingTx(){var e,t,o,i,l,n,a,s,c,r;let d=null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.chain,u=this.$store.state.bot.orderTabActive;if("my"!==u)return;var m,b;if(d=null!==(m=this.$store.state.bot.isSupportChains)&&void 0!==m&&null!==(b=m.includes)&&void 0!==b&&b.call(m,d)?d:"",!d)return;let h=null===(t=this.filterConditions)||void 0===t?void 0:t.swapType.value,p=(null===h||void 0===h||null===(o=h.includes)||void 0===o||o.call(h,"buy"),null===h||void 0===h||null===(i=h.includes)||void 0===i||i.call(h,"sell"),(null===(l=this.$store.state)||void 0===l||null===(l=l.tokenInfo)||void 0===l?void 0:l.address)||(null===(n=this.token)||void 0===n?void 0:n.address)||""),v=(null===(a=this.filterConditions)||void 0===a||null===(a=a.volume)||void 0===a||null===(a=a.range)||void 0===a||null===(s=a.slice)||void 0===s?void 0:s.call(a,0))||[0,0];v[0]>v[1]&&(v=[v[1],v[0]]),1e5===v[1]&&(v[1]=0);const O=(null===(c=(r=this.sortedAddresses).find)||void 0===c||null===(c=c.call(r,e=>e.chain===d))||void 0===c?void 0:c.address)||"";let f={chain:d,token:this.botOrderOnlyCurrentToken?p:"",walletAddress:O};return this.loading=!0,this.$store.dispatch("bot_getUserPendingTxWeb",f).then(async e=>{let t=f.token?"my_"+f.token:"my";return this.txHistoryObj[t]=null===e||void 0===e?void 0:e.map(e=>{let t=new Date(e.createTime).getTime()/1e3;return{...e,time:t}}),e}).finally(()=>{this.loading=!1})},formatBotError(e){let t=this.$f.formatBotError(e);return(null===t||void 0===t?void 0:t.length)>70?(null===t||void 0===t?void 0:t.slice(0,60))+"...":t},filterHandler(e,t,o){const i=o["property"];return t[i]===e},isActiveFilterType(){let e=["buy","sell"],t=this.typeFilter.value;return e.every(e=>t.includes(e))},tableRowClick(e){let t=e.isBuy?e.outTokenAddress:null===e||void 0===e?void 0:e.inTokenAddress;t&&this.$router.push({name:"Token",params:{id:t+"-"+e.chain}})},jumpExplorerUrl(e){e.txHash&&window.open(this.$f.formatExplorerUrl(e.chain,e.txHash,"tx"))},isActiveFilter(e){if(!e)return!1;if("volume"===e){var t;let o=[0,1e5],{range:i}=(null===(t=this.filterConditions)||void 0===t?void 0:t[e])||{};return!((null===i||void 0===i?void 0:i[0])===(null===o||void 0===o?void 0:o[0])&&((null===i||void 0===i?void 0:i[1])===(null===o||void 0===o?void 0:o[1])||0===(null===i||void 0===i?void 0:i[1])))}if("swapType"===e){var o;let t=["buy","sell"],i=(null===(o=this.filterConditions)||void 0===o||null===(o=o[e])||void 0===o?void 0:o.value)||[];return!t.every(e=>i.includes(e))}},handleFilterConfirm(e){"volume"===e.type?(this.filterConditions[e.type].range[0]=e.range[0]||0,this.filterConditions[e.type].range[1]=e.range[1]||0):"swapType"===e.type&&(this.filterConditions[e.type].value=e.value||[]),e.visible=!1,this.page=0,this.getUserPendingTx()},handleReset(e){"volume"===e.type?e.range=[0,1e5]:"swapType"===e.type&&(e.value=["buy","sell"]),this.handleFilterConfirm(e)},handleCancelOrder(e){this.$confirm(this.$t("botCancelOrder"),"",{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(()=>{this.loadingCancel[e.batchId]=!0,this.$store.dispatch("bot_cancelLimitOrdersByBatch",{chain:e.chain,batchId:e.batchId}).then(t=>{t?this.getUserPendingTx().finally(()=>{this.loadingCancel[e.batchId]=!1}):this.loadingCancel[e.batchId]=!1}).catch(t=>{this.loadingCancel[e.batchId]=!1,this.$f.handleBotError(t||"swap error")})}).catch(()=>{})},getCampaignToken(e){var t,o;let i={token:e,acc:null===(t=this.$store.state)||void 0===t||null===(t=t.bot)||void 0===t||null===(t=t.userInfo)||void 0===t||null===(t=t.addresses)||void 0===t||null===(o=t.find)||void 0===o||null===(o=o.call(t,e=>(null===e||void 0===e?void 0:e.chain)===this.shareItem.chain))||void 0===o?void 0:o.address};Object(Le["Lb"])(i).then(e=>{this.shareItem={...this.shareItem,...e,profitRate:null===e||void 0===e?void 0:e.profit_realized_ratio,last_buy_time:"1970-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_buy_time)&&"0001-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_buy_time)&&"1970-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_buy_time)&&"0001-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_buy_time)?new Date(null===e||void 0===e?void 0:e.last_buy_time).getTime():0,last_sell_time:"1970-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_sell_time)&&"0001-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_sell_time)&&"1970-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_sell_time)&&"0001-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_sell_time)?new Date(null===e||void 0===e?void 0:e.last_sell_time).getTime():0},this.getRandomBg((null===e||void 0===e?void 0:e.profit_realized_ratio)>0),setTimeout(()=>{this.getShareImg()},100)}).catch(e=>{})},openDialog(e){this.loadingCopy=!1,this.dialogVisible=!0,this.shareItem=e,this.getQRCode(),this.getRandomBg(!1),this.getCampaignToken(e.isBuy?e.outTokenAddress:null===e||void 0===e?void 0:e.inTokenAddress)},downloadFile(e,t){let o="";o="string"===typeof e?e:URL.createObjectURL(e);let i=document.createElement("a");i.href=o,i.download=t,i.click(),window.URL.revokeObjectURL(o)},downloadSharePoster(){let e=document.querySelector(".share-card");e&&Be()(e,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0}).then(e=>{var t;let o=e.toDataURL("image/png");this.downloadFile(o,`ave-${null===(t=this.shareItem)||void 0===t?void 0:t.symbol}-${Date.now()}.png`)})},getShareImg(){let e=document.querySelector(".share-card");if(e)return Be()(e,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0,height:e.clientHeight-1}).then(e=>(this.shareImgCanvas=e,e))},copyImage(){this.shareImgCanvas?(this.loadingCopy=!0,this.shareImgCanvas.toBlob(async e=>{const t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then(()=>{this.$message.success(this.$t("copySuccess"))}).catch(()=>{}).finally(()=>{this.loadingCopy=!1})},"image/png")):(this.loadingCopy=!0,this.getShareImg().then(e=>{try{e.toBlob(async e=>{const t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then(()=>{this.$message.success(this.$t("copySuccess"))}).catch(()=>{}).finally(()=>{this.loadingCopy=!1})},"image/png")}catch(t){this.loadingCopy=!1}}))},getRandomBg(e=!1){let t=e?this.upImg:this.downImg,o=t.length,i=Re(1,o);this.bgImg=(null===t||void 0===t?void 0:t[i])||(e?De.a:Ae.a)},getQRCode(){let e=this.$store.state.globalConfig.inviter_url_v2||"https://share.ave.ai",t=this.$store.state.bot.referralInfo.refCode||"",o=t?"&code="+t:"",i=e+"?lang="+this.$store.getters.language+o;Fe.a.toDataURL(i,{margin:1}).then(e=>{this.qrcodeUrl=e}).catch(e=>{})}}};o("b459"),o("7b1d");const He=q()(ze,[["render",Se],["__scopeId","data-v-2bd7786d"]]);var qe=He,Qe=o("1a05");let Ge=1;var We={name:"BotLimitHistory",components:{BotMarket:G,BotMy:qe,BotUnified:Qe["a"]},setup(){var e;let t=Object(m["useStorage"])("bot_order_onlyCurrentToken",!1,sessionStorage),o={volume:{type:"volume",range:[0,1e5]},swapType:{type:"swapType",value:["buy","sell"]},version:Ge},i=Object(m["useStorage"])("bot_order_filter",o,localStorage);return(null===i||void 0===i||null===(e=i.value)||void 0===e?void 0:e.version)!==Ge&&(i.value=o),{botOrderOnlyCurrentToken:t,filterConditions:i}},data(){var e,t;return{BigNumber:h.a,page:0,pageSize:50,txHistoryObj:{},typeFilter:{visible:!1,value:["buy","sell"]},loading:!1,filterForm:{volume:{type:"volume",visible:!1,range:(null===(e=this.filterConditions)||void 0===e||null===(e=e.volume)||void 0===e?void 0:e.range)||[0,1e5],defaultRange:[0,1e5]},swapType:{type:"swapType",visible:!1,value:(null===(t=this.filterConditions)||void 0===t||null===(t=t.swapType)||void 0===t?void 0:t.value)||["buy","sell"],defaultValue:["buy","sell"]}},loadingCancel:{},selectedChain:"solana",isCancelAllActive:!0,activeTab:"unified"}},computed:{chains(){var e;const t=(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.addresses)||[];return[...t].sort((e,t)=>"solana"===e.chain?-1:"solana"===t.chain?1:"bsc"===e.chain?-1:"bsc"===t.chain?1:0)},txHistory(){var e,t,o,i,l;let n=(null===(e=this.filterConditions)||void 0===e||null===(e=e.swapType)||void 0===e?void 0:e.value)||["buy","sell"],a=this.botOrderOnlyCurrentToken,s=(null===(t=this.$store.state)||void 0===t||null===(t=t.tokenInfo)||void 0===t?void 0:t.address)||(null===(o=this.token)||void 0===o?void 0:o.address)||"",c=this.$store.state.bot.orderTabActive;return null===(i=(null===(l=this.txHistoryObj)||void 0===l?void 0:l[c])||[])||void 0===i?void 0:i.filter(e=>{var t;return(null===n||void 0===n||null===(t=n.includes)||void 0===t?void 0:t.call(n,5===(null===e||void 0===e?void 0:e.swapType)?"buy":"sell"))&&(!a||((null===e||void 0===e?void 0:e.inTokenAddress)===s||(null===e||void 0===e?void 0:e.outTokenAddress)===s))})},tabs(){return[{value:"my",label:this.$t("myOrders")},{value:"market",label:this.$t("marketOrders")},{value:"unified",label:this.$t("unifiedOrders")}]},pendingOrdersCount(){return this.$store.state.bot.pendingOrdersCount},hasPendingOrders(){var e,t;this.$store.state.bot.orderTabActive;const o=(null===(e=this.$store.state)||void 0===e||null===(e=e.tokenInfo)||void 0===e?void 0:e.address)||"",i=this.botOrderOnlyCurrentToken?"my_"+o:"my",l=(null===(t=this.txHistoryObj)||void 0===t?void 0:t[i])||[],n=l.filter(e=>"waiting"===e.status&&e.chain===this.selectedChain);return n.length>0}},created(){var e;if(!this.selectedChain&&(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e||null===(e=e.addresses)||void 0===e?void 0:e.length)>0){const e=this.$store.state.bot.userInfo.addresses.find(e=>"solana"===e.chain);this.selectedChain=e?"solana":this.$store.state.bot.userInfo.addresses[0].chain||"","unified"===this.$store.state.bot.orderTabActive&&this.$nextTick(()=>{this.$refs.botUnified.getUserPendingTx()})}},watch:{chains(e){if((null===e||void 0===e?void 0:e.length)>0&&!this.selectedChain){const t=e.find(e=>"solana"===e.chain);this.selectedChain=t?"solana":e[0].chain||"","unified"===this.$store.state.bot.orderTabActive&&this.$nextTick(()=>{this.$refs.botUnified.getUserPendingTx()})}},"$store.state.bot.orderTabActive"(e){"my"===e&&this.$store.commit("setOrderTabActive","unified")},"$store.state.tokenInfo.chain"(e){if(e){const t=this.chains.some(t=>t.chain===e);t&&(this.selectedChain=e,this.$nextTick(()=>{this.$refs.botUnified&&this.$refs.botUnified.getUserPendingTx()}))}}},methods:{toggleCurrentToken(){this.botOrderOnlyCurrentToken=!this.botOrderOnlyCurrentToken},toggleCancelAll(){this.hasPendingOrders&&this.$store.dispatch("bot_cancelAllLimitOrdersByGuidWeb",{chain:this.selectedChain}).then(e=>{this.$nextTick(()=>{this.$refs.botUnified&&(this.$refs.botUnified.getUserPendingTx(),this.$message.success(this.$t("cancelAllSuccess")))})}).catch(e=>this.$message.error(this.$t("cancelAllFailed")))},executeCancelAll(){const e=this.$store.state.bot.orderTabActive;if("unified"===e)this.$refs.botUnified.batchCancelOrders(),this.isCancelAllActive=!1;else{var t,o;const i=(null===(t=this.$store.state)||void 0===t||null===(t=t.tokenInfo)||void 0===t?void 0:t.address)||"",l=this.botOrderOnlyCurrentToken?e+"_"+i:e,n=(null===(o=this.txHistoryObj)||void 0===o?void 0:o[l])||[],a=n.filter(e=>{var t;return"waiting"===e.status&&(!this.selectedChain||(null===(t=e.chain)||void 0===t?void 0:t.toUpperCase())===this.selectedChain)});if(0===a.length)return this.$message.info(this.$t("noPendingOrders")),void(this.isCancelAllActive=!1);this.$confirm(this.$t("confirmCancelAllOrders"),"",{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel")}).then(()=>{const e=a.map(e=>this.$store.dispatch("bot_cancelOrder",{chain:e.chain,orderId:e.batchId}));Promise.all(e).then(()=>{this.$message.success(this.$t("cancelAllSuccess")),this.$refs.botUnified&&this.$refs.botUnified.getOrderList()}).catch(()=>{this.$message.error(this.$t("cancelAllFailed")),this.$refs.botUnified&&this.$refs.botUnified.getOrderList()})}).catch(()=>{this.isCancelAllActive=!1})}},handleChainChange(e){this.selectedChain=e,this.$nextTick(()=>{this.$refs.botUnified.getUserPendingTx()})},handleTabChange(e){this.activeTab=e},updatePendingCount(e){this.pendingOrdersCount=e}}};o("dbe4");const Ye=q()(We,[["render",u],["__scopeId","data-v-c6b010d4"]]);t["a"]=Ye},"2c5e":function(e,t,o){"use strict";o("6ad1")},"30be":function(e,t,o){"use strict";o("9979")},"38a7":function(e,t,o){"use strict";o("c6c3")},"3c64":function(e,t,o){"use strict";o("139d")},"3f52":function(e,t,o){},4175:function(e,t,o){},4781:function(e,t,o){"use strict";o("1066")},4893:function(e,t,o){"use strict";o("1073")},"49c8":function(e,t,o){},"4f3c":function(e,t,o){},"509b":function(e,t,o){"use strict";o("1af7")},"51bf6":function(e,t,o){},5538:function(e,t,o){"use strict";o("6639")},5565:function(e,t,o){"use strict";o("18e4")},"5c09":function(e,t,o){"use strict";o("f58a")},"620d":function(e,t,o){},6639:function(e,t,o){},6695:function(e,t,o){"use strict";o("a8e9")},"6ad1":function(e,t,o){},"6fc0":function(e,t,o){"use strict";o("a29ff")},7502:function(e,t,o){"use strict";o("7a99")},"760e":function(e,t,o){"use strict";o("620d")},"7a99":function(e,t,o){},"7b1d":function(e,t,o){"use strict";o("9201")},"7f76":function(e,t,o){"use strict";o("0691")},"816d":function(e,t,o){},8528:function(e,t,o){"use strict";var i=o("7a23");const l={class:"bot-swap-history"},n={class:"flex",style:{"padding-right":"15px"}};function a(e,t,o,a,s,c){const r=Object(i["resolveComponent"])("el-input"),d=Object(i["resolveComponent"])("el-checkbox"),u=Object(i["resolveComponent"])("PositionTable");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",l,[Object(i["createElementVNode"])("div",n,[Object(i["createVNode"])(r,{class:"search-input",modelValue:s.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>s.keyword=e),style:{width:"260px"},placeholder:e.$t("search1"),size:"small",clearable:"","prefix-icon":"Search"},null,8,["modelValue","placeholder"]),Object(i["createVNode"])(d,{style:{"--el-checkbox-text-color":"var(--a-text-2-color)","--el-checkbox-checked-text-color":"var(--a-text-2-color)","--el-checkbox-checked-bg-color":"var(--a-text-1-color)","--el-checkbox-checked-input-border-color":"var(--a-text-1-color)","--el-checkbox-checked-icon-color":"var(--a-bg-4-color)"},modelValue:a.isFilterHighRisk,"onUpdate:modelValue":t[1]||(t[1]=e=>a.isFilterHighRisk=e),size:"small"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("hideRiskToken")),1)]),_:1},8,["modelValue"])]),c.currentAccount?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,tokenList:c.tokenList,loading:s.loading},null,8,["tokenList","loading"])):Object(i["createCommentVNode"])("",!0)])}o("0643"),o("2382"),o("9a9a");var s=o("1521"),c=o("8e2e"),r=o("fa7d");let d=null,u=null;var m={name:"BotSwapPosition",components:{PositionTable:s["a"]},setup(){let e=Object(c["f"])();return{isFilterHighRisk:e}},data(){return{loading:!1,keyword:""}},computed:{currentAccount(){var e;return this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress)||""},tokenList(){let e=new RegExp(this.keyword,"i");return(this.$store.getters.allChainsBalances||[]).filter(t=>e.test((null===t||void 0===t?void 0:t.symbol)||"")||e.test((null===t||void 0===t?void 0:t.token)||""))},currentPrice(){return this.$store.state.tokenPrice||this.$store.state.tokenInfo.priceUSD}},watch:{"$store.state.bot.historyUpdate"(e){if(e){let e=Date.now();this.getAddressBalances().then(t=>{(null===t||void 0===t?void 0:t.length)>0&&this.getAddressBalances_poll(e)})}},currentPrice(e){if(e&&(this.$store.getters.allChainsBalances||[]).some(e=>e.token===this.$store.state.tokenInfo.address)){if(u)d&&(clearTimeout(d),d=null);else{if(d)return;this.getAddressBalances()}d=setTimeout(()=>{this.getAddressBalances(),d=null},3e4)}},"$store.state.bot.subscribeResult"(e){e&&(null===e||void 0===e?void 0:e.swapType)>2&&this.getAddressBalances()},"$store.state.tokenInfo.address"(e){e&&this.getAddressBalances()},isFilterHighRisk(){this.$store.state.tokenInfo.address&&this.getAddressBalances()}},created(){this.init()},methods:{formatUnits:r["h"].formatUnits,init(){this.getAddressBalances()},getAddressBalances_poll(e){u=setTimeout(()=>{this.getAddressBalances().finally(()=>{Date.now()<e+3e4?this.getAddressBalances_poll(e):(clearTimeout(u),u=null)})},5e3)},getAddressBalances(){return this.loading=!0,this.$store.dispatch("bot_getAddressBalances").then(async e=>e).finally(()=>{this.loading=!1})},tableRowClick(e){e.txHash&&window.open(this.$f.formatExplorerUrl(e.chain,e.txHash,"tx"))}}},b=(o("760e"),o("6b0d")),h=o.n(b);const p=h()(m,[["render",a],["__scopeId","data-v-a114093a"]]);t["a"]=p},"8ce7":function(e,t,o){},9201:function(e,t,o){},"935d":function(e,t,o){"use strict";o("aa90")},"96ec":function(e,t,o){},9745:function(e,t,o){"use strict";o("048b")},"98b9":function(e,t,o){},9979:function(e,t,o){},"9a2f":function(e,t,o){"use strict";o("ed57")},"9b69":function(e,t,o){},a066:function(e,t,o){"use strict";o("fc14")},a29ff:function(e,t,o){},a3fb:function(e,t,o){"use strict";o("dc6b")},a5ae:function(e,t,o){"use strict";o("102d9")},a8e9:function(e,t,o){},aa90:function(e,t,o){},ace6:function(e,t,o){"use strict";o("8ce7")},b14a:function(e,t,o){"use strict";o("96ec")},b459:function(e,t,o){"use strict";o("49c8")},c08b:function(e,t,o){"use strict";o("ec74")},c6c3:function(e,t,o){},cb59:function(e,t,o){"use strict";o("98b9")},dbe4:function(e,t,o){"use strict";o("eb81")},dbfc:function(e,t,o){},dc6b:function(e,t,o){},de1c:function(e,t,o){},e1ec:function(e,t,o){"use strict";var i=o("7a23"),l=o("4334"),n=o.n(l),a=o("854f"),s=o.n(a),c=o("ad22"),r=o.n(c),d=o("ab75"),u=o.n(d);const m={class:"bot-swap-history"},b={key:0,class:"flex",style:{"padding-right":"15px"}},h={key:0,class:"tabs"},p=["id","value"],v=["for"],O={key:1,class:"chain-display"},f={class:"action-buttons"},j={class:"transaction-stats"},k={class:"stat-item"},g={class:"stat-label"},y={class:"stat-value table-field-text"},w={class:"stat-change table-field-text"},_={class:"stat-item"},$={class:"stat-label"},N={class:"stat-value table-field-text"},T={class:"stat-item"},V={class:"stat-label"},x={class:"stat-value table-field-text"},S={class:"stat-item"},E={class:"stat-label"},B={class:"stat-value table-field-text"},C={class:"stat-item"},D={class:"stat-label"},I={class:"stat-value token-amount table-field-text"},A={class:"stat-change table-field-text"},L={class:"stat-item"},P={class:"stat-label"},F={class:"stat-value token-amount table-field-text"},R={class:"stat-change table-field-text"},M={key:1,class:"new-table-wrapper"},U={key:0,class:"table-empty"},z=["src"],H={key:1},q={key:0,class:"flex-start"},Q={class:"icon-token-container",style:{"margin-right":"5px"}},G=["src"],W=["src"],Y=["src"],J={class:"token-symbol"},K={key:1,class:"flex-start"},Z={class:"icon-token-container",style:{"margin-right":"5px"}},X=["src"],ee=["src"],te=["src"],oe={class:"token-symbol"},ie={class:"dropdown-link"},le={key:0,class:"btn-buy"},ne={key:1,class:"btn-sell"},ae={key:2,class:"btn-buy"},se={key:3,class:"btn-sell"},ce={key:0,class:"btn-buy"},re={key:1,class:"btn-sell"},de={key:2,class:"btn-buy"},ue={key:3,class:"btn-sell"},me={key:4,class:"btn-buy"},be={key:5,class:"btn-sell"},he={key:0,class:"table-field-text"},pe={key:1,class:"table-field-text"},ve={class:"table-field-text"},Oe={key:0,class:"table-field-text"},fe={key:1,class:"table-field-text"},je={class:"type-header"},ke={class:"dropdown-link"},ge={key:0,style:{color:"var(--custom-text-2-color)"}},ye={key:1,style:{color:"var(--color-red-500)","word-break":"break-all"}},we={key:2,style:{color:"var(--custom-text-2-color)"}},_e={key:3,style:{color:"var(--custom-text-2-color)"}},$e={key:4,style:{color:"var(--custom-text-1-color)"}},Ne={class:"flex-end"},Te={key:0,class:"table-field-text"},Ve={key:1,class:"table-field-text"},xe=["onClick"],Se=["onClick"],Ee={class:"content"},Be=["src"],Ce={style:{display:"inline-block"}},De={class:"flex",style:{"flex-direction":"column"}},Ie={class:"mt_5 block",style:{"margin-left":"auto","font-size":"10px",color:"#fff","max-width":"180px","text-align":"center"}},Ae={class:"flex-start mt-40"},Le={class:"icon-token-container share",style:{"margin-right":"10px"}},Pe=["src"],Fe=["src"],Re=["src"],Me={class:"text-20px"},Ue={key:0,class:"mt_5 color-666 block"},ze={key:1,class:"mt_5 color-666 block"},He={class:"mt_15"},qe={class:"color-999"},Qe={class:"mt-20 share-table"},Ge={key:1,style:{color:"#999"}},We={key:1,style:{color:"#999"}},Ye={key:1,style:{color:"#999"}},Je={key:1,style:{color:"#999"}},Ke={class:"invite"},Ze={class:"tr mt_10"},Xe={class:"font-20 font_weight_700 block"},et={class:"font-12 font_weight_400 mt_10"},tt={class:"ml_10"},ot=["src","alt"],it={class:"font-14 font_weight_400 mt_5 block"},lt={class:"flex mt-20 text-12px",style:{width:"300px",color:"#999"}},nt={class:"mt-8"};function at(e,t,l,a,c,d){var at,st;const ct=Object(i["resolveComponent"])("el-image"),rt=Object(i["resolveComponent"])("el-table-column"),dt=Object(i["resolveComponent"])("el-dropdown-item"),ut=Object(i["resolveComponent"])("el-dropdown-menu"),mt=Object(i["resolveComponent"])("el-dropdown"),bt=(Object(i["resolveComponent"])("el-input"),Object(i["resolveComponent"])("el-slider"),Object(i["resolveComponent"])("el-button"),Object(i["resolveComponent"])("el-popover"),Object(i["resolveComponent"])("el-table")),ht=Object(i["resolveComponent"])("el-dialog"),pt=Object(i["resolveDirective"])("loading");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",m,[d.isBot||e.$store.state.currentAccount?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",b,[d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",h,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(d.tabs,(o,l)=>(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:l},[Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"radio",id:"tab-bot-history-item-"+o.chain,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$store.state.bot.historyTabActive=t),value:o.chain,class:"tab-radio-input"},null,8,p),[[i["vModelRadio"],e.$store.state.bot.historyTabActive]]),o.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("label",{key:0,for:"tab-bot-history-item-"+o.chain,class:"tab-item clickable-btn"},Object(i["toDisplayString"])(e.$f.getChainInfo(o.chain).name),9,v)):Object(i["createCommentVNode"])("",!0)],64))),128))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",O,t[12]||(t[12]=[Object(i["createElementVNode"])("span",{class:"chain-name"},null,-1)]))),Object(i["createElementVNode"])("div",f,[Object(i["createElementVNode"])("button",{class:Object(i["normalizeClass"])(["btn-current-token",{active:a.botHistoryOnlyCurrentToken}]),onClick:t[1]||(t[1]=(...e)=>d.toggleCurrentToken&&d.toggleCurrentToken(...e))},Object(i["toDisplayString"])(e.$t("currentToken")),3)])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",j,[Object(i["createElementVNode"])("div",k,[Object(i["createElementVNode"])("div",g,Object(i["toDisplayString"])(e.$t("balance1")),1),Object(i["createElementVNode"])("div",y,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(d.balance,2)),1),Object(i["createElementVNode"])("div",w,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumberS((null===(at=c.walletTxData)||void 0===at?void 0:at.balance_amount)||0,4))+" "+Object(i["toDisplayString"])(d.tokenSymbol)+" ",1),Object(i["createElementVNode"])("span",{style:Object(i["normalizeStyle"])({color:d.changePercentage>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})}," ("+Object(i["toDisplayString"])(d.changePercentage>=0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumberS(d.changePercentage,2))+"%) ",5)])]),Object(i["createElementVNode"])("div",_,[Object(i["createElementVNode"])("div",$,Object(i["toDisplayString"])(e.$t("totalProfit")),1),Object(i["createElementVNode"])("div",N,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(d.totalProfit,2)),1),Object(i["createElementVNode"])("div",{class:"stat-change",style:Object(i["normalizeStyle"])({color:d.profitPercentage>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(i["toDisplayString"])(d.profitPercentage>=0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumberS(d.profitPercentage,2))+"% ",5)]),Object(i["createElementVNode"])("div",T,[Object(i["createElementVNode"])("div",V,Object(i["toDisplayString"])(e.$t("realizedProfit")),1),Object(i["createElementVNode"])("div",x,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(d.realizedProfit,2)),1),Object(i["createElementVNode"])("div",{class:"stat-change",style:Object(i["normalizeStyle"])({color:d.realizedProfitPercentage>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(i["toDisplayString"])(d.realizedProfitPercentage>=0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumberS(d.realizedProfitPercentage,2))+"% ",5)]),Object(i["createElementVNode"])("div",S,[Object(i["createElementVNode"])("div",E,Object(i["toDisplayString"])(e.$t("unrealizedProfit")),1),Object(i["createElementVNode"])("div",B,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(d.unrealizedProfit,2)),1),Object(i["createElementVNode"])("div",{class:"stat-change",style:Object(i["normalizeStyle"])({color:d.unrealizedProfitPercentage>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(i["toDisplayString"])(d.unrealizedProfitPercentage>=0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumberS(d.unrealizedProfitPercentage,2))+"% ",5)]),Object(i["createElementVNode"])("div",C,[Object(i["createElementVNode"])("div",D,Object(i["toDisplayString"])(e.$t("buyPriceWithSlash")),1),Object(i["createElementVNode"])("div",I,Object(i["toDisplayString"])(d.buyTokenAmount)+" "+Object(i["toDisplayString"])(d.tokenSymbol),1),Object(i["createElementVNode"])("div",A,Object(i["toDisplayString"])(d.buyUsdAmount),1)]),Object(i["createElementVNode"])("div",L,[Object(i["createElementVNode"])("div",P,Object(i["toDisplayString"])(e.$t("sellPriceWithSlash")),1),Object(i["createElementVNode"])("div",F,Object(i["toDisplayString"])(d.sellTokenAmount)+" "+Object(i["toDisplayString"])(d.tokenSymbol),1),Object(i["createElementVNode"])("div",R,Object(i["toDisplayString"])(d.sellUsdAmount),1)])]),d.isBot||e.$store.state.currentAccount?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",M,[Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(bt,{data:d.txHistory,fit:"",stripe:"","max-height":"700",style:{width:"100%","min-height":"250px"},onRowClick:d.tableRowClick},{empty:Object(i["withCtx"])(()=>[c.loading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",H)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",U,[Object(i["createElementVNode"])("img",{src:"light"===e.$store.state.mode?o("b28f"):o("fab6")},null,8,z),Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("emptyNoData")),1)]))]),default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(rt,{label:e.$t("token"),align:"left"},{default:Object(i["withCtx"])(({row:t})=>[d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",q,[Object(i["createElementVNode"])("div",Q,[Object(i["createVNode"])(ct,{class:"token-icon",src:e.$f.formatIcon({logo_url:2===t.swapType||6===t.swapType?null===t||void 0===t?void 0:t.inTokenLogoUrl:t.outTokenLogoUrl,chain:t.chain},2===t.swapType||6===t.swapType?null===t||void 0===t?void 0:t.inTokenSymbol:t.outTokenSymbol)},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,2===t.swapType||6===t.swapType?null===t||void 0===t?void 0:t.inTokenSymbol:t.outTokenSymbol),alt:"",srcset:""},null,8,G)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,2===t.swapType||6===t.swapType?null===t||void 0===t?void 0:t.inTokenSymbol:t.outTokenSymbol),alt:"",srcset:""},null,8,W)]),_:2},1032,["src"]),null!==t&&void 0!==t&&t.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Y)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",J,Object(i["toDisplayString"])(2===t.swapType||6===t.swapType?null===t||void 0===t?void 0:t.inTokenSymbol:t.outTokenSymbol),1)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",K,[Object(i["createElementVNode"])("div",Z,[Object(i["createVNode"])(ct,{class:"token-icon",src:e.$f.formatIcon({logo_url:d.isBuyChain(t.swapType)?t.outTokenLogoUrl:null===t||void 0===t?void 0:t.inTokenLogoUrl,chain:t.chain},2===t.swapType||6===t.swapType?null===t||void 0===t?void 0:t.inTokenSymbol:t.outTokenSymbol)},{error:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,d.isBuyChain(t.swapType)?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),alt:"",srcset:""},null,8,X)]),placeholder:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===t||void 0===t?void 0:t.chain,d.isBuyChain(t.swapType)?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),alt:"",srcset:""},null,8,ee)]),_:2},1032,["src"]),null!==t&&void 0!==t&&t.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,te)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",oe,Object(i["toDisplayString"])(d.isBuyChain(t.swapType)?t.outTokenSymbol:null===t||void 0===t?void 0:t.inTokenSymbol),1)]))]),_:1},8,["label"]),Object(i["createVNode"])(rt,{label:e.$t("type"),align:"right",prop:"isBuy"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("type")),1),d.isBot?(Object(i["openBlock"])(),Object(i["createBlock"])(mt,{key:0,trigger:"click",onCommand:d.handleTypeCommand},{dropdown:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ut,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(dt,{command:"all"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("all")),1)]),_:1}),Object(i["createVNode"])(dt,{command:"LimitSell",class:Object(i["normalizeClass"])({"active-dropdown-item":1===c.newFilterForm.isLimit&&0===c.newFilterForm.swapType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(e.$t("sell")),1)]),_:1},8,["class"]),Object(i["createVNode"])(dt,{command:"LimitBuy",class:Object(i["normalizeClass"])({"active-dropdown-item":1===c.newFilterForm.isLimit&&1===c.newFilterForm.swapType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(e.$t("buy")),1)]),_:1},8,["class"]),Object(i["createVNode"])(dt,{command:"MarketSell",class:Object(i["normalizeClass"])({"active-dropdown-item":0===c.newFilterForm.isLimit&&0===c.newFilterForm.swapType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("market"))+"/"+Object(i["toDisplayString"])(e.$t("sell")),1)]),_:1},8,["class"]),Object(i["createVNode"])(dt,{command:"MarketBuy",class:Object(i["normalizeClass"])({"active-dropdown-item":0===c.newFilterForm.isLimit&&1===c.newFilterForm.swapType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("market"))+"/"+Object(i["toDisplayString"])(e.$t("buy")),1)]),_:1},8,["class"])]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",ie,[Object(i["createElementVNode"])("i",{class:"iconfont icon-guolv1 text-10px ml-3 mt-3 clickable",style:Object(i["normalizeStyle"])({color:null!==c.newFilterForm.isLimit||null!==c.newFilterForm.swapType.value?"var(--custom-primary-color)":""})},null,4)])]),_:1},8,["onCommand"])):Object(i["createCommentVNode"])("",!0)]),default:Object(i["withCtx"])(({row:t})=>[d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,class:"btn-type",style:Object(i["normalizeStyle"])({color:1===t.swapType||5===t.swapType?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},[1===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",le,Object(i["toDisplayString"])(e.$t("market"))+"/"+Object(i["toDisplayString"])(e.$t("buy")),1)):2===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ne,Object(i["toDisplayString"])(e.$t("market"))+"/"+Object(i["toDisplayString"])(e.$t("sell")),1)):5===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ae,Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(e.$t("buy")),1)):6===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",se,Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(e.$t("sell")),1)):Object(i["createCommentVNode"])("",!0)],4)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:1,class:"btn-type",style:Object(i["normalizeStyle"])({color:d.isBuyChain(t.swapType)?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},[1===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ce,Object(i["toDisplayString"])(e.$t("buy")),1)):2===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",re,Object(i["toDisplayString"])(e.$t("sell")),1)):3===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",de,Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(e.$t("buy")),1)):4===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ue,Object(i["toDisplayString"])(e.$t("limit"))+"/"+Object(i["toDisplayString"])(e.$t("sell")),1)):5===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",me,"Wrap")):6===t.swapType?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",be,"Unwrap")):Object(i["createCommentVNode"])("",!0)],4))]),_:1},8,["label"]),Object(i["createVNode"])(rt,{label:e.$t("price"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("price")),1)]),default:Object(i["withCtx"])(({row:t})=>[d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",he,"$"+Object(i["toDisplayString"])(1===(null===t||void 0===t?void 0:t.swapType)?e.$f.formatNumber2((null===t||void 0===t?void 0:t.outPrice)||0):e.$f.formatNumber2((null===t||void 0===t?void 0:t.inPrice)||0)),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",pe,"$"+Object(i["toDisplayString"])(d.isBuyChain(t.swapType)?e.$f.formatNumber2((null===t||void 0===t?void 0:t.outPrice)||0):e.$f.formatNumber2((null===t||void 0===t?void 0:t.inPrice)||0)),1))]),_:1},8,["label"]),Object(i["createVNode"])(rt,{label:e.$t("volume4"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("volume4")),1),Object(i["createCommentVNode"])("",!0)]),default:Object(i["withCtx"])(({row:t})=>[Object(i["createElementVNode"])("span",ve,"$"+Object(i["toDisplayString"])(e.$f.formatNumberS(Number(null===t||void 0===t?void 0:t.inValue)||(null===t||void 0===t?void 0:t.outValue)||0,2)),1)]),_:1},8,["label"]),Object(i["createVNode"])(rt,{label:e.$t("amount1"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("amount1")),1)]),default:Object(i["withCtx"])(({row:t})=>[d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oe,[null!==t&&void 0!==t&&t.isBuy?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(d.formatUnits(new c.BigNumber((null===t||void 0===t?void 0:t.outAmount)||0).toFixed(0),t.outTokenDecimals||0),4))+" "+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.outTokenSymbol),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatNumber2(d.formatUnits(new c.BigNumber((null===t||void 0===t?void 0:t.inAmount)||0).toFixed(0),t.inTokenDecimals||0),4))+" "+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.inTokenSymbol),1)],64))])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",fe,[d.isBuyChain(t.swapType)?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[Object(i["createTextVNode"])(Object(i["toDisplayString"])("cancelled"===t.status?"0":e.$f.formatNumber2(d.formatUnits(new c.BigNumber((null===t||void 0===t?void 0:t.outAmount)||0).toFixed(0),t.outTokenDecimals||0),4))+" "+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.outTokenSymbol),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])("cancelled"===t.status?"0":e.$f.formatNumber2(d.formatUnits(new c.BigNumber((null===t||void 0===t?void 0:t.inAmount)||0).toFixed(0),t.inTokenDecimals||0),4))+" "+Object(i["toDisplayString"])(null===t||void 0===t?void 0:t.inTokenSymbol),1)],64))]))]),_:1},8,["label"]),d.isBot?(Object(i["openBlock"])(),Object(i["createBlock"])(rt,{key:0,label:e.$t("status"),align:"right","show-overflow-tooltip":""},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",je,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("status")),1),Object(i["createVNode"])(mt,{trigger:"click",onCommand:d.handleStatusCommand},{dropdown:Object(i["withCtx"])(()=>[Object(i["createVNode"])(ut,null,{default:Object(i["withCtx"])(()=>[Object(i["createVNode"])(dt,{command:"all"},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("all")),1)]),_:1}),Object(i["createVNode"])(dt,{command:"confirmed",class:Object(i["normalizeClass"])({"active-dropdown-item":"confirmed"===c.newFilterForm.statusType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("completed")),1)]),_:1},8,["class"]),Object(i["createVNode"])(dt,{command:"cancelled",class:Object(i["normalizeClass"])({"active-dropdown-item":"cancelled"===c.newFilterForm.statusType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("cancelled1")),1)]),_:1},8,["class"]),Object(i["createVNode"])(dt,{command:"error",class:Object(i["normalizeClass"])({"active-dropdown-item":"error"===c.newFilterForm.statusType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("failed")),1)]),_:1},8,["class"]),Object(i["createVNode"])(dt,{command:"auto_cancelled",class:Object(i["normalizeClass"])({"active-dropdown-item":"auto_cancelled"===c.newFilterForm.statusType.value})},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("autoCancelled")),1)]),_:1},8,["class"])]),_:1})]),default:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",ke,[Object(i["createElementVNode"])("i",{class:"iconfont icon-guolv1 text-10px ml-3 clickable",style:Object(i["normalizeStyle"])({color:c.newFilterForm.statusType.value?"var(--custom-primary-color)":""})},null,4)])]),_:1},8,["onCommand"])])]),default:Object(i["withCtx"])(({row:t})=>["confirmed"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ge,Object(i["toDisplayString"])(e.$t("completed")),1)):"error"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ye,[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$t("failed")),1),null!==t&&void 0!==t&&t.errorLog?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])("("+Object(i["toDisplayString"])(d.formatBotError(null===t||void 0===t?void 0:t.errorLog))+")",1)],64)):Object(i["createCommentVNode"])("",!0)])):"cancelled"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",we,Object(i["toDisplayString"])(e.$t("cancelled1")),1)):"auto_cancelled"===t.status?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",_e,Object(i["toDisplayString"])(e.$t("autoCancelled")),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",$e,Object(i["toDisplayString"])(e.$t("pending")),1))]),_:1},8,["label"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(rt,{label:e.$t("CreateTime"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("div",Ne,[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("CreateTime")),1)])]),default:Object(i["withCtx"])(({row:t})=>[d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Te,Object(i["toDisplayString"])(c.isNewTableShowDate?e.$f.formatDate(t.time,"YYYY/MM/DD HH:mm"):e.$dayjs(1e3*t.time).fromNow()),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ve,Object(i["toDisplayString"])(e.$f.formatDate(t.createTime,"YYYY/MM/DD HH:mm")),1))]),_:1},8,["label"]),Object(i["createVNode"])(rt,{label:e.$t("operation"),align:"right"},{header:Object(i["withCtx"])(()=>[Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.$t("operation")),1)]),default:Object(i["withCtx"])(({row:e})=>["confirmed"==e.status&&2===e.swapType&&"solana"===e.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:0,style:{cursor:"pointer","font-size":"16px",color:"var(--custom-text-2-color)"},class:"iconfont icon-fenxiangtubiao ml-5 clickable",onClick:Object(i["withModifiers"])(t=>d.openDialog(e),["stop"])},null,8,xe)):Object(i["createCommentVNode"])("",!0),e.txHash?(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:"iconfont icon-qukuailianliulanqi-baitian font-14 ml_10",style:{cursor:"pointer","font-size":"16px",color:"var(--custom-text-2-color)"},onClick:Object(i["withModifiers"])(t=>d.jumpExplorerUrl(e),["stop","prevent"])},null,8,Se)):Object(i["createCommentVNode"])("",!0)]),_:1},8,["label"])]),_:1},8,["data","onRowClick"])),[[pt,c.loading&&!(null!==(st=d.txHistory)&&void 0!==st&&st.length)]])])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(ht,{class:"dialog-share",modelValue:c.dialogVisible,"onUpdate:modelValue":t[11]||(t[11]=e=>c.dialogVisible=e),title:e.$t("share"),width:"700","append-to-body":""},{default:Object(i["withCtx"])(()=>{var o,l,a,m,b,h,p,v,O,f,j,k,g,y,w,_,$,N,T;return[Object(i["createElementVNode"])("div",Ee,[Object(i["createElementVNode"])("div",{class:"share-card",style:Object(i["normalizeStyle"])({background:(null===(o=c.shareItem)||void 0===o?void 0:o.profitRate)>0?"linear-gradient(146.57deg, #003A29 0.8%, #000000 98.72%)":"linear-gradient(145.74deg, #49000A 0.79%, #000000 100%)"})},[Object(i["createElementVNode"])("img",{class:"share-bg-img",src:c.bgImg,alt:"",srcset:""},null,8,Be),Object(i["createElementVNode"])("div",Ce,[Object(i["createElementVNode"])("div",De,[t[14]||(t[14]=Object(i["createElementVNode"])("div",{class:"flex-start"},[Object(i["createElementVNode"])("img",{src:n.a,style:{height:"24px"},height:"24",alt:"",srcset:""}),Object(i["createElementVNode"])("span",{class:"ml-5 text-20px"},"Ave.ai")],-1)),Object(i["createElementVNode"])("span",Ie,Object(i["toDisplayString"])(e.$t("campaignTitle")),1)])]),Object(i["createElementVNode"])("div",Ae,[Object(i["createElementVNode"])("div",Le,[Object(i["createVNode"])(ct,{class:"token-icon token-logo",src:e.$f.formatIcon({logo_url:2===c.shareItem.swapType?null===(l=c.shareItem)||void 0===l?void 0:l.inTokenLogoUrl:c.shareItem.outTokenLogoUrl,chain:c.shareItem.chain},2===c.shareItem.swapType?null===(a=c.shareItem)||void 0===a?void 0:a.inTokenSymbol:e.row.outTokenSymbol)},{error:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===(t=c.shareItem)||void 0===t?void 0:t.chain,2===c.shareItem.swapType?null===(o=c.shareItem)||void 0===o?void 0:o.inTokenSymbol:c.shareItem.outTokenSymbol),alt:"",srcset:""},null,8,Pe)]}),placeholder:Object(i["withCtx"])(()=>{var t,o;return[Object(i["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatDefaultIcon(null===(t=c.shareItem)||void 0===t?void 0:t.chain,2===c.shareItem.swapType?null===(o=c.shareItem)||void 0===o?void 0:o.inTokenSymbol:c.shareItem.outTokenSymbol),alt:"",srcset:""},null,8,Fe)]}),_:1},8,["src"]),null!==(m=c.shareItem)&&void 0!==m&&m.chain?(Object(i["openBlock"])(),Object(i["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol chain-logo",src:c.logoChainBase64||`${e.$store.state.s3BaseUrl}chain/${c.shareItem.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Re)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("span",Me,Object(i["toDisplayString"])(2===c.shareItem.swapType?null===(b=c.shareItem)||void 0===b?void 0:b.inTokenSymbol:c.shareItem.outTokenSymbol),1)]),d.isBot?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ue,Object(i["toDisplayString"])((null===(h=e.$store.state.bot)||void 0===h||null===(h=h.userInfo)||void 0===h||null===(h=h.evmAddress)||void 0===h?void 0:h.slice(0,6))+"..."+(null===(p=e.$store.state.bot)||void 0===p||null===(p=p.userInfo)||void 0===p||null===(p=p.evmAddress)||void 0===p?void 0:p.slice(-6))),1)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ze,Object(i["toDisplayString"])((null===(v=e.$store.state.currentAccount)||void 0===v?void 0:v.slice(0,6))+"..."+(null===(O=e.$store.state.currentAccount)||void 0===O?void 0:O.slice(-6))),1)),Object(i["createElementVNode"])("div",He,[Object(i["createElementVNode"])("span",qe,Object(i["toDisplayString"])(e.$t("RIO")),1),null!==(f=c.shareItem)&&void 0!==f&&f.profitRate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:"mt_5",style:Object(i["normalizeStyle"])([{"font-size":"40px","font-weight":"700"},{color:(null===(j=c.shareItem)||void 0===j?void 0:j.profitRate)>0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]}])},Object(i["toDisplayString"])((null===(k=c.shareItem)||void 0===k?void 0:k.profitRate)>0?"+":"")+Object(i["toDisplayString"])(e.$f.formatNumberS((null===(g=c.shareItem)||void 0===g?void 0:g.profitRate)||0))+"%",5)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"mt_5",style:Object(i["normalizeStyle"])([{"font-size":"40px","font-weight":"700"},{color:"#999"}])},"--"))]),Object(i["createElementVNode"])("table",Qe,[Object(i["createElementVNode"])("tbody",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignBuyAvg"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignBuyAvg")),5),Object(i["createElementVNode"])("td",null,[(null===(y=c.shareItem)||void 0===y?void 0:y.avg_buy_price)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===(w=c.shareItem)||void 0===w?void 0:w.avg_buy_price)||0)),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ge,"--"))])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignSellAvg"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignSellAvg")),5),Object(i["createElementVNode"])("td",null,[(null===(_=c.shareItem)||void 0===_?void 0:_.avg_sell_price)>0?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(" $"+Object(i["toDisplayString"])(e.$f.formatNumber2((null===($=c.shareItem)||void 0===$?void 0:$.avg_sell_price)||0)),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",We,"--"))])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignBuyTime"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignBuyTime")),5),Object(i["createElementVNode"])("td",null,[null!==(N=c.shareItem)&&void 0!==N&&N.last_buy_time?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(c.shareItem.last_buy_time/1e3,"YYYY-MM-DD HH:mm:ss")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ye,"--"))])]),Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("td",{style:Object(i["normalizeStyle"])({width:e.$f.getTextWidth(e.$t("campaignSellTime"))+20+"px"})},Object(i["toDisplayString"])(e.$t("campaignSellTime")),5),Object(i["createElementVNode"])("td",null,[null!==(T=c.shareItem)&&void 0!==T&&T.last_sell_time?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.$f.formatDate(c.shareItem.last_sell_time/1e3,"YYYY-MM-DD HH:mm:ss")),1)],64)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Je,"--"))])])])]),Object(i["createElementVNode"])("div",Ke,[Object(i["createElementVNode"])("div",Ze,[Object(i["createElementVNode"])("span",Xe,Object(i["toDisplayString"])(e.$t("campaignSubTitle")),1),Object(i["createElementVNode"])("span",et,Object(i["toDisplayString"])(e.$t("campaignDesc")),1)]),Object(i["createElementVNode"])("div",tt,[Object(i["createElementVNode"])("img",{src:c.qrcodeUrl,alt:e.$t("campaignScan"),width:"60px",height:"60px"},null,8,ot),Object(i["createElementVNode"])("span",it,Object(i["toDisplayString"])(e.$t("campaignScan")),1)])])],4),Object(i["createElementVNode"])("div",lt,[Object(i["createElementVNode"])("div",{class:"flex-col flex-center clickable",onClick:t[8]||(t[8]=Object(i["withModifiers"])((...e)=>d.downloadSharePoster&&d.downloadSharePoster(...e),["stop"]))},[t[15]||(t[15]=Object(i["createElementVNode"])("img",{src:s.a,height:"48",alt:"",srcset:""},null,-1)),Object(i["createElementVNode"])("span",nt,Object(i["toDisplayString"])(e.$t("download")),1)]),Object(i["createElementVNode"])("div",{class:"flex-col flex-center clickable",onClick:t[9]||(t[9]=Object(i["withModifiers"])(t=>e.$f.jumpX(),["stop"]))},t[16]||(t[16]=[Object(i["createElementVNode"])("img",{src:r.a,height:"48",alt:"",srcset:""},null,-1),Object(i["createElementVNode"])("span",{class:"mt-8"},"Twitter",-1)])),Object(i["createElementVNode"])("div",{class:"flex-col flex-center clickable",onClick:t[10]||(t[10]=Object(i["withModifiers"])(t=>e.$f.jumpTg(),["stop"]))},t[17]||(t[17]=[Object(i["createElementVNode"])("img",{src:u.a,height:"48",alt:"",srcset:""},null,-1),Object(i["createElementVNode"])("span",{class:"mt-8"},"Telegram",-1)]))])])]}),_:1},8,["modelValue","title"])])}o("14d9"),o("0643"),o("2382"),o("fffc"),o("a573"),o("88a7"),o("271a"),o("5494");var st=o("2c28"),ct=o("fa7d"),rt=o("cdc2"),dt=o("901e"),ut=o.n(dt),mt=o("c0e9"),bt=o.n(mt),ht=o("5c2c"),pt=o.n(ht),vt=o("bbaa"),Ot=o.n(vt),ft=o("365c"),jt=o("b933"),kt=o("d055"),gt=o.n(kt),yt=o("c9d9");function wt(e,t){return Math.floor(Math.random()*(t-e+1))+e}let _t=1;var $t={name:"BotSwapHistory",components:{"van-count-down":rt["a"]},setup(){var e;let t=Object(st["useStorage"])("bot_history_date_isShow",!0,localStorage),o=Object(st["useStorage"])("bot_history_onlyCurrentToken",!0,sessionStorage),i={volume:{type:"volume",range:[0,1e5]},swapType:{type:"swapType",value:["buy","sell"]},version:_t},l=Object(st["useStorage"])("bot_history_filter",i,localStorage);return(null===l||void 0===l||null===(e=l.value)||void 0===e?void 0:e.version)!==_t&&(l.value=i),{isShowDate:t,botHistoryOnlyCurrentToken:o,filterConditions:l}},data(){var e,t,o;let i=(null===(e=this.filterConditions)||void 0===e||null===(e=e.volume)||void 0===e?void 0:e.range)||[0,1e5];return 0===i[1]&&(i[1]=1e5),{BigNumber:ut.a,page:0,pageSize:50,txHistoryObj:{},loading:!1,walletTxData:null,typeFilter:{visible:!1,value:["buy","sell"]},filterForm:{volume:{type:"volume",visible:!1,range:(null===(t=this.filterConditions)||void 0===t||null===(t=t.volume)||void 0===t?void 0:t.range)||[0,1e5],defaultRange:[0,1e5]},swapType:{type:"swapType",visible:!1,value:null},statusType:{type:"statusType",visible:!1,value:""},isLimit:null},dialogVisible:!1,shareItem:(null===(o=this.txHistory)||void 0===o?void 0:o[0])||{},logoTokenBase64:"",logoChainBase64:"",shareImgCanvas:"",loadingCopy:!1,bgImg:"",qrcodeUrl:"",isNewTableShowDate:!0,newFilterForm:{volume:{type:"volume",visible:!1,range:[0,1e5],defaultRange:[0,1e5]},swapType:{type:"swapType",visible:!1,value:null},statusType:{type:"statusType",visible:!1,value:""},isLimit:null},newFilterConditions:{volume:{type:"volume",range:[0,1e5]},swapType:{type:"swapType",value:["buy","sell"]}},pollTimer:null,isPollingActive:!1}},computed:{isBot(){var e;return!(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e||!e.evmAddress)},txHistory(){var e,t,o,i,l,n;let a=(null===(e=this.filterConditions)||void 0===e||null===(e=e.swapType)||void 0===e?void 0:e.value)||["buy","sell"],s=this.botHistoryOnlyCurrentToken,c=(null===(t=this.$store.state)||void 0===t||null===(t=t.tokenInfo)||void 0===t?void 0:t.address)||(null===(o=this.token)||void 0===o?void 0:o.address)||"";const r=this.isBot?this.$store.state.bot.historyTabActive:this.$store.getters.netId||(null===(i=this.$store.state.tokenInfo)||void 0===i?void 0:i.chain)||this.$store.state.bot.historyTabActive;return null===(l=(null===(n=this.txHistoryObj)||void 0===n?void 0:n[r])||[])||void 0===l?void 0:l.filter(e=>{var t;return(null===a||void 0===a||null===(t=a.includes)||void 0===t?void 0:t.call(a,1===(null===e||void 0===e?void 0:e.swapType)?"buy":"sell"))&&(!s||((null===e||void 0===e?void 0:e.inTokenAddress)===c||(null===e||void 0===e?void 0:e.outTokenAddress)===c))})},tabs(){var e;const t=(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.addresses)||[];return[...t].sort((e,t)=>"solana"===e.chain?-1:"solana"===t.chain?1:"bsc"===e.chain?-1:"bsc"===t.chain?1:0)},upImg(){var e;let t=this.$store.state.globalConfig,o=null===t||void 0===t||null===(e=t.pc_share_image)||void 0===e?void 0:e.replace(/^.*\|/,"");return o.split(",").map(e=>(null===t||void 0===t?void 0:t.token_logo_url)+"pc_share/"+e)},downImg(){var e,t,o;let i=this.$store.state.globalConfig,l=null===i||void 0===i||null===(e=i.pc_share_image)||void 0===e?void 0:e.replace(/\|.*$/,"");return null===l||void 0===l||null===(t=l.split(","))||void 0===t||null===(o=t.map)||void 0===o?void 0:o.call(t,e=>(null===i||void 0===i?void 0:i.token_logo_url)+"pc_share/"+e)},balance(){return this.walletTxData?parseFloat(this.walletTxData.balance_usd||0):0},changePercentage(){return this.walletTxData?parseFloat(100*this.walletTxData.balance_ratio||0):0},totalProfit(){return this.walletTxData?parseFloat(this.walletTxData.total_profit||0):0},profitPercentage(){return this.walletTxData?parseFloat(100*this.walletTxData.total_profit_ratio||0):0},realizedProfit(){return this.walletTxData?parseFloat(this.walletTxData.realized_profit||0):0},realizedProfitPercentage(){const e=this.walletTxData&&"--"!==this.walletTxData.realized_ratio?parseFloat(100*this.walletTxData.realized_ratio||0):0;return e},unrealizedProfit(){return this.walletTxData?parseFloat(this.walletTxData.unrealized_profit||0):0},unrealizedProfitPercentage(){return this.walletTxData?parseFloat(100*this.walletTxData.unrealized_ratio||0):0},buyTokenAmount(){return this.walletTxData&&this.walletTxData.total_purchase>0?this.$f.formatNumberS(this.walletTxData.bought||0,4):"0"},buyUsdAmount(){const e=this.walletTxData?parseFloat(this.walletTxData.average_purchase_price_usd||0):0;this.walletTxData&&parseFloat(this.walletTxData.total_purchase_usd||0);return e>0?"$"+this.$f.formatNumberS(e,8):"--"},sellTokenAmount(){return this.walletTxData&&this.walletTxData.total_sold>0?this.$f.formatNumberS(this.walletTxData.sold||0,4):"0"},sellUsdAmount(){const e=this.walletTxData&&"--"!==this.walletTxData.average_sold_price_usd?parseFloat(this.walletTxData.average_sold_price_usd||0):0;this.walletTxData&&"--"!==this.walletTxData.total_sold_usd&&parseFloat(this.walletTxData.total_sold_usd||0);return e>0?"$"+this.$f.formatNumberS(e,8):"--"},tokenSymbol(){var e;return this.walletTxData?this.walletTxData.symbol:(null===(e=this.$store.state)||void 0===e||null===(e=e.tokenInfo)||void 0===e?void 0:e.symbol)||""}},watch:{"$store.state.bot.historyUpdate"(e){if(e){this.page=0;Date.now();this.getUserTxHistory().then(e=>{let t=(null===e||void 0===e?void 0:e[0])||{};1===(null===t||void 0===t?void 0:t.swapType)?Number((null===t||void 0===t?void 0:t.outPrice)||0):Number((null===t||void 0===t?void 0:t.inPrice)||0);null===t||void 0===t||t.status}),this.getUserWalletTxInfo()}},"$store.state.bot.historyTabActive"(e){e&&(this.page=0,this.getUserTxHistory(),this.getUserWalletTxInfo())},botHistoryOnlyCurrentToken(){this.page=0,this.getUserTxHistory(),this.getUserWalletTxInfo()},"$store.state.tokenInfo.address"(){this.getUserWalletTxInfo(),this.getUserTxHistory()},"$store.state.tokenInfo.chain"(e){var t,o;e&&(this.$store.state.bot.historyTabActive=null!==(t=this.$store.state.bot.isSupportChains)&&void 0!==t&&null!==(o=t.includes)&&void 0!==o&&o.call(t,e)?e:"eth")},"$store.state.bot.userInfo.evmAddress"(e){e?(this.page=0,this.getUserTxHistory(),this.getUserWalletTxInfo()):(this.walletTxData={balance_usd:0,balance_ratio:0,total_profit:0,total_profit_ratio:0,realized_profit:0,realized_ratio:0,unrealized_profit:0,unrealized_ratio:0,bought:0,sold:0,total_purchase:0,total_purchase_usd:0,total_sold:0,total_sold_usd:0,average_purchase_price_usd:0,average_sold_price_usd:0},this.txHistoryObj={})},"$store.state.currentAccount"(e){e&&!this.isBot?(this.page=0,this.getUserTxHistory(),this.getUserWalletTxInfo()):e||this.isBot||(this.walletTxData=null,this.txHistoryObj={})}},mounted(){var e;let t=null===(e=this.$store.state.tokenInfo)||void 0===e?void 0:e.chain;var o,i;this.isBot&&(this.$store.state.bot.historyTabActive=null!==(o=this.$store.state.bot.isSupportChains)&&void 0!==o&&null!==(i=o.includes)&&void 0!==i&&i.call(o,t)?t:"eth");(this.isBot||this.$store.state.currentAccount)&&(this.getUserTxHistory(),this.getUserWalletTxInfo(!0))},methods:{startPolling(){this.stopPolling(),this.isPollingActive||(this.isPollingActive=!0,this.pollTimer=setInterval(()=>{this.getUserWalletTxInfo(!0)},5e3),setTimeout(()=>{this.stopPolling()},3e4))},stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null,this.isPollingActive=!1)},formatUnits:ct["h"].formatUnits,getUserWalletTxInfo(e=!1){var t,o;const i=this.isBot?this.$store.state.bot.historyTabActive:(null===(t=this.$store.state.tokenInfo)||void 0===t?void 0:t.chain)||this.$store.state.bot.historyTabActive;if(!yt["l"].includes(i))return;let l;var n;this.isBot?l=null===(n=this.tabs.find(e=>(null===e||void 0===e?void 0:e.chain)===i))||void 0===n?void 0:n.address:l=this.$store.state.currentAccount;const a=null===(o=this.$store.state.tokenInfo)||void 0===o?void 0:o.address;if(!l||!a)return;const s={user_address:l,chain:i,user_token:a};this.$store.dispatch("bot_getUserWalletTxInfo",s).then(t=>{const o=t[0];this.walletTxData=o,this.$forceUpdate(),e||this.startPolling()}).catch(e=>{})},getUserTxHistory(){var e,t,o,i;let l,n=null===(e=this.filterConditions)||void 0===e?void 0:e.swapType.value;null===n||void 0===n||null===(t=n.includes)||void 0===t||t.call(n,"buy"),null===n||void 0===n||null===(o=n.includes)||void 0===o||o.call(n,"sell");var a;this.isBot?l=null===(a=this.tabs.find(e=>(null===e||void 0===e?void 0:e.chain)===this.$store.state.bot.historyTabActive))||void 0===a?void 0:a.address:l=this.$store.state.currentAccount;if(this.loading=!0,this.validateChainAddress(this.$store.getters.netId||(null===(i=this.$store.state.tokenInfo)||void 0===i?void 0:i.chain)||this.$store.state.bot.historyTabActive,l)){if(this.isBot){var s,c,r;let e={page:this.page,pageSize:this.pageSize,chain:this.$store.state.bot.historyTabActive,walletAddress:l,token:this.botHistoryOnlyCurrentToken?null===(s=this.$store.state.tokenInfo)||void 0===s?void 0:s.address:"",timeSort:!0,tradeVolumeSort:!1,isSuccess:!1,status:this.newFilterForm.statusType.value,minTradeVolume:(null===(c=this.filterConditions)||void 0===c||null===(c=c.volume)||void 0===c||null===(c=c.range)||void 0===c?void 0:c[0])||0,maxTradeVolume:(null===(r=this.filterConditions)||void 0===r||null===(r=r.volume)||void 0===r||null===(r=r.range)||void 0===r?void 0:r[1])||0};return 0!==this.newFilterForm.isLimit&&1!==this.newFilterForm.isLimit||(e.isLimit=this.newFilterForm.isLimit),0!==this.newFilterForm.swapType.value&&1!==this.newFilterForm.swapType.value||(e.isBuy=this.newFilterForm.swapType.value),this.$store.dispatch("bot_getUserTxHistory1",e).then(t=>(this.txHistoryObj[e.chain]=null===t||void 0===t?void 0:t.map(e=>{let t=new Date(e.updateTime).getTime()/1e3;return{...e,time:t}}),t)).finally(()=>{this.loading=!1})}{var d,u;const e=this.$store.getters.netId||(null===(d=this.$store.state.tokenInfo)||void 0===d?void 0:d.chain)||this.$store.state.bot.historyTabActive,t=this.botHistoryOnlyCurrentToken?null===(u=this.$store.state.tokenInfo)||void 0===u?void 0:u.address:"";return Object(jt["o"])({chain:e,creatorAddress:l,token:t,mode:1,onlySuccess:!1,pageSize:this.pageSize,pageNo:this.page+1}).then(t=>{var o;const i=(null===(o=t.data.list)||void 0===o?void 0:o.map(e=>this.mapWalletOrderToTableRow(e)))||[];return this.txHistoryObj[e]=i,i}).finally(()=>{this.loading=!1})}}this.loading=!1},mapWalletOrderToTableRow(e){var t;const o=parseFloat(e.outputAmount||"0"),i=parseFloat(e.inAmount||"0"),l=parseFloat(e.inPrice||"0"),n=parseFloat(e.outPrice||"0"),a=this.$store.getters.netId||(null===(t=this.$store.state.tokenInfo)||void 0===t?void 0:t.chain)||this.$store.state.bot.historyTabActive;return{chain:a,swapType:e.swapType,inTokenSymbol:e.inToken,outTokenSymbol:e.outToken,inTokenLogoUrl:e.inLogoUrl,outTokenLogoUrl:e.outLogoUrl,inTokenAddress:e.inTokenAddress,outTokenAddress:e.outTokenAddress,inTokenDecimals:e.inDecimals,outTokenDecimals:e.outDecimals,inPrice:l,outPrice:n,inValue:i*l/10**e.inDecimals,outValue:o*n/10**e.inDecimals,inAmount:i,outAmount:o,createTime:e.createTime,txHash:e.txHash,status:e.status,userAddress:e.creatorAddress,errorLog:e.errorLog||""}},validateChainAddress(e,t){if(!e||!t)return!1;if("solana"===e){const e=t.length>30&&!t.startsWith("0x");return e}if(["bsc","ethereum","polygon","arbitrum","base","xlayer"].includes(e)){const e=t.startsWith("0x")&&42===t.length;return e}return!0},formatBotError(e){let t=this.$f.formatBotError(e);return(null===t||void 0===t?void 0:t.length)>70?(null===t||void 0===t?void 0:t.slice(0,60))+"...":t},filterHandler(e,t,o){const i=o["property"];return t[i]===e},isActiveFilterType(){let e=["buy","sell"],t=this.typeFilter.value;return e.every(e=>t.includes(e))},tableRowClick(e){let t="";t=this.isBot?2===e.swapType||6===e.swapType?null===e||void 0===e?void 0:e.inTokenAddress:e.outTokenAddress:this.isBuyChain(e.swapType)?e.outTokenAddress:null===e||void 0===e?void 0:e.inTokenAddress,t&&this.$router.push({name:"Token",params:{id:t+"-"+e.chain}})},isBuyChain(e){return 1===e||3===e||5===e||7===e},jumpExplorerUrl(e){e.txHash&&window.open(this.$f.formatExplorerUrl(e.chain,e.txHash,"tx"))},isActiveFilter(e){if(!e)return!1;if("volume"===e){var t;let{defaultRange:o}=this.filterForm[e],{range:i}=(null===(t=this.filterConditions)||void 0===t?void 0:t[e])||{};return!((null===i||void 0===i?void 0:i[0])===(null===o||void 0===o?void 0:o[0])&&((null===i||void 0===i?void 0:i[1])===(null===o||void 0===o?void 0:o[1])||0===(null===i||void 0===i?void 0:i[1])))}if("swapType"===e){var o;let t=["buy","sell"],i=(null===(o=this.filterConditions)||void 0===o||null===(o=o[e])||void 0===o?void 0:o.value)||[];return!t.every(e=>i.includes(e))}},handleFilterConfirm(e){"volume"===e.type?(this.filterConditions[e.type].range[0]=e.range[0]||0,this.filterConditions[e.type].range[1]=e.range[1]>=e.defaultRange[1]?0:e.range[1]||0):"swapType"===e.type&&(this.filterConditions[e.type].value=e.value||[]),e.visible=!1,this.page=0,this.getUserTxHistory()},handleReset(e){"volume"===e.type?e.range=[...e.defaultRange]:"swapType"===e.type&&(e.value=["buy","sell"]),this.handleFilterConfirm(e)},getCampaignToken(e){let t;var o,i;this.isBot?t=null===(o=(i=this.tabs).find)||void 0===o||null===(o=o.call(i,e=>(null===e||void 0===e?void 0:e.chain)===this.shareItem.chain))||void 0===o?void 0:o.address:t=this.$store.state.currentAccount;let l={token:e,acc:t};Object(ft["Lb"])(l).then(e=>{this.shareItem={...this.shareItem,...e,profitRate:null===e||void 0===e?void 0:e.profit_realized_ratio,last_buy_time:"1970-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_buy_time)&&"0001-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_buy_time)&&"1970-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_buy_time)&&"0001-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_buy_time)?new Date(null===e||void 0===e?void 0:e.last_buy_time).getTime():0,last_sell_time:"1970-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_sell_time)&&"0001-01-01T00:00:00Z"!==(null===e||void 0===e?void 0:e.last_sell_time)&&"1970-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_sell_time)&&"0001-01-01 00:00:00"!==(null===e||void 0===e?void 0:e.last_sell_time)?new Date(null===e||void 0===e?void 0:e.last_sell_time).getTime():0},this.getRandomBg((null===e||void 0===e?void 0:e.profit_realized_ratio)>0),setTimeout(()=>{this.getShareImg()},100)}).catch(e=>{})},openDialog(e){this.loadingCopy=!1,this.dialogVisible=!0,this.shareItem=e,this.getQRCode(),this.getRandomBg(!1),this.getCampaignToken(2===e.swapType?null===e||void 0===e?void 0:e.inTokenAddress:e.outTokenAddress)},downloadFile(e,t){let o="";o="string"===typeof e?e:URL.createObjectURL(e);let i=document.createElement("a");i.href=o,i.download=t,i.click(),window.URL.revokeObjectURL(o)},downloadSharePoster(){let e=document.querySelector(".share-card");e&&bt()(e,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0}).then(e=>{var t;let o=e.toDataURL("image/png");this.downloadFile(o,`ave-${null===(t=this.shareItem)||void 0===t?void 0:t.symbol}-${Date.now()}.png`)})},getShareImg(){let e=document.querySelector(".share-card");if(e)return bt()(e,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0,height:e.clientHeight-1}).then(e=>(this.shareImgCanvas=e,e))},copyImage(){this.shareImgCanvas?(this.loadingCopy=!0,this.shareImgCanvas.toBlob(async e=>{const t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then(()=>{this.$message.success(this.$t("copySuccess"))}).catch(()=>{}).finally(()=>{this.loadingCopy=!1})},"image/png")):(this.loadingCopy=!0,this.getShareImg().then(e=>{try{e.toBlob(async e=>{const t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then(()=>{this.$message.success(this.$t("copySuccess"))}).catch(()=>{}).finally(()=>{this.loadingCopy=!1})},"image/png")}catch(t){this.loadingCopy=!1}}))},getRandomBg(e=!1){let t=e?this.upImg:this.downImg,o=t.length,i=wt(1,o);this.bgImg=(null===t||void 0===t?void 0:t[i])||(e?pt.a:Ot.a)},getQRCode(){let e=this.$store.state.globalConfig.inviter_url_v2||"https://share.ave.ai",t=this.$store.state.bot.referralInfo.refCode||"",o=t?"&code="+t:"",i=e+"?lang="+this.$store.getters.language+o;gt.a.toDataURL(i,{margin:1}).then(e=>{this.qrcodeUrl=e}).catch(e=>{})},toggleCurrentToken(){this.botHistoryOnlyCurrentToken=!this.botHistoryOnlyCurrentToken,this.page=0},handleTypeCommand(e){"all"===e?(this.newFilterForm.swapType.value=null,this.newFilterForm.isLimit=null):"LimitSell"===e?(this.newFilterForm.swapType.value=0,this.newFilterForm.isLimit=1):"LimitBuy"===e?(this.newFilterForm.swapType.value=1,this.newFilterForm.isLimit=1):"MarketSell"===e?(this.newFilterForm.swapType.value=0,this.newFilterForm.isLimit=0):"MarketBuy"===e&&(this.newFilterForm.swapType.value=1,this.newFilterForm.isLimit=0),this.newFilterForm.swapType.visible=!1,this.page=0,this.getUserTxHistory()},handleStatusCommand(e){"all"===e?this.newFilterForm.statusType.value="":"confirmed"===e?this.newFilterForm.statusType.value="confirmed":"cancelled"===e?this.newFilterForm.statusType.value="cancelled":"error"===e?this.newFilterForm.statusType.value="error":"auto_cancelled"===e&&(this.newFilterForm.statusType.value="auto_cancelled"),this.newFilterForm.statusType.visible=!1,this.page=0,this.getUserTxHistory()},isActiveFilterNew(e){if(!e)return!1;if("volume"===e){var t;let{defaultRange:o}=this.newFilterForm[e],{range:i}=(null===(t=this.newFilterConditions)||void 0===t?void 0:t[e])||{};return!((null===i||void 0===i?void 0:i[0])===(null===o||void 0===o?void 0:o[0])&&((null===i||void 0===i?void 0:i[1])===(null===o||void 0===o?void 0:o[1])||0===(null===i||void 0===i?void 0:i[1])))}if("swapType"===e){var o;let t=["buy","sell"],i=(null===(o=this.newFilterConditions)||void 0===o||null===(o=o[e])||void 0===o?void 0:o.value)||[];return!t.every(e=>i.includes(e))}if("statusType"===e){let t=["confirmed","error","cancelled","waiting"],o=this.newFilterForm[e].value||[];return!t.every(e=>o.includes(e))}},handleResetNew(e){"volume"===e.type?e.range=[...e.defaultRange]:"swapType"===e.type?e.value=["buy","sell"]:"statusType"===e.type&&(e.value=["confirmed","error","cancelled","waiting"]),this.handleFilterConfirmNew(e)},handleFilterConfirmNew(e){"volume"===e.type?(this.newFilterConditions[e.type].range[0]=e.range[0]||0,this.newFilterConditions[e.type].range[1]=e.range[1]>=e.defaultRange[1]?0:e.range[1]||0):"swapType"===e.type?this.newFilterConditions[e.type].value=e.value||[]:"statusType"===e.type&&(this.newFilterForm[e.type].value=e.value||[]),e.visible=!1,this.page=0,this.getUserTxHistory()}}},Nt=(o("cb59"),o("6b0d")),Tt=o.n(Nt);const Vt=Tt()($t,[["render",at],["__scopeId","data-v-663b0ad9"]]);t["a"]=Vt},e217:function(e,t,o){"use strict";o("4f3c")},e3d9:function(e,t,o){"use strict";o("51bf6")},e44b:function(e,t,o){"use strict";o("9b69")},eb81:function(e,t,o){},ec74:function(e,t,o){},ed57:function(e,t,o){},eeab:function(e,t,o){"use strict";o("de1c")},f58a:function(e,t,o){},fc14:function(e,t,o){},fcf4:function(e,t,o){"use strict";o("816d")},ff54:function(e,t,o){"use strict";o("0956")}}]);