(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Chart-31ecd969"],{2806:function(e,t,i){"use strict";i("7e19")},"3c48":function(e,t,i){"use strict";i("fecd")},"5d4b":function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var o=i("23f9"),l=i("7a23"),a=i("1fba"),r=i("e5f6"),s=i("d243"),n=i("9a1c");const[c,d]=Object(a["a"])("tag"),u={size:String,mark:Boolean,show:r["f"],type:Object(r["d"])("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var m=Object(l["defineComponent"])({name:c,props:u,emits:["close"],setup(e,{slots:t,emit:i}){const o=e=>{e.stopPropagation(),i("close",e)},a=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},r=()=>{var i;const{type:r,mark:c,plain:u,round:m,size:h,closeable:b}=e,_={mark:c,plain:u,round:m};h&&(_[h]=h);const p=b&&Object(l["createVNode"])(n["a"],{name:"cross",class:[d("close"),s["d"]],onClick:o},null);return Object(l["createVNode"])("span",{style:a(),class:d([_,r])},[null==(i=t.default)?void 0:i.call(t),p])};return()=>Object(l["createVNode"])(l["Transition"],{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?r():null]})}});const h=Object(o["a"])(m)},"6aef":function(e,t,i){"use strict";i.r(t);i("14d9");var o=i("7a23");const l={class:"flex-start mt-10"},a={class:"search-btn-container_content"},r={class:"tools"},s={class:"tools"},n={class:"tools"},c={class:"content padding-15"},d={class:"kline-container",ref:"multiViewList"},u=["onClick"],m={class:"token-info flex-start",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},h={class:"icon-token-container"},b=["src"],_={class:"token-symbol font-18"},p={key:0,style:{color:"#848e9c"}},O=["onClick"],j={class:"token-symbol_bottom"},v={class:"color-848E9C"},k={class:"price-container"},g=["innerHTML"],f={key:0,class:"price-bottom",style:{color:"#12b886"}},y={key:1,class:"price-bottom",style:{color:"#848E9C"}},E={key:2,class:"price-bottom",style:{color:"#ff646d"}},w={class:"bottom flex"},V=["onClick"],D=["onClick"],N={class:"in empty"},C={key:0},$={key:1},S={key:0,class:"search-history-container"},B={class:"header-title"},P={class:"search-history"},M=["onClick"],x={key:1,class:"header-title hot"},L={class:"search-content"},T={class:"dialog_title"},R={class:"relative",style:{"min-height":"400px"}};function K(e,t,i,K,A,I){var U;const W=Object(o["resolveComponent"])("search"),q=Object(o["resolveComponent"])("el-icon"),H=Object(o["resolveComponent"])("RemoveFilled"),F=Object(o["resolveComponent"])("CirclePlusFilled"),z=Object(o["resolveComponent"])("el-image"),Y=Object(o["resolveComponent"])("el-progress"),J=Object(o["resolveComponent"])("TradingView"),G=Object(o["resolveComponent"])("Delete"),Z=Object(o["resolveComponent"])("el-input"),Q=Object(o["resolveComponent"])("search-table"),X=Object(o["resolveComponent"])("loading"),ee=Object(o["resolveComponent"])("CheckHolders"),te=Object(o["resolveComponent"])("el-dialog"),ie=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"chart",style:Object(o["normalizeStyle"])({"min-height":e.$store.state.showNew?"calc(100vh - 138px)":"calc(100vh - 110px)"})},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("multichart")),1),Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",{class:"search-btn-container",onClick:t[0]||(t[0]=Object(o["withModifiers"])(e=>A.searchDialog=!0,["stop"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(W)]),_:1}),Object(o["createElementVNode"])("div",a,Object(o["toDisplayString"])(e.$t("enterAddress/token")),1)]),Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({disabled:A.column<=1}),href:"",onClick:t[1]||(t[1]=Object(o["withModifiers"])(e=>I.setTools("column","desc"),["stop","prevent"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(H)]),_:1})],2),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("columns"))+"："+Object(o["toDisplayString"])(A.column),1),Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({disabled:A.column>=9}),href:"",onClick:t[2]||(t[2]=Object(o["withModifiers"])(e=>I.setTools("column","asc"),["stop","prevent"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(F)]),_:1})],2)]),Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({disabled:A.ratio<=.5}),href:"",onClick:t[3]||(t[3]=Object(o["withModifiers"])(e=>I.setTools("ratio","desc"),["stop","prevent"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(H)]),_:1})],2),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("cardHeigh"))+"： "+Object(o["toDisplayString"])(e.$f.formatNumber2(100*A.ratio||0,0))+"%",1),Object(o["createElementVNode"])("a",{href:"",onClick:t[4]||(t[4]=Object(o["withModifiers"])(e=>I.setTools("ratio","asc"),["stop","prevent"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(F)]),_:1})])]),Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({disabled:A.gap<=1}),href:"",onClick:t[5]||(t[5]=Object(o["withModifiers"])(e=>I.setTools("gap","desc"),["stop","prevent"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(H)]),_:1})],2),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("spacing"))+"："+Object(o["toDisplayString"])(A.gap),1),Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])({disabled:A.gap>=10}),href:"",onClick:t[6]||(t[6]=Object(o["withModifiers"])(e=>I.setTools("gap","asc"),["stop","prevent"]))},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(F)]),_:1})],2)])]),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(I.multiViewList,(i,l)=>{var a,r,s,n,c,d,N,C,$,S,B,P,M,x,L,T,R,K,U,W,H,F,Z,Q,X,ee,te,oe;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"item",key:l,style:Object(o["normalizeStyle"])({width:100/A.column+"%",height:300*A.ratio+94+"px","margin-bottom":10*A.gap+"px"})},[Object(o["createElementVNode"])("div",{class:"in",style:Object(o["normalizeStyle"])({"margin-right":(l+1)%A.column==0?0:10*A.gap+"px"})},[Object(o["createElementVNode"])("div",{class:"top flex-between",onClick:t=>{var o,l;return e.$router.push({name:"Token",params:{id:(null===(o=A.multiViewObj[i])||void 0===o?void 0:o.token)+"-"+(null===(l=A.multiViewObj[i])||void 0===l?void 0:l.chain)}})}},[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(z,{class:"token-icon",src:e.$f.formatIcon(A.multiViewObj[i]),lazy:""},{error:Object(o["withCtx"])(()=>t[16]||(t[16]=[Object(o["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),placeholder:Object(o["withCtx"])(()=>t[17]||(t[17]=[Object(o["createElementVNode"])("img",{class:"token-icon",src:"/icon-default.png"},null,-1)])),_:2},1032,["src"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${null===(a=A.multiViewObj[i])||void 0===a?void 0:a.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,b)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",_,Object(o["toDisplayString"])((null===(r=A.multiViewObj[i])||void 0===r||null===(r=r.pairs)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.target_token)==(null===(s=A.multiViewObj[i])||void 0===s||null===(s=s.pairs)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.token0_address)?null===(n=A.multiViewObj[i])||void 0===n||null===(n=n.pairs)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.token0_symbol:null===(c=A.multiViewObj[i])||void 0===c||null===(c=c.pairs)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.token1_symbol),1),null!==(d=A.multiViewObj[i])&&void 0!==d&&d.pairs?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",p,"  / "+Object(o["toDisplayString"])((null===(N=A.multiViewObj[i])||void 0===N||null===(N=N.pairs)||void 0===N||null===(N=N[0])||void 0===N?void 0:N.target_token)==(null===(C=A.multiViewObj[i])||void 0===C||null===(C=C.pairs)||void 0===C||null===(C=C[0])||void 0===C?void 0:C.token0_address)?null===($=A.multiViewObj[i])||void 0===$||null===($=$.pairs)||void 0===$||null===($=$[0])||void 0===$?void 0:$.token1_symbol:null===(S=A.multiViewObj[i])||void 0===S||null===(S=S.pairs)||void 0===S||null===(S=S[0])||void 0===S?void 0:S.token0_symbol),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>I.handle_dialog(A.multiViewObj[i],l),["stop","prevent"])},[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(B=A.multiViewObj[i])||void 0===B||null===(B=B.pairs)||void 0===B||null===(B=B[0])||void 0===B?void 0:B.target_token)==(null===(P=A.multiViewObj[i])||void 0===P||null===(P=P.pairs)||void 0===P||null===(P=P[0])||void 0===P?void 0:P.token0_address)?e.$f.formatNumber2((null===(M=A.multiViewObj[i])||void 0===M||null===(M=M.pairs)||void 0===M||null===(M=M[0])||void 0===M?void 0:M.reserve0)||0,2,4,1e4):e.$f.formatNumber2((null===(x=A.multiViewObj[i])||void 0===x||null===(x=x.pairs)||void 0===x||null===(x=x[0])||void 0===x?void 0:x.reserve1)||0,2,4,1e4)),1),Object(o["createElementVNode"])("span",v,"  /  "+Object(o["toDisplayString"])((null===(L=A.multiViewObj[i])||void 0===L||null===(L=L.pairs)||void 0===L||null===(L=L[0])||void 0===L?void 0:L.target_token)==(null===(T=A.multiViewObj[i])||void 0===T||null===(T=T.pairs)||void 0===T||null===(T=T[0])||void 0===T?void 0:T.token0_address)?e.$f.formatNumber2((null===(R=A.multiViewObj[i])||void 0===R||null===(R=R.pairs)||void 0===R||null===(R=R[0])||void 0===R?void 0:R.reserve1)||0,2,4,1e4):e.$f.formatNumber2((null===(K=A.multiViewObj[i])||void 0===K||null===(K=K.pairs)||void 0===K||null===(K=K[0])||void 0===K?void 0:K.reserve0)||0,2,4,1e4)),1),t[19]||(t[19]=Object(o["createTextVNode"])("   ")),(null===(U=A.multiViewObj[i])||void 0===U?void 0:U.percent)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(Y,{key:0,class:"progress",type:"circle",percentage:null===(W=A.multiViewObj[i])||void 0===W?void 0:W.percent,color:"#3F80F7",width:16,"stroke-width":1.5,indeterminate:""},{default:Object(o["withCtx"])(()=>t[18]||(t[18]=[Object(o["createElementVNode"])("svg",{class:"icon-suo1","aria-hidden":"true"},[Object(o["createElementVNode"])("use",{"xlink:href":"#icon-suo1"})],-1)])),_:2},1032,["percentage"])):Object(o["createCommentVNode"])("",!0)])],8,O)])]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",{class:"price",innerHTML:"$"+e.$f.formatNumber3((null===(H=A.multiViewObj[i])||void 0===H?void 0:H.current_price_usd)||0)},null,8,g),(null===(F=A.multiViewObj[i])||void 0===F?void 0:F.price_change)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[t[20]||(t[20]=Object(o["createElementVNode"])("i",{class:"iconfont up icon-xiala"},null,-1)),Object(o["createTextVNode"])("  +"+Object(o["toDisplayString"])(e.$f.formatNumber2(null===(Z=A.multiViewObj[i])||void 0===Z?void 0:Z.price_change))+"% ",1)])):0==(null===(Q=A.multiViewObj[i])||void 0===Q?void 0:Q.price_change)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",y," 0% ")):Object(o["createCommentVNode"])("",!0),(null===(X=A.multiViewObj[i])||void 0===X?void 0:X.price_change)<0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E,[t[21]||(t[21]=Object(o["createElementVNode"])("i",{class:"iconfont icon-xiala"},null,-1)),Object(o["createTextVNode"])("  "+Object(o["toDisplayString"])(e.$f.formatNumber2(null===(ee=A.multiViewObj[i])||void 0===ee?void 0:ee.price_change))+"% ",1)])):Object(o["createCommentVNode"])("",!0)])],8,u),Object(o["createElementVNode"])("div",{class:"common k-line-chart-container",id:"k-line-chart-container",style:Object(o["normalizeStyle"])({height:300*A.ratio+"px"})},[Object(o["createVNode"])(J,{ref_for:!0,ref:"tradingView_ref_"+i,onUpdateResolution:I.updateResolution,onUpdatePriceChange:I.updatePriceChange,onUpdatePrice:I.updatePrice},null,8,["onUpdateResolution","onUpdatePriceChange","onUpdatePrice"])],4),Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>{var t,o;return I.swap((null===(t=A.multiViewObj[i])||void 0===t?void 0:t.token)+"-"+(null===(o=A.multiViewObj[i])||void 0===o?void 0:o.chain))},["stop","prevent"])},[t[22]||(t[22]=Object(o["createElementVNode"])("i",{class:"iconfont icon-liandong mr-3"},null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("swap")),1)],8,V),Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"ml-15",href:"",onClick:t[7]||(t[7]=Object(o["withModifiers"])(()=>{},["stop","prevent"]))},[t[23]||(t[23]=Object(o["createElementVNode"])("i",{class:"iconfont icon-copy mr-3"},null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("copy"))+Object(o["toDisplayString"])(e.$t("onChainAddress")),1)])),[[ie,null===(te=A.multiViewObj[i])||void 0===te?void 0:te.token]]),Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"ml-15",href:"",onClick:t[8]||(t[8]=Object(o["withModifiers"])(()=>{},["stop","prevent"]))},[t[24]||(t[24]=Object(o["createElementVNode"])("i",{class:"iconfont icon-copy mr-3"},null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("copy"))+Object(o["toDisplayString"])(e.$t("pair3")),1)])),[[ie,null===(oe=A.multiViewObj[i])||void 0===oe?void 0:oe.pair]]),t[25]||(t[25]=Object(o["createElementVNode"])("div",{class:"flex-1"},null,-1)),Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>I.removeMultiKline(l,A.multiViewObj[i]),["stop","prevent"])},[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(G)]),_:1})],8,D)])],4)],4)}),128)),I.multiViewList.length<9?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"item",onClick:t[9]||(t[9]=Object(o["withModifiers"])(e=>A.searchDialog=!0,["stop","prevent"])),style:Object(o["normalizeStyle"])({width:100/A.column+"%",height:300*A.ratio+94+"px","margin-bottom":10*A.gap+"px"})},[Object(o["createElementVNode"])("div",N,[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(F)]),_:1}),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("addChart")),1),0==I.multiViewList.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",C,Object(o["toDisplayString"])(e.$t("addChartMax")),1)):Object(o["createCommentVNode"])("",!0),I.multiViewList.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",$,Object(o["toDisplayString"])(e.$t("addChartRemaining",{n:9-I.multiViewList.length})),1)):Object(o["createCommentVNode"])("",!0)])],4)):Object(o["createCommentVNode"])("",!0)],512)]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"dialog-container",onClick:t[13]||(t[13]=Object(o["withModifiers"])(e=>A.searchDialog=!1,["stop"]))},[Object(o["createElementVNode"])("div",{class:"search-dialog-container",onClick:t[12]||(t[12]=Object(o["withModifiers"])(()=>{},["stop"]))},[Object(o["createVNode"])(Z,{ref:"inputSearch",placeholder:e.$t("enterAddress/token"),modelValue:A.query,"onUpdate:modelValue":t[10]||(t[10]=e=>A.query=e),modelModifiers:{trim:!0},size:"large",class:"input-search",onKeydown:Object(o["withKeys"])(I.tokenSearch,["enter"]),clearable:""},{prefix:Object(o["withCtx"])(()=>[Object(o["createVNode"])(q,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(W)]),_:1})]),_:1},8,["placeholder","modelValue","onKeydown"]),""===A.query&&(null===(U=e.$store.state.historyList)||void 0===U?void 0:U.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",S,[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("searchHistory")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-ashbin",onClick:t[11]||(t[11]=Object(o["withModifiers"])((...e)=>I.confirm&&I.confirm(...e),["stop"]))})]),Object(o["createElementVNode"])("div",P,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.$store.state.historyList,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{class:"history-tag",key:t,onClick:Object(o["withModifiers"])(t=>A.query=e,["stop"])},Object(o["toDisplayString"])(I.formatLength(e)),9,M))),128))])])):Object(o["createCommentVNode"])("",!0),""===A.query?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,Object(o["toDisplayString"])(e.$t("popularSearches")),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",L,[Object(o["createVNode"])(Q,{tokens:A.tokens,onRefresh:I.refresh,loading:A.loading,type:"chart",onAddMultiKline:I.addMultiKline},null,8,["tokens","onRefresh","loading","onAddMultiKline"])])])],512),[[o["vShow"],A.searchDialog]]),Object(o["createVNode"])(te,{modelValue:A.visible,"onUpdate:modelValue":t[15]||(t[15]=e=>A.visible=e),width:"600px",class:"dialog","append-to-body":""},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",T,Object(o["toDisplayString"])(e.$t("holdersDetail")),1)]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",R,[Object(o["createVNode"])(X,{style:{"z-index":"1"},active:A.loadingLPHolders,"onUpdate:active":t[14]||(t[14]=e=>A.loadingLPHolders=e),"can-cancel":!1,loader:"dots",opacity:1,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(o["createVNode"])(ee,{class:"holders",type:"pair",checkResult:A.LPHolders,onlyList:""},null,8,["checkResult"])])]),_:1},8,["modelValue"])],4)}i("a573");var A=i("365c"),I=i("fa7d"),U=i("21fd");const W=["id"];function q(e,t,i,l,a,r){const s=Object(o["resolveComponent"])("loading"),n=Object(o["resolveComponent"])("dialog-remind");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(s,{style:{"z-index":"1"},active:a.loading,"onUpdate:active":t[0]||(t[0]=e=>a.loading=e),"can-cancel":!1,loader:"dots",opacity:1,backgroundColor:"light"===e.$store.state.mode?"#fff":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(o["createElementVNode"])("div",{id:a.tv_chart_container_id,style:{height:"100%",width:"100%"}},null,8,W),Object(o["createVNode"])(n,{ref:"remind",modelValue:a.dialogVisible_remind,"onUpdate:modelValue":t[1]||(t[1]=e=>a.dialogVisible_remind=e)},null,8,["modelValue"])],64)}var H=i("8e5c"),F=i("6b0d"),z=i.n(F);const Y=z()(H["a"],[["render",q]]);var J=Y,G=i("335a"),Z=(i("0643"),i("76d6"),i("fa85")),Q=i.n(Z);const X={key:0,class:"flex-1"},ee={class:"label"},te={class:"value"},ie={key:1,class:"flex-1"},oe={class:"label"},le={class:"value"},ae={key:2,class:"flex-1"},re={class:"label"},se={class:"range-text"},ne={class:"range"},ce={key:3,class:"card"},de={class:"card-h"},ue=["href"],me={key:2,class:"iconfont icon-LP","aria-hidden":"true",style:{width:"15px",height:"15px","vertical-align":"middle"}},he={key:3,class:"iconfont icon-contract",style:{"vertical-align":"middle"}},be={key:0,class:"table-lock"},_e={key:0,class:"more"},pe=["href"],Oe={key:4,class:"card"},je={key:0,class:"card-h"},ve={key:0,class:"card-list-item"},ke={style:{color:"#848E9C"}},ge={style:{color:"#848E9C"}},fe=["href"],ye={key:0,style:{height:"15px"},src:Q.a,alt:"",srcset:""},Ee={key:2,class:"iconfont icon-contract"},we={key:0},Ve={key:1},De={key:0,class:"table-lock"},Ne={key:1,class:"more"},Ce=["href"];function $e(e,t,i,l,a,r){var s,n,c,d,u,m;const h=Object(o["resolveComponent"])("van-tag"),b=Object(o["resolveComponent"])("van-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,["token"===i.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",X,[Object(o["createElementVNode"])("span",ee,Object(o["toDisplayString"])(e.$t("totalSupply1")),1),Object(o["createElementVNode"])("span",te,Object(o["toDisplayString"])(e.$f.formatNumber2(i.checkResult.total||0)),1)])):Object(o["createCommentVNode"])("",!0),"pair"!==i.type||i.onlyList?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ie,[Object(o["createElementVNode"])("span",oe,Object(o["toDisplayString"])(e.$t("totalSupply1")),1),Object(o["createElementVNode"])("span",le,Object(o["toDisplayString"])(e.$f.formatNumber2(i.checkResult.pair_total)),1)])),i.onlyList?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ae,[Object(o["createElementVNode"])("span",re,Object(o["toDisplayString"])(r.label),1),t[0]||(t[0]=Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)),Object(o["createElementVNode"])("span",se,Object(o["toDisplayString"])(e.$f.formatPercent(r.range)),1),Object(o["createElementVNode"])("div",ne,[Object(o["createElementVNode"])("span",{class:"range-bar",style:Object(o["normalizeStyle"])({width:e.$f.formatPercent(r.range)})},null,4)])])),"token"===i.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ce,[Object(o["createElementVNode"])("h3",de,"TOP 10 "+Object(o["toDisplayString"])(e.$t("tokenHolderInfo1")),1),Object(o["createElementVNode"])("ul",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])((null===(s=i.checkResult)||void 0===s?void 0:s.token_holders_rank)||[],(l,a)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:a},[Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(["card-list-item",{"bg-warning":1===Number(null===l||void 0===l?void 0:l.analysis_show_warning)}])},[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.checkResult.chain||"",l.address||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a+1)+".",1),1===Number(null===l||void 0===l?void 0:l.analysis_show_creator)?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,type:"primary",round:"",size:"10",class:"mr-3"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("contractCreator")),1)]),_:1})):Object(o["createCommentVNode"])("",!0),r.formatLock(l)?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1,color:"#B3920E",name:"lock",style:{"vertical-align":"middle"}})):Object(o["createCommentVNode"])("",!0),1===l.is_lp?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",me,t[1]||(t[1]=[Object(o["createElementVNode"])("use",{"xlink:href":"#icon-LP"},null,-1)]))):Object(o["createCommentVNode"])("",!0),1===l.is_contract?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",he)):Object(o["createCommentVNode"])("",!0),l.mark?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:5},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.mark),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:4},[Object(o["createTextVNode"])(Object(o["toDisplayString"])((l.address||"").slice(0,2)+"..."+(l.address||"").slice(-4)),1)],64)),l.lock&&l.lock.length>0&&l.lock.every(e=>1e3*e.unlockDate<=Date.now())?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:6},[t[2]||(t[2]=Object(o["createElementVNode"])("br",null,null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("unlocked")),1)],64)):Object(o["createCommentVNode"])("",!0)],8,ue),Object(o["createElementVNode"])("span",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(l.quantity||0,2,4,1e4))+" ",1),i.checkResult.total&&l.quantity?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(" ("+Object(o["toDisplayString"])(e.$f.formatPercent(l.quantity/i.checkResult.total,2))+") ",1)],64)):Object(o["createCommentVNode"])("",!0)])],2),l.lock&&l.lock.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("table",be,[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("amount")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("lockDate")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("unlockDateStart")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("unlockDateEnd")),1)])]),Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.lock,(t,i)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:i},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount||0,2,4,1e4)),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatDate(t.vesting_end||t.unlockDate,"YYYY-MM-DD")),1)]))),128))])])):Object(o["createCommentVNode"])("",!0)],64))),128))]),null!==(n=i.checkResult)&&void 0!==n&&n.chain&&null!==(c=i.checkResult)&&void 0!==c&&c.token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_e,[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.checkResult.chain,i.checkResult.token,"token")+"#balances",target:"_blank"},Object(o["toDisplayString"])(e.$t("moreDetails")),9,pe)])):Object(o["createCommentVNode"])("",!0)])):"pair"===i.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Oe,[i.onlyList?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("h3",je,"TOP 10 LP "+Object(o["toDisplayString"])(e.$t("tokenHolderInfo")),1)),Object(o["createElementVNode"])("ul",null,[i.onlyList?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",ve,[Object(o["createElementVNode"])("span",ke,Object(o["toDisplayString"])(e.$t("holders2")),1),Object(o["createElementVNode"])("span",ge,Object(o["toDisplayString"])(e.$t("details")),1)])):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])((null===(d=i.checkResult)||void 0===d?void 0:d.pair_holders_rank)||[],(l,a)=>{var s,n,c;return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:a},[Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(["card-list-item",{"bg-warning":1===Number(null===l||void 0===l?void 0:l.analysis_show_warning)}])},[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.checkResult.chain||"",l.address||"","address"),target:"_blank",style:{display:"flex","align-items":"center"}},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a+1)+".",1),1===Number(null===l||void 0===l?void 0:l.analysis_show_creator)?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,type:"primary",round:"",size:"10",class:"mr-3"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("contractCreator")),1)]),_:1})):Object(o["createCommentVNode"])("",!0),r.formatLock(l)?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[(null===l||void 0===l||null===(s=l.lock)||void 0===s?void 0:s.length)>0&&null!==l&&void 0!==l&&null!==(n=l.lock)&&void 0!==n&&null!==(c=n.every)&&void 0!==c&&c.call(n,e=>1e3*e.unlockDate<=Date.now())?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",ye)):(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:1,color:"#B3920E",name:"lock"}))],64)):Object(o["createCommentVNode"])("",!0),1===l.is_contract?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",Ee)):Object(o["createCommentVNode"])("",!0),l.mark?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:4},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.mark),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:3},[Object(o["createTextVNode"])(Object(o["toDisplayString"])((l.address||"").slice(0,2)+"..."+(l.address||"").slice(-4)),1)],64)),l.lock&&l.lock.length>0&&l.lock.every(e=>1e3*e.unlockDate<=Date.now())?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:5},[t[3]||(t[3]=Object(o["createElementVNode"])("br",null,null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("unlocked")),1)],64)):Object(o["createCommentVNode"])("",!0)],8,fe),i.onlyList?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",we,Object(o["toDisplayString"])(e.$f.formatNumber2(l.quantity||0,2,4,1e4))+" ("+Object(o["toDisplayString"])(e.$f.formatNumber2(l.percent||0,2))+"%) ",1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Ve,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(l.quantity||0,2,4,1e4))+" ",1),i.checkResult.pair_total&&l.quantity||l.percent?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(" ("+Object(o["toDisplayString"])(l.percent&&Number(l.percent)?e.$f.formatPercent(l.percent,2):e.$f.formatPercent(l.quantity/i.checkResult.pair_total,2))+") ",1)],64)):Object(o["createCommentVNode"])("",!0)]))],2),l.lock&&l.lock.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("table",De,[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("amount")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("lockDate")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("unlockDateStart")),1),Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("unlockDateEnd")),1)])]),Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.lock,(t,i)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:i,style:Object(o["normalizeStyle"])({color:1e3*t.unlockDate<=Date.now()?"#FF9F00":""})},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount||0,2,4,1e4)),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.$f.formatDate(t.vesting_end||t.unlockDate,"YYYY-MM-DD")),1)],4))),128))])])):Object(o["createCommentVNode"])("",!0)],64)}),128))]),i.checkResult&&(null===(u=i.checkResult)||void 0===u||null===(u=u.dex)||void 0===u?void 0:u.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ne,[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(i.checkResult.chain,null===(m=i.checkResult.dex)||void 0===m||null===(m=m[0])||void 0===m?void 0:m.pair,"token")+"#balances",target:"_blank"},Object(o["toDisplayString"])(e.$t("moreDetails")),9,Ce)])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)])}i("13d5"),i("2382"),i("9d4a");var Se=i("9a1c"),Be=i("5d4b"),Pe={name:"CheckHolders",props:{checkResult:Object,type:{type:String,default:"token"},onlyList:{type:Boolean,default:!1}},components:{"van-icon":Se["a"],"van-tag":Be["a"]},data(){return{}},computed:{tokenInfo(){return this.$store.state.tokenInfo||{}},holdersPieData(){var e,t;let i=(null===(e=this.checkResult)||void 0===e||null===(e=e.token_holders_rank)||void 0===e?void 0:e.filter(e=>"0x000000000000000000000000000000000000dead"!==(null===e||void 0===e?void 0:e.address)))||[],o=(null===(t=this.checkResult)||void 0===t||null===(t=t.token_holders_rank)||void 0===t?void 0:t.filter(e=>"0x000000000000000000000000000000000000dead"===(null===e||void 0===e?void 0:e.address)))||[],l=o.reduce((e,t)=>e+Number(t.quantity),0),a=i.reduce((e,t)=>e+Number(t.quantity),0),r=a/(this.checkResult.total-l);return[{name:"tokenHolders",value:r},{name:"default",value:1-r}]},pairHoldersPieData(){var e;let t=(null===(e=this.checkResult)||void 0===e?void 0:e.pair_holders_rank)||[],i=t.reduce((e,t)=>{let i=0;return this.formatLock(t)&&(i=Number(t.percent)||Number(t.quantity)/this.checkResult.pair_total),e+i},0),o=i;return[{name:"pairHolders",value:o},{name:"default",value:1-o}]},pieData(){return"token"===this.type?this.holdersPieData:"pair"===this.type?this.pairHoldersPieData:[]},range(){var e;return(null===(e=this.pieData)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.value)||0},label(){return"pair"===this.type?this.$t("LPLocked"):this.$t("top10Holder")}},methods:{formatLock(e){return e.lock||/lock|null|(black hole)/gi.test(e.mark||"")}}};i("2806");const Me=z()(Pe,[["render",$e],["__scopeId","data-v-03046bfa"]]);var xe=Me,Le=i("49a2"),Te={name:"Chart",data(){return{query:"",searchDialog:!1,Timer:null,loading:!1,count:0,tokens:[],multiViewObj:{},column:G["a"].get("column")||3,ratio:G["a"].get("ratio")||1,gap:G["a"].get("gap")||1,multi_kline_arr:[],visible:!1,LPHolders:[],loadingLPHolders:!1}},computed:{favorites(){return this.$store.state.favorites||[]},tokenInfo(){return this.$store.state.tokenInfo||Object(I["j"])()},initTokens(){return this.$store.state.initTokens||[]},multiViewList(){return this.$store.state.multiViewList}},components:{SearchTable:U["a"],TradingView:J,CheckHolders:xe},watch:{query(e){this.Timer&&clearTimeout(this.Timer),this.Timer=setTimeout(()=>{e?this.tokenSearch():this.tokens=this.$store.state.hotTokens},1e3)},searchDialog(e){this.tokens=e?this.$store.state.hotTokens:[]},"$store.state.ws.isConnected"(){this.multi_kline_arr.length>0&&this.subscribe()}},mounted(){this.$nextTick(()=>{this.init(),this.drag()})},beforeRouteLeave(){this.unsubscribeKline()},methods:{drag(){let e=this;Object(Le["b"])(this.$refs.multiViewList,this.multiViewList,{animation:1e3,disabled:!1,ghostClass:"ghost",onUpdate(){G["a"].set("multiViewList",e.multiViewList),e.$store.commit("setState",{name:"multiViewList",value:e.multiViewList})}})},handle_dialog(e){this.visible=!0;let t=e.token+"-"+e.chain;this.loadingLPHolders=!0,Object(A["rc"])(t).then(t=>{this.LPHolders={chain:e.chain,pair_holders_rank:t}}).finally(()=>{this.loadingLPHolders=!1})},swap(e){this.$router.push({name:"Token",params:{id:e}}),G["a"].set("activeTab",3)},async init(){this.$store.state.ws.isConnected||this.$store.dispatch("initWs"),this.multi_kline_arr=await Promise.all(this.multiViewList.map((e,t)=>this.getToken(e,t))),this.subscribe()},tokenSearch(){this.Timer&&clearTimeout(this.Timer),this.loading=!0,this.$store.commit("setHistoryList",this.query),Object(A["Ze"])(this.query).then(e=>{let t=this.$f.changeData(e,this.favorites);this.tokens=t.slice(0,200)}).catch(e=>{this.tokens=[]}).finally(()=>{this.loading=!1})},refresh(){this.searchDialog=!1,this.query=""},formatLength(e){return e.length<=10?e:e.slice(0,4)+"..."+e.slice(-4)},confirm(){this.$confirm(this.$t("whetherToClearHistory"),this.$t("tips"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),customClass:this.$store.state.mode}).then(()=>{this.$store.commit("emptyHistoryList")}).catch(()=>{})},async addMultiKline(e){var t;let i=null===(t=this.multiViewList)||void 0===t?void 0:t.findIndex(t=>t==e);var o;if(-1==i){if((null===(o=this.multiViewList)||void 0===o?void 0:o.length)<9){G["a"].set("multiViewList",[...this.multiViewList,e]),this.$store.commit("setState",{name:"multiViewList",value:[...this.multiViewList,e]});let t=await this.getToken(e).catch(()=>{});this.multi_kline_arr.push(t),this.unsubscribeKline(),this.subscribe()}}else this.$message.error(this.$t("addChartRepeat"))},removeMultiKline(e,t){let i=this.multiViewList.slice(0);null===i||void 0===i||i.splice(e,1),G["a"].set("multiViewList",i),this.$store.commit("setState",{name:"multiViewList",value:i});let o=G["a"].get("resolutionObj");delete o[t.pair],G["a"].set("resolutionObj",o),this.multi_kline_arr.splice(e,1),this.unsubscribeKline(),this.subscribe()},updateResolution(e,t){var i;this.multi_kline_arr=null===(i=this.multi_kline_arr)||void 0===i?void 0:i.map(i=>(i.pair==e&&(i.resolution=Number(t)),i)),this.unsubscribeKline(),this.subscribe()},updatePriceChange(e,t){t&&(this.multiViewObj[t].price_change=e)},updatePrice(e,t){t&&(this.multiViewObj[t].current_price_usd=e)},getToken(e){return new Promise((t,i)=>{Object(A["xd"])(e).then(o=>{var l,a,r;let s=null===o||void 0===o||null===(l=o.pairs)||void 0===l?void 0:l[0],n={...s,id:e,value:(null===s||void 0===s?void 0:s.pair)+"-"+o.token.chain||"",chain:o.token.chain,amm:(null===s||void 0===s?void 0:s.amm)||"",address:null===s||void 0===s?void 0:s.pair,symbol:o.token.symbol,price:o.token.current_price_usd};var c;(this.multiViewObj[e]={...o.token,pair:null===s||void 0===s?void 0:s.pair,pairs:null===o||void 0===o?void 0:o.pairs,percent:100*(null===(a=o.token)||void 0===a?void 0:a.pair_lock_percent)||0},null===(r=this.$refs)||void 0===r||null===(r=r["tradingView_ref_"+e])||void 0===r||null===(r=r[0])||void 0===r||r.init(n,e),null!==s&&void 0!==s&&s.pair)?t({pair:null===s||void 0===s?void 0:s.pair,resolution:Number((null===(c=G["a"].get("resolutionObj"))||void 0===c?void 0:c[null===s||void 0===s?void 0:s.pair])||0)||15}):i({})}).catch(()=>{i({})})})},setTools(e,t){"column"===e&&("desc"==t?this.column>1&&(this.column=this.column-1):this.column<9&&(this.column=this.column+1),G["a"].set("column",this.column)),"ratio"===e&&("desc"==t?this.ratio>.5&&(this.ratio=this.ratio-.05):this.ratio=this.ratio+.05,G["a"].set("ratio",this.ratio)),"gap"===e&&("desc"==t?this.gap>1&&(this.gap=this.gap-1):this.gap<10&&(this.gap=this.gap+1),G["a"].set("gap",this.gap))},subscribe(){var e;let t=(null===(e=this.multi_kline_arr)||void 0===e?void 0:e.map(e=>[e.pair,Number(e.resolution)]))||[];if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&t.length>0){let e={jsonrpc:"2.0",method:"subscribe",params:["multi_kline",...t],id:1};this.$store.commit("setState",{name:"wsKlineParams",value:e.params}),this.$store.commit("wsSend",e)}},unsubscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.$store.state.wsKlineParams.length>0){let e={jsonrpc:"2.0",method:"unsubscribe",params:this.$store.state.wsKlineParams,id:1};this.$store.commit("setState",{name:"wsKlineParams",value:[]}),this.$store.commit("wsSend",e)}}}};i("3c48");const Re=z()(Te,[["render",K],["__scopeId","data-v-776e9c42"]]);t["default"]=Re},"7e19":function(e,t,i){},"8e5c":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("13d5"),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("0643"),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2382"),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4e3e"),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a573"),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("9d4a"),core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("9a9a"),core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_7__),_utils_constants_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("c9d9"),_api_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("365c"),good_storage__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("335a"),_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("75a0"),uuid__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ec26");__webpack_exports__["a"]={name:"TradingView",components:{DialogRemind:_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_11__["a"]},data(){var _this$resolutionObj,_this$pair,_this$resolutionObj2,_this$pair2;return{dialogVisible_remind:!1,widget:null,symbolInfo:null,datafeed:{onReady:this.onReady,resolveSymbol:this.resolveSymbol,getBars:this.getBars,subscribeBars:this.subscribeBars,unsubscribeBars:this.unsubscribeBars,getMarks:this.getMarks},onRealtimeCallback:null,onResetCacheNeededCallback:null,resolutionObj:good_storage__WEBPACK_IMPORTED_MODULE_10__["a"].get("resolutionObj")||{},resolution:(null===(_this$resolutionObj=this.resolutionObj)||void 0===_this$resolutionObj?void 0:_this$resolutionObj[null===(_this$pair=this.pair)||void 0===_this$pair?void 0:_this$pair.address])||"15",oldResolution:(null===(_this$resolutionObj2=this.resolutionObj)||void 0===_this$resolutionObj2?void 0:_this$resolutionObj2[null===(_this$pair2=this.pair)||void 0===_this$pair2?void 0:_this$pair2.address])||"15",chartData:[],initLoading:!1,loading:!0,loadingChange:!1,setMarks:null,showSwapKline:eval(localStorage.getItem("showSwapKline")||!0),showSwapKlineButton:null,pair:{},tv_chart_container_id:"chart-"+Object(uuid__WEBPACK_IMPORTED_MODULE_12__["a"])(),token:""}},emits:["updateResolution","updatePriceChange","updatePrice"],computed:{klineParams(){return this.$store.state.wsKlineParams},myTxHistoryList(){return this.$store.state.myTxHistoryList},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(_utils_constants_js__WEBPACK_IMPORTED_MODULE_8__["f"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""}},watch:{"pair.value"(e){var t,i,o;e&&"-"!==e&&!this.loading&&(this.loadingChange=!0,null===(t=this.onResetCacheNeededCallback)||void 0===t||t.call(this),null===(i=this.widget)||void 0===i||null===(o=i.setSymbol)||void 0===o||o.call(i,this.pair.symbol+"---"+e,this.resolution,()=>{this.loadingChange=!1}),this.saveStudy())},"$store.state.ws.klineData"(e){var t,i,o;if(e.key!==this.resolution||this.loadingChange||this.pair.address!==e.pairAddress)return;let l=e.value;l.change&&this.$emit("updatePriceChange",l.change,this.token);let a={time:Number(1e3*l.time),open:Number(l.open),high:Number(l.high),low:Number(l.low),close:Number(l.close),volume:Number(l.volume)};this.onRealtimeCallback&&this.onRealtimeCallback(a);let r=(null===(t=this.chartData)||void 0===t?void 0:t[((null===(i=this.chartData)||void 0===i?void 0:i.length)||0)-1])||{},s=(null===r||void 0===r?void 0:r.time)||0;if(0===this.chartData.length||a.time>s)this.chartData.push(a);else if(this.chartData.length>0&&s===a.time)this.chartData.pop(),this.chartData.push(a);else if(this.chartData.length>0&&s<a.time)for(let c=1;c<=5;c++){let e=this.chartData[this.chartData.length-c];e.time===a.time&&e.volume<=a.volume&&(this.chartData[this.chartData.length-c]=a)}let n=(null===(o=this.chartData)||void 0===o||null===(o=o[this.chartData.length-1])||void 0===o?void 0:o.close)||0;n>0&&this.pair.address===e.pairAddress&&this.$emit("updatePrice",n,this.token),this.setData()},"$store.state.currentAccount"(val){this.loading=!0,this.createWidget(),this.showSwapKline=eval(localStorage.getItem("showSwapKline")||!0),val||this.$store.commit("setState",{name:"myTxHistoryList",value:[]})},myTxHistoryList:{handler:function(e){""!==this.$store.state.currentAccount&&e.length>0&&this.setMarksData(this.resolution,this.setMarks)},deep:!0},"$store.state.mode"(e){"Chart"==this.$route.name&&(this.loading=!0,this.createWidget())}},created(){},unmounted(){document.removeEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.setData()})},methods:{init(e,t){var i,o,l,a;this.loading=!0,this.pair=e,this.token=t,this.resolutionObj=good_storage__WEBPACK_IMPORTED_MODULE_10__["a"].get("resolutionObj")||{},this.resolution=(null===(i=this.resolutionObj)||void 0===i?void 0:i[null===(o=this.pair)||void 0===o?void 0:o.address])||"15",this.oldResolution=(null===(l=this.resolutionObj)||void 0===l?void 0:l[null===(a=this.pair)||void 0===a?void 0:a.address])||"15",this.pair.value&&"-"!==this.pair.value?this.getKlineHistory().then(()=>{}).finally(()=>{this.createWidget()}):this.createWidget(),this.bindVisibility()},bindVisibility(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.setData()})},isBuy(e){if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getPrice(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmount(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_amount);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_amount);let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(t)},getAmountUSD(e){return e.from_address&&e.from_address===this.tokenAddress?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&e.to_address===this.tokenAddress?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},createWidget(){var e,t;const i="100%",o="100%",l=this.tv_chart_container_id,a=window.TradingView.widget;if(this.widget=new a({symbol:(null===(e=this.pair)||void 0===e?void 0:e.symbol)||" ",width:i,height:o,interval:this.resolution,theme:"light"===this.$store.state.mode?"Light":"Dark",container:l,datafeed:this.datafeed,library_path:this.$store.state.s3BaseUrl+"charting_library/",custom_css_url:"night-1.css",locale:this.formatLang(this.$store.getters.language),disabled_features:["header_symbol_search","symbol_search_hot_key","header_compare","volume_force_overlay","header_saveload","timeframes_toolbar"],enabled_features:[],charts_storage_url:location.host,charts_storage_api_version:"1.1",timezone:this.$f.getTimezone(),time_frames:[],overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","paneProperties.backgroundType":"solid","paneProperties.background":"light"===this.$store.state.mode?"#fff":"#131722","paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"}}),localStorage["tradingview.IntervalWidget.quicks"]||(localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(["30","15","5","1","60","120","240","1D","1W"])),localStorage["tradingview.chartproperties"]){let e=JSON.parse(localStorage["tradingview.chartproperties"]);e.paneProperties.background="light"===this.$store.state.mode?"#fff":"#131722",e.paneProperties.backgroundType="solid",localStorage["tradingview.chartproperties"]=JSON.stringify(e)}this.widget.onChartReady(()=>{var e,t;document.getElementById(l).childNodes[0].setAttribute("style",`visibility:visible;;width:${i};height:${o};`),this.saveStudy(),this.loading=!1,null===(e=this.widget)||void 0===e||null===(t=e.activeChart)||void 0===t||null===(t=t.call(e))||void 0===t||t.onIntervalChanged().subscribe(null,e=>{if(this.resolution!==e){this.oldResolution=this.resolution,this.resolution=e,this.resolutionObj[this.pair.address]=e;let t={...good_storage__WEBPACK_IMPORTED_MODULE_10__["a"].get("resolutionObj"),...this.resolutionObj};good_storage__WEBPACK_IMPORTED_MODULE_10__["a"].set("resolutionObj",t),this.$emit("updateResolution",this.pair.address,e),this.unsubscribeKline()}}),this.createStudy()}),null===(t=this.widget)||void 0===t||t.headerReady().then(()=>{var e;if(""!==this.$store.state.currentAccount){var t;let e=null===(t=this.widget)||void 0===t?void 0:t.createButton();this.showSwapKlineButton=e,this.showSwapKlineButton&&(e.innerHTML=this.showSwapKline?this.$t("showSwapKline"):this.$t("hideSwapKline"),e.onclick=()=>{var t,i;(this.showSwapKline=!this.showSwapKline,localStorage.setItem("showSwapKline",this.showSwapKline),e.innerHTML=this.showSwapKline?this.$t("showSwapKline"):this.$t("hideSwapKline"),this.showSwapKline)?this.setMarksData(this.resolution,this.setMarks):null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).clearMarks()})}let i=null===(e=this.widget)||void 0===e?void 0:e.createButton({align:"right"});i.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px;border-radius: 6px;" onMouseOver="this.style.background=\'#2a2e39\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>',i.onclick=()=>{this.dialogVisible_remind=!0,this.$refs.remind.init()}})},onReady(e){let t={supported_resolutions:["1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};setTimeout(()=>e(t))},resolveSymbol(e,t,i){try{var o,l,a,r,s,n;let i={name:null===e||void 0===e||null===(o=e.toLocaleUpperCase)||void 0===o?void 0:o.call(e),ticker:null===e||void 0===e||null===(l=e.toLocaleUpperCase)||void 0===l?void 0:l.call(e),description:(null===e||void 0===e||null===(a=e.toLocaleUpperCase)||void 0===a||null===(a=a.call(e))||void 0===a||null===(r=a.split)||void 0===r||null===(r=r.call(a,"---"))||void 0===r?void 0:r[0])||"",exchange:"Ave.ai",timezone:this.$f.getTimezone(),format:10,minmov:1,minmov2:0,pricescale:(null===(s=this.pair)||void 0===s?void 0:s.price)>0?10**this.$f.formatDecimals(null===(n=this.pair)||void 0===n?void 0:n.price).precision:1e7,volume_precision:10,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_daily:!0,has_no_volume:!1,has_weekly_and_monthly:!0,supported_resolutions:["1","5","15","30","60","120","240","1D","1W"],data_status:"streaming"};t(i)}catch(c){i(c)}},async getMarks(e,t,i,o,l){this.setMarksData(l,o),this.setMarks=o},setMarksData(e,t){var i,o;if(!this.showSwapKline||""===this.$store.state.currentAccount)return void(t&&t([]));let l={"1D":1440,"1W":10080},a=(null===(i=this.myTxHistoryList)||void 0===i?void 0:i.filter(e=>e.pair_address==this.$store.state.pair.address))||[],r=(null===(o=this.myTxHistoryList)||void 0===o?void 0:o.filter(e=>e.pair_address!==this.$store.state.pair.address))||[],s=null===r||void 0===r?void 0:r.filter(t=>this.chartData.some(i=>parseInt(i.time/1e3/Number(l[e]||e)/60)===parseInt(t.time/Number(l[e]||e)/60))),n=this.dealMarkData(a,e,"#12b886","#ff646d"),c=[];s.length>0&&(c=this.dealMarkData(s,e,"#81D9BF","#FF8C93"));let d=n.concat(c);d&&d.length>10&&!localStorage.showSwapKline?(this.showSwapKline=!1,this.showSwapKlineButton&&(this.showSwapKlineButton.innerHTML=this.showSwapKline?this.$t("showSwapKline"):this.$t("hideSwapKline")),t&&t([])):t&&t(d)},dealMarkData(e,t,i,o){let l={"1D":1440,"1W":10080},a=e.map(e=>({...e})),r={},s=[];a.forEach(e=>{let i=parseInt(e.time/Number(l[t]||t)/60);void 0===r[i]&&(r[i]=s.length,s[r[i]]=[]),s[r[i]].push(e)});let n=[];s.forEach(e=>{let t=e.filter(e=>this.isBuy(e)),i=e.filter(e=>!this.isBuy(e));t.length>0&&n.push(t),i.length>0&&n.push(i)});let c=n.map(e=>{let a=e.length,r=e[0],s=e.reduce((e,t)=>Number(this.getAmount(e))+Number(this.getAmount(t)),0),n=e.reduce((e,t)=>Number(this.getAmountUSD(e))+Number(this.getAmountUSD(t)),0),c=1===a?this.$f.formatDate(r.time,"MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"MM-DD HH:mm")+" ~ "+this.$f.formatDate(r.time,"MM-DD HH:mm"),d=r.time-r.time%(60*Number(l[t]||t));return{id:r.time,time:d,color:this.isBuy(r)?{background:i}:{background:o},label:this.isBuy(r)?"B":"S",labelFontColor:"#fff",minSize:13,text:`\n              <span>${this.$t("transactionFrequency")}： ${a}</span>\n              <span style="margin-top: 5px;display: block">${this.$t("type")}： ${this.isBuy(r)?this.$t("buy"):this.$t("sell")}</span>\n              <span style="margin-top: 5px;display: block">${this.$t("averagePrice")}：$ ${this.$f.formatNumber2(n/s)}</span>\n              <span style="margin-top: 5px;display: block">${this.$t("amountB")}：${this.$f.formatNumber2(s)}</span>\n              <span style="margin-top: 5px;display: block">${this.$t("amountU")}：$ ${this.$f.formatNumber2(n)}</span>\n              <span style="margin-top: 5px;display: block">${this.$t("time")}： ${c}</span>`}});return c},async getBars(e,t,i,o,l){const{from:a,to:r,firstDataRequest:s}=i;try{if(!this.initLoading)return this.initLoading=!0,o([],{noData:!0}),void this.chartData.forEach(e=>{this.onRealtimeCallback(e)});this.resolution!==t&&(this.resolution=t),s&&(this.loadingChange=!0,this.getKlineHistory(t,()=>{o([],{noData:!0}),this.chartData.forEach(e=>{this.onRealtimeCallback(e)}),this.loadingChange=!1}))}catch(n){l(n)}},subscribeBars(e,t,i,o,l){this.setData(),t===this.resolution&&(this.onRealtimeCallback=i,this.onResetCacheNeededCallback=l)},unsubscribeBars(e){},getKlineHistory(e=this.resolution,t=null){const i={"1D":"1440","1W":"10080"};return new Promise(o=>{this.pair.value?(this.unsubscribeKline(),Object(_api_index_js__WEBPACK_IMPORTED_MODULE_9__["jc"])(i[e]||e,this.pair.value).then(e=>{var i;this.chartData=(null===e||void 0===e||null===(i=e.slice)||void 0===i?void 0:i.call(e))||[],t&&t(),o(e),this.subscribeKline()}).catch(e=>{o([])}).finally(()=>{})):o([])})},setData(e=this.chartData){if(Array.isArray(e)){let t=e;t.length>0?this.$store.commit("setTokenInfoPrice",t[t.length-1].close):this.$store.commit("setTokenInfoPrice",0)}},subscribeKline(){},unsubscribeKline(){},formatLang(e){let t={en:"en","zh-cn":"zh","zh-tw":"zh_TW"};return t[e]||"en"},saveStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){var t;let e=null===(t=this.widget)||void 0===t?void 0:t.activeChart().getAllStudies();good_storage__WEBPACK_IMPORTED_MODULE_10__["a"].set("tradingViewStudies",e.filter(e=>"Volume"!==e.name))}},createStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){let e=good_storage__WEBPACK_IMPORTED_MODULE_10__["a"].get("tradingViewStudies",[]);e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e.name,!1,!1)})}}}}},fa85:function(e,t,i){e.exports=i.p+"static/img/unlock.636d2374.png"},fecd:function(e,t,i){}}]);